MSLO:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x1Shape
	Selectable:
		Bounds: 48,24
	Valued:
		Cost: 2500
	Tooltip:
		Name: Missile Silo
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 140
		Prerequisites: stek, ~techlevel.unrestricted, ~structures.soviet
		BuildLimit: 1
		Description: Provides an atomic bomb.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Atom Bomb
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	NukePower:
		PauseOnCondition: disabled || empdisable || being-warped
		Cursor: nuke
		Icon: abomb
		ChargeInterval: 13500
		Description: Atom Bomb
		LongDesc: \nLaunches a devastating atomic bomb at the target location,\n    dealing heavy damage over a large area.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSound: nukelaunch.aud
		IncomingSpeechNotification: AbombLaunchDetected
		LaunchSound: nukelaunch.aud
		MissileWeapon: atomic
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: atomicon
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		TrailImage: smokey2
		TrailSequences: idle
		TrailPalette: tseffect-ignore-lighting-alpha75
		CircleRanges: 6c512
		CircleColor: BB0000AA
		CircleBorderColor: 770000AA
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	ProductionCostMultiplier@IRAQBONUS:
		Multiplier: 90
		Prerequisites: player.iraq

GAP:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@AUTOTARGET: ^AutoTargetGround
	Valued:
		Cost: 1000
	Tooltip:
		Name: Gap Generator
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 110
		Prerequisites: atek, ~structures.allies, ~techlevel.high
		Description: Regenerates the shroud nearby, obscuring enemy vision.\n  Can channel the effect to reduce enemy weapon range\n  and create persisting areas that do the same.
	TooltipExtras:
		Attributes: • Requires power to operate
	Selectable:
		Bounds: 24,24
		DecorationBounds: 24,48,0,-12
	WithSpriteBody:
		PauseOnCondition: disabled || empdisable || being-warped
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Armament:
		Weapon: GapBeam
		LocalOffset: 0,0,1150
		MuzzleSequence: muzzle
		PauseOnCondition: cooldown
	Armament@SECONDARY:
		Name: secondary
		Weapon: VeilSpawner
		LocalOffset: 0,0,1150
		PauseOnCondition: charged < 7
		ReloadingCondition: cooldown
	GrantConditionOnAttack@charge:
		Condition: charged
		IsCyclic: true
		RevokeDelay: 25
		MaximumInstances: 7
		RevokeOnNewTarget: true
		RevokeAll: true
	WithMuzzleOverlay:
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	Turreted:
		TurnSpeed: 512
	WithBuildingBib:
		HasMinibib: true
	CreatesShroud:
		Range: 8c0
		RequiresCondition: !disabled && !empdisable && !being-warped
	RenderShroudCircle:
	-RenderRangeCircle:
	Power:
		Amount: -60
	MustBeDestroyed:
		RequiredForShortGame: false
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512

SPEN:
	Inherits: ^Building
	Inherits@WATERSTRUCTURE: ^WaterStructure
	Inherits@PRIMARY: ^PrimaryBuilding
	Selectable:
		Bounds: 72,48
	RenderSprites:
		PlayerPalette: playernavy
	InfiltrateForSupportPower:
		Proxy: powerproxy.sonarpulse
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Valued:
		Cost: 800
	Tooltip:
		Name: Sub Pen
	Buildable:
		Queue: Building
		BuildPaletteOrder: 220
		Prerequisites: anypower, ~structures.soviet, ~techlevel.navy, ~techlevel.low
		Description: Produces and repairs\nsubmarines and transports.
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	RequiresBuildableArea:
		Adjacent: 8
	-GivesBuildableArea:
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 384
		ExitCell: -1,2
		ProductionTypes: Submarine
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 640
		ExitCell: 3,2
		ProductionTypes: Submarine
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		Facing: 128
		ExitCell: 0,0
		ProductionTypes: Submarine
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		Facing: 896
		ExitCell: 2,0
		ProductionTypes: Submarine
	Exit@b1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		Facing: 640
		ExitCell: 0,2
		ProductionTypes: Ship
	Exit@b2:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,1024,0
		Facing: 896
		ExitCell: 2,2
		ProductionTypes: Ship
	Exit@b3:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,-1024,0
		Facing: 384
		ExitCell: 0,0
		ProductionTypes: Ship
	Exit@b4:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,-1024,0
		Facing: 128
		ExitCell: 2,0
		ProductionTypes: Ship
	Production:
		Produces: Ship, Submarine
		PauseOnCondition: forceshield || invulnerability || being-warped
	-SpawnActorsOnSell:
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	RallyPoint:
	ProductionBar:
		ProductionType: Ship
	Power:
		Amount: -30
	DetectCloaked:
		CloakTypes: Underwater
		Range: 10c0
		RequiresCondition: !(empdisable || being-warped)
	RenderDetectionCircle:
	ProvidesPrerequisite@buildingname:
	MapEditorData:
		ExcludeTilesets: INTERIOR
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -598
			BottomRight: 1536, 598
	HitShape@TOPANDBOTTOM:
		TargetableOffsets: 811,0,0, -811,0,0
		Type: Rectangle
			TopLeft: -555, -1110
			BottomRight: 555, 1110
	-SpawnActorOnDeath:
	-SpawnRandomActorOnDeath:

SYRD:
	Inherits: ^Building
	Inherits@WATERSTRUCTURE: ^WaterStructure
	Inherits@PRIMARY: ^PrimaryBuilding
	Selectable:
		Bounds: 72,48
	RenderSprites:
		PlayerPalette: playernavy
	InfiltrateForSupportPower:
		Proxy: powerproxy.sonarpulse
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Buildable:
		Queue: Building
		BuildPaletteOrder: 210
		Prerequisites: anypower, ~structures.allies, ~techlevel.navy, ~techlevel.low
		Description: Produces and repairs\nships and transports.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Naval Yard
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	RequiresBuildableArea:
		Adjacent: 8
	-GivesBuildableArea:
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		Facing: 640
		ExitCell: 0,2
		ProductionTypes: Ship, Boat
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,1024,0
		Facing: 896
		ExitCell: 2,2
		ProductionTypes: Ship, Boat
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,-1024,0
		Facing: 384
		ExitCell: 0,0
		ProductionTypes: Ship, Boat
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,-1024,0
		Facing: 128
		ExitCell: 2,0
		ProductionTypes: Ship, Boat
	Production:
		Produces: Ship, Boat
		PauseOnCondition: forceshield || invulnerability || being-warped
	-SpawnActorsOnSell:
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	RallyPoint:
	ProductionBar:
		ProductionType: Ship
	Power:
		Amount: -30
	DetectCloaked:
		CloakTypes: Underwater
		Range: 10c0
		RequiresCondition: !(empdisable || being-warped)
	RenderDetectionCircle:
	ProvidesPrerequisite@buildingname:
	MapEditorData:
		ExcludeTilesets: INTERIOR
	HitShape:
		TargetableOffsets: 768,0,0, 768,-1024,0, 768,1024,0
		Type: Rectangle
			TopLeft: -1536, -1152
			BottomRight: 1536, 598
	HitShape@BOTTOM:
		TargetableOffsets: -768,0,0
		Type: Rectangle
			TopLeft: -512, 598
			BottomRight: 512, 1110
	-SpawnActorOnDeath:
	-SpawnRandomActorOnDeath:

IRON:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x1Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: stek, ~structures.soviet, ~techlevel.unrestricted
		BuildLimit: 1
		Description: Makes a group of units invulnerable\n  for a short time.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Iron Curtain
	Valued:
		Cost: 1500
	Tooltip:
		Name: Iron Curtain
	Building:
		Footprint: xx
		Dimensions: 2,1
	Selectable:
		Bounds: 48,28,0,2
		DecorationBounds: 50,50,0,-12
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	GrantExternalConditionPowerCA@IRONCURTAIN:
		OrderName: ironcurtain
		Icon: invuln
		ChargeInterval: 4500
		Weapon: IronCurtain
		Description: Iron Curtain
		Condition: invulnerability
		Dimensions: 3, 3
		Footprint: _x_ xxx _x_
		ValidRelationships: Ally, Neutral, Enemy
		Duration: 600
		ActivationDelay: 0
		AirburstAltitude: 0c0
		AllowMultiple: false
		LongDesc: \nMakes selected vehicles and structures\n    temporarily invulnerable\n\nWarning: Harmful to Infantry.
		OnFireSound: ironcur9.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: IronCurtainReady
		BeginChargeSpeechNotification: IronCurtainCharging
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayTimerRelationships: Ally, Neutral, Enemy
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate

PDOX:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 120
		Prerequisites: atek, ~structures.allies, ~techlevel.unrestricted
		BuildLimit: 1
		Description: Can be used to teleports units anywhere on the map.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Chronoshift
	Valued:
		Cost: 1500
	Tooltip:
		Name: Chronosphere
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
		HasMinibib: true
	ValidFactions:
		Factions: england, france, germany, usa
	ProvidesPrerequisiteValidatedFaction@germany:
		Factions: germany
		Prerequisite: pdox.germany
	WithChronosphereOverlay:
		Image: chronobubble
		WarpInSequence: warpin
		WarpOutSequence: warpout
		Palette: ra2effect-ignore-lighting-alpha75
	ChronoshiftPower@chronoshift:
		OrderName: Chronoshift
		Prerequisites: !botplayer
		PauseOnCondition: disabled || empdisable || being-warped
		Duration: 600
		Icon: chrono
		ChargeInterval: 4500
		Description: Chronoshift
		LongDesc: \nTeleports selected units to a targeted location,\n    returning to their original location\n    after a short time.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		LaunchSound: chrono2.aud
		KillCargo: true
		DisplayRadarPing: True
		Dimensions: 5, 5
		Footprint: __x__ _xxx_ xxxxx _xxx_ __x__
		DisplayTimerRelationships: Ally, Neutral, Enemy
	DetonateWeaponPower@ChronoAI:
		OrderName: Chronoshiftai
		Prerequisites: botplayer
		Icon: chrono
		Cursor: ability
		ChargeInterval: 7000
		Description: Chronoshift
		ActivationDelay: 25
		LongDesc: \nTeleports selected units to a targeted location,\n    returning to their original location\n    after a short time.
		Weapon: ChronoAI
		AirburstAltitude: 0c0
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayRadarPing: True
		LaunchSound: chrono2.aud
		IncomingSound: chrono2.aud
	GrantExternalConditionPowerCA@TimeWarp:
		OrderName: TimeWarp
		Icon: timewarp
		Prerequisites: pdox.germany
		Cursor: ability
		ChargeInterval: 4500
		Description: Time Warp
		LongDesc: \nDisrupts time and space at the target location.\n    Affected units & structures are frozen in time,\n    unable to act, but immune to damage.
		Weapon: TimeWarp
		Condition: being-warped
		Duration: 375
		Dimensions: 3, 3
		ActivationDelay: 0
		Footprint: _x_ xxx _x_
		ValidRelationships: Ally, Enemy, Neutral
		AllowMultiple: false
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChronosphereCharging
		EndChargeSpeechNotification: ChronosphereReady
		DisplayTimerRelationships: Ally
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayBeacon: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		BeaconPoster: timewarpicon
		DisplayRadarPing: True
		LaunchSound: chrono2.aud
		IncomingSound: chrono2.aud
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate

TSLA:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@Flash: ^WhiteFlash
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: vehicles.any, ~structures.soviet, ~techlevel.high
		Description: Advanced base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units\n• Can be buffed or made work during low power by Shock Troopers
	Valued:
		Cost: 1200
	Tooltip:
		Name: Tesla Coil
	Selectable:
		DecorationBounds: 24,40,0,-8
	Health:
		HP: 36000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Targetable@TeslaBoost:
		TargetTypes: TeslaBoost
		RequiresCondition: !powerdown
	WithBuildingBib:
		HasMinibib: true
	WithTeslaChargeAnimation:
	Armament:
		Weapon: TeslaZap
		LocalOffset: 0,0,896
		RequiresCondition: (!lowpower && !charged) || (lowpower && charged == 1)
	Armament@1:
		Weapon: TeslaZapBoost1
		LocalOffset: 0,0,896
		RequiresCondition: (!lowpower && charged == 1) || (lowpower && charged == 2)
	Armament@2:
		Weapon: TeslaZapBoost2
		LocalOffset: 0,0,896
		RequiresCondition: (!lowpower && charged == 2) || (lowpower && charged >= 3)
	Armament@3:
		Weapon: TeslaZapBoost3
		LocalOffset: 0,0,896
		RequiresCondition: !lowpower && charged >= 3
	AttackTesla:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
		ChargeAudio: tslachg2.aud
		MaxCharges: 3
		ReloadDelay: 120
	Power:
		Amount: -100
	ProvidesPrerequisite@buildingname:
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	ProductionCostMultiplier@RussiaBonus:
		Multiplier: 90
		Prerequisites: player.russia
	GrantConditionOnPowerState@LOWPOWER:
		RequiresCondition: !charged
	ExternalCondition@CHARGED:
		Condition: charged
	WithDecoration@CHARGED:
		Image: poweroff
		Sequence: offline
		Palette: chrome
		Position: BottomLeft
		ValidRelationships: Ally
		RequiresCondition: charged
		BlinkInterval: 64
		RequiresSelection: true
	ProvidesPrerequisite@TSLA:
		Factions: soviet, russia, ukraine, iraq, yuri
		Prerequisite: structures.tsla

AGUN:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAirICBM
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: anyradar, ~structures.allies, ~techlevel.medium
		Description: Anti-aircraft base defense.
	TooltipExtras:
		Strengths: • Strong vs Aircraft
		Weaknesses: • Cannot attack ground units
		Attributes: • Requires power to operate\n• Can detect cloaked aircraft
	Valued:
		Cost: 800
	Tooltip:
		Name: AA Gun
	Selectable:
		DecorationBounds: 24,32,0,-4
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 60
		InitialFacing: 832
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	WithTurretAttackAnimation:
		Sequence: recoil
	Armament:
		Weapon: ZSU-23
		LocalOffset: 520,100,450, 520,-150,450
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -50
	ClassicFacingBodyOrientation:
	DetectCloaked:
		CloakTypes: AirCloak
		RequiresCondition: !(disabled || empdisable || being-warped)

DOME:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainableRadar
	Inherits@SOVIETRADARPOWERS: ^SovietRadarPowers
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: anyrefinery, ~structures.ra, ~techlevel.medium
		Description: Provides an overview of the battlefield.
	TooltipExtras:
		Attributes: • Requires power to operate\n• Detects nearby enemy vehicles, aircraft and structures in fog of war
	Valued:
		Cost: 1800
	Tooltip:
		Name: Radar Dome
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
	ProvidesRadar:
		RequiresCondition: !jammed && !disabled && !being-warped
	RangedGpsRadarProvider:
		Range: 12c0
		TargetTypes: Vehicle, Aircraft, Structure
		RequiresCondition: !jammed && !disabled && !being-warped
	WithRangeCircle:
		Range: 12c0
		RequiresCondition: !jammed && !disabled && !being-warped
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	Power:
		Amount: -40
	-PowerMultiplier@POWERDRAIN:
	ValidFactions:
		Factions: england, france, germany, usa, russia, ukraine, iraq, yuri
	ProvidesPrerequisite@anyradar:
		Prerequisite: anyradar
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisiteValidatedFaction@engrad:
		Factions: england
		Prerequisite: radar.england
	ProvidesPrerequisiteValidatedFaction@frarad:
		Factions: france
		Prerequisite: radar.france
	ProvidesPrerequisiteValidatedFaction@sovrad:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: radar.soviet
	ProvidesPrerequisiteValidatedFaction@rusrad:
		Factions: russia
		Prerequisite: radar.russia
	ProvidesPrerequisiteValidatedFaction@ukrrad:
		Factions: ukraine
		Prerequisite: radar.ukraine
	ProvidesPrerequisiteValidatedFaction@irarad:
		Factions: iraq
		Prerequisite: radar.iraq
	ProvidesPrerequisiteValidatedFaction@yurirad:
		Factions: yuri
		Prerequisite: radar.yuri
	ProvidesPrerequisite@radar-active:
		Prerequisite: radar-active
		RequiresCondition: !jammed && !disabled && !being-warped
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPowerCA@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.dome
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	ExternalCondition@JAMMED:
		Condition: jammed
	AirstrikePower@clustermines:
		ChargeInterval: 6000
		Prerequisites: ~radar.france, ~techlevel.unrestricted
		Description: Cluster Mines
		LongDesc: \nSends a cargo plane to drop a minefield\n    at the target location.
		OrderName: clustermine
		UnitType: c17.clustermines
		CameraActor: camera
		CameraRemoveDelay: 150
		QuantizedFacings: 8
		SquadSize: 1
		DisplayBeacon: true
		BeaconPoster: cmineicon
		Icon: cmines
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		RequiresCondition: !build-incomplete
	SpawnActorPowerCA@VeilOfWar:
		Actor: veilofwar1
		OrderName: veilofwar
		Icon: veilofwar
		IconPalette: chrometd
		Prerequisites: ~radar.england, ~techlevel.unrestricted
		ChargeInterval: 4500
		LifeTime: -1
		Description: Veil of War
		LongDesc: \nCreates an expanding area of shroud, reducing the vision\n    and weapon range of enemy units and defenses.
		LaunchSound: sscrambl.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayRadarPing: True
		DisplayTimerRelationships: Ally
		Cursor: ability
		AllowMultiple: false
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
		TargetCircleRange: 9c512
		TargetCircleColor: 999999AA
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

PBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Tooltip:
		Name: Pillbox
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 40
		Prerequisites: infantry.any, ~structures.pbox, ~techlevel.low
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 600
	CustomSellValue:
		Value: 300
	Health:
		HP: 34000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 512
	-QuantizeFacingsFromSequence:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	Armament:
		Weapon: vulcan
		LocalOffset: 341,0,86
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	RenderRangeCircle:
		FallbackRange: 6c0
	Power:
		Amount: -25
	WithMuzzleOverlay:
	DetectCloaked:
		Range: 5c0

HBOX:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Tooltip:
		Name: Camo Pillbox
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 50
		Prerequisites: infantry.any, ~structures.england, ~techlevel.low
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units\n• Camouflaged when idle
	Valued:
		Cost: 650
	CustomSellValue:
		Value: 350
	Health:
		HP: 34000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Cloak:
		InitialDelay: 125
		CloakDelay: 60
		IsPlayerPalette: true
		Palette: cloakra
		PauseOnCondition: cloak-force-disabled || being-warped
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Turreted:
		TurnSpeed: 512
	-QuantizeFacingsFromSequence:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	RenderRangeCircle:
		FallbackRange: 6c0
	Armament:
		Weapon: vulcan
		LocalOffset: 341,0,86
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	Power:
		Amount: -25
	-MustBeDestroyed:
	WithMuzzleOverlay:
	DetectCloaked:
		Range: 5c0

GUN:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 70
		Prerequisites: infantry.any, ~structures.allies, ~techlevel.medium
		Description: Basic anti-tank base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor
		Weaknesses: • Weak vs Infantry\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 800
	CustomSellValue:
		Value: 400
	Tooltip:
		Name: Turret
	Building:
	Health:
		HP: 36000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 48
		InitialFacing: 192
		RealignDelay: -1
		PauseOnCondition: empdisable || being-warped
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
		Recoils: false
	WithTurretAttackAnimation:
		Sequence: recoil
	Armament:
		Weapon: TurretGun
		LocalOffset: 512,0,112
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	WithMuzzleOverlay:
	Power:
		Amount: -40
	ClassicFacingBodyOrientation:
	DetectCloaked:
		Range: 5c0

FTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 60
		Prerequisites: infantry.any, ~structures.ftur, ~techlevel.low
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft\n• Has difficulty hitting moving targets
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 600
	CustomSellValue:
		Value: 300
	Tooltip:
		Name: Flame Tower
	Building:
	Health:
		HP: 34000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 512
		Offset: 0,0,112
	Armament:
		Weapon: FireballLauncher
		LocalOffset: 512,0,0
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	-QuantizeFacingsFromSequence:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	Power:
		Amount: -25
	ProvidesPrerequisite@buildingname:
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	DetectCloaked:
		Range: 5c0

SAM:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAirICBM
	Inherits@SHAPE: ^2x1Shape
	Selectable:
		Bounds: 48,24
	HitShape:
		Type: Rectangle
			TopLeft: -768,-512
			BottomRight: 768,512
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 100
		Prerequisites: anyradar, ~structures.soviet, ~techlevel.medium
		Description: Anti-aircraft base defense.
	TooltipExtras:
		Strengths: • Strong vs Aircraft
		Weaknesses: • Cannot attack ground units
		Attributes: • Requires power to operate\n• Can detect cloaked aircraft
	Valued:
		Cost: 750
	Tooltip:
		Name: SAM Site
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 120
		InitialFacing: 0
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: Nike
		LocalOffset: 0,0,320
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -40
	ClassicFacingBodyOrientation:
	DetectCloaked:
		CloakTypes: AirCloak
		RequiresCondition: !(disabled || empdisable || being-warped)

ATEK:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	Buildable:
		Queue: Building
		BuildPaletteOrder: 140
		Prerequisites: vehicles.any, anyradar, ~structures.allies, ~techlevel.high
		Description: Provides Allied advanced technologies.
	TooltipExtras:
		Attributes: • Requires power to operate\n• Special Ability: GPS Satellite
	Valued:
		Cost: 1800
	Tooltip:
		Name: Allied Tech Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	DummyGpsPower@NOFOG:
		PauseOnCondition: disabled || being-warped
		RequiresCondition: !gps-launched && !fogenabled
		Delay: 12000
		AnimationDuration: 375
		LaunchSpeechNotification: SatelliteLaunched
		Condition: gps-launched
	DummyGpsPower@FOG:
		PauseOnCondition: disabled || being-warped
		RequiresCondition: !gps-launched && fogenabled
		Delay: 3000
		AnimationDuration: 375
		LaunchSpeechNotification: SatelliteLaunched
		Condition: gps-launched
	ProduceActorPowerCA@SatelliteLaunched:
		Actors: gps.satellite
		Type: SpySatellite
		ChargeInterval: 0
		OneShot: true
		OrderName: ProduceActorSat
		AutoFire: True
		RequiresCondition: gps-launched && fogenabled
	SupportPowerChargeBar:
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: techcenter
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.atek
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SabInfiltrate
	ProduceActorPowerCA@InitialSatelliteScan:
		PauseOnCondition: disabled || empdisable || being-warped
		Prerequisites: anyradar, ~!gps.satellite.firstscan, ~fogenabled
		Description: Spy Satellite
		LongDesc: \nPeriodically reveals the entire map\n    for a short time (activated automatically).
		Icon: gps
		Actors: camera.satscan, gps.satellite.firstscan
		Type: SpySatellite
		ChargeInterval: 8250
		OrderName: InitialSatelliteScanPower
		AutoFire: True
		DisplayTimerRelationships: Ally
	ProduceActorPowerCA@SatelliteScan:
		PauseOnCondition: disabled || empdisable || being-warped
		Prerequisites: anyradar, ~gps.satellite, ~gps.satellite.firstscan, ~fogenabled
		Description: Spy Satellite
		LongDesc: \nPeriodically reveals the entire map\n    for a short time (activated automatically).
		Icon: gps
		Actors: camera.satscan
		Type: SpySatellite
		ChargeInterval: 5250
		OrderName: SatelliteScanPower
		AutoFire: True
		DisplayTimerRelationships: Ally, Neutral, Enemy
	ProduceActorPowerCA@SatelliteScanNoFog:
		PauseOnCondition: disabled || empdisable || being-warped
		Prerequisites: anyradar, ~!fogenabled
		Description: Spy Satellite
		LongDesc: \nPermanently reveals the entire map (activated automatically).
		Icon: gps
		Actors: camera.satscan.oneshot
		Type: SpySatellite
		ChargeInterval: 12000
		OneShot: True
		OrderName: SatelliteScanNoFogPower
		AutoFire: True
		DisplayTimerRelationships: Ally, Neutral, Enemy
	GrantExternalConditionPowerCA@FSHIELD:
		OrderName: fshield
		Icon: forceshield
		ChargeInterval: 7500
		Condition: forceshield
		Dimensions: 7, 7
		Footprint: ___x___ __xxx__ _xxxxx_ xxxxxxx _xxxxx_ __xxx__ ___x___
		Duration: 250
		Prerequisites: forceshield.enabled, techlevel.high
		Weapon: ForceShield
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Sequence: false-active
		Description: Force Shield
		LongDesc: \nMakes selected friendly structures temporarily invulnerable.\n\nWarning: Causes power failure.
		OnFireSound: forceon.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: ForceShieldReady
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable ||  being-warped
	DetonateWeaponPower@TEMPINC:
		OrderName: tempinc
		Prerequisites: atek.germany
		Icon: tempinc
		Cursor: ability
		ChargeInterval: 10500
		Description: Temporal Incursion
		ActivationDelay: 25
		LongDesc: \nSummons reinforcements from the future.\n    Units return to their origin time after a short time.
		Weapon: TemporalIncursion
		AirburstAltitude: 0c0
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: Reinforce
		DisplayTimerRelationships: Ally, Neutral
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayRadarPing: True
		LaunchSound: chrono2.aud
		IncomingSound: chrono2.aud
		Sequence: idle
		TargetCircleRange: 5c0
		TargetCircleColor: 77ffffff
	GrantConditionOnFogEnabled@FOGENABLED:
		Condition: fogenabled
	ExternalCondition@DUMMY:
		Condition: gps-launched
	GrantConditionOnPrerequisite@PREVGPS:
		Condition: gps-launched
		Prerequisites: gps.satellite
	GrantConditionOnPrerequisite@PREVGPSSCAN:
		Condition: gps-firstscan
		Prerequisites: gps.satellite.firstscan
	SpawnActorOnDeath@GPS:
		Actor: gps.satellite.firstscan
		SpawnAfterDefeat: false
		RequiresCondition: gps-launched && !gps-firstscan && fogenabled
	SpawnActorOnSell@GPS:
		Actor: gps.satellite.firstscan
		RequiresCondition: gps-launched && !gps-firstscan && fogenabled
	ProvidesPrerequisite@FOGENABLED:
		Prerequisite: fogenabled
		RequiresCondition: fogenabled
	ValidFactions:
		Factions: england, germany, france, usa
	ProvidesPrerequisiteValidatedFaction@germanyatek:
		Factions: germany
		Prerequisite: atek.germany
	ProvidesPrerequisiteValidatedFaction@usaatek:
		Factions: usa
		Prerequisite: atek.usa
	Production:
		Produces: Upgrade, SpySatellite
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

WEAP:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@NOMCV: ^UnlocksMcvIfNoneOwned
	Selectable:
		Bounds: 72,48
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: anyrefinery, ~structures.ra, ~techlevel.low
		Description: Produces vehicles.
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
	Building:
		Footprint: xxx xxx +++
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	WithProductionDoorOverlayCA:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 213,-128,0
		ExitCell: 1,2
	Production:
		Produces: Vehicle, Paradrop, Powersuit
		PauseOnCondition: forceshield || invulnerability || being-warped
	ValidFactions:
		Factions: england, france, germany, usa, russia, ukraine, iraq, yuri
	ProvidesPrerequisite@any:
		Prerequisite: vehicles.any
	ProvidesPrerequisite@human:
		Prerequisite: vehicles.human
	ProvidesPrerequisiteValidatedFaction@allies:
		Factions: england, france, germany, usa
		Prerequisite: vehicles.allies
	ProvidesPrerequisite@ra:
		Prerequisite: vehicles.ra
	ProvidesPrerequisiteValidatedFaction@england:
		Factions: england
		Prerequisite: vehicles.england
	ProvidesPrerequisiteValidatedFaction@france:
		Factions: france
		Prerequisite: vehicles.france
	ProvidesPrerequisiteValidatedFaction@germany:
		Factions: germany
		Prerequisite: vehicles.germany
	ProvidesPrerequisiteValidatedFaction@usa:
		Factions: usa
		Prerequisite: vehicles.usa
	ProvidesPrerequisiteValidatedFaction@soviet:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: vehicles.soviet
	ProvidesPrerequisiteValidatedFaction@russia:
		Factions: russia
		Prerequisite: vehicles.russia
	ProvidesPrerequisiteValidatedFaction@ukraine:
		Factions: ukraine
		Prerequisite: vehicles.ukraine
	ProvidesPrerequisiteValidatedFaction@iraq:
		Factions: iraq
		Prerequisite: vehicles.iraq
	ProvidesPrerequisiteValidatedFaction@yuri:
		Factions: yuri
		Prerequisite: vehicles.yuri
	ProvidesPrerequisiteValidatedFaction@mrj:
		Factions: england, france, germany, usa
		Prerequisite: vehicles.mrj
	ProvidesPrerequisiteValidatedFaction@ifv:
		Factions: england, france, germany, usa
		Prerequisite: vehicles.ifv
	ProvidesPrerequisiteValidatedFaction@v2:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: vehicles.v2
	ProvidesPrerequisiteValidatedFaction@2tnk:
		Factions: france, germany, usa
		Prerequisite: vehicles.2tnk
	ProvidesPrerequisiteValidatedFaction@3tnk:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: vehicles.3tnk
	ProvidesPrerequisiteValidatedFaction@qtnk:
		Factions: russia, ukraine, iraq
		Prerequisite: vehicles.qtnk
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	InfiltrateForSupportPower:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPowerCA@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.weap
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuilding
	GrantExternalConditionToProduced@DRONEEXIT:
		Condition: radarenabled
		Duration: 100

FACT:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@BOTI: ^BotFallbackInsurance
	Selectable:
		Bounds: 72,72
	Building:
		Footprint: xxX xxx XxX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		Description: Produces structures.
	ValidFactions:
		Factions: england, france, germany, usa, russia, ukraine, iraq, yuri
	ProvidesPrerequisite@ra:
		Prerequisite: structures.ra
	ProvidesPrerequisiteValidatedFaction@allies:
		Factions: england, france, germany, usa
		Prerequisite: structures.allies
	ProvidesPrerequisiteValidatedFaction@england:
		Factions: england
		Prerequisite: structures.england
	ProvidesPrerequisiteValidatedFaction@france:
		Factions: france
		Prerequisite: structures.france
	ProvidesPrerequisiteValidatedFaction@germany:
		Factions: germany
		Prerequisite: structures.germany
	ProvidesPrerequisiteValidatedFaction@usa:
		Factions: usa
		Prerequisite: structures.usa
	ProvidesPrerequisiteValidatedFaction@soviet:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: structures.soviet
	ProvidesPrerequisiteValidatedFaction@russia:
		Factions: russia
		Prerequisite: structures.russia
	ProvidesPrerequisiteValidatedFaction@ukraine:
		Factions: ukraine
		Prerequisite: structures.ukraine
	ProvidesPrerequisiteValidatedFaction@iraq:
		Factions: iraq
		Prerequisite: structures.iraq
	ProvidesPrerequisiteValidatedFaction@yuri:
		Factions: yuri
		Prerequisite: structures.yuri
	ProvidesPrerequisite@wall:
		Prerequisite: structures.wall
	ProvidesPrerequisiteValidatedFaction@sandbag:
		Factions: england, france, germany, usa
		Prerequisite: structures.sandbag
	ProvidesPrerequisiteValidatedFaction@apwr:
		Factions: england, france, germany, usa, ukraine, iraq, yuri
		Prerequisite: structures.apwr
	ProvidesPrerequisiteValidatedFaction@pbox:
		Factions: france, germany, usa
		Prerequisite: structures.pbox
	ProvidesPrerequisiteValidatedFaction@pris:
		Factions: england, germany, usa
		Prerequisite: structures.pris
	ProvidesPrerequisiteValidatedFaction@ftur:
		Factions: russia, ukraine, yuri
		Prerequisite: structures.ftur
	ProvidesPrerequisite@anyconyard:
		Prerequisite: anyconyard
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Production:
		Produces: Building, Defense
		PauseOnCondition: forceshield || invulnerability || being-warped
	Valued:
		Cost: 3000
	Tooltip:
		Name: Construction Yard
	BaseBuilding:
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || c4 || tnt || build-incomplete || being-warped || hacked
		IntoActor: mcv
		Offset: 1,1
		Facing: 384
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, rep
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !c4 && !being-warped && !hacked
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Defense:
		ProductionType: Defense
		Color: 8A8A8A
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingBib:
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	HitShape:
		TargetableOffsets: 1273,939,0, -980,-640,0, -980,640,0
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	SpawnActorsOnSell:
		ActorTypes: e1,e1,e1,e1,e6

PROC:
	Inherits: ^Building
	Inherits@BOTREF: ^BotRefinery
	Buildable:
		Queue: Building
		BuildPaletteOrder: 60
		Prerequisites: anypower, ~structures.ra, ~techlevel.infonly
		Description: Processes raw Tiberium, Ore\n  and Gems into credits.
		BuildDuration: 1400
	Valued:
		Cost: 1800
	Tooltip:
		Name: Ore Refinery
	Building:
		Footprint: _X_ xxx X++ ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,50,0,4
		DecorationBounds: 72,70,0,-2
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: ThiefInfiltrate
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Refinery:
		DockAngle: 256
		DockOffset: 1,2
	StoresResources:
		Capacity: 2000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 17
		FullSequence: pip-yellow
	CustomSellValue:
		Value: 400
	GrantConditionOnPrerequisite@CHARVUPG:
		Prerequisites: charv.upgrade
		Condition: charv-upgraded
	GrantConditionOnPrerequisite@NOCHARVUPG:
		Prerequisites: !charv.upgrade
		Condition: charv-notupgraded
	GrantCondition@SPAWNHARV:
		Condition: spawn-harv
		GrantPermanently: true
		RequiresCondition: charv-notupgraded
	GrantCondition@SPAWNCHARV:
		Condition: spawn-charv
		GrantPermanently: true
		RequiresCondition: charv-upgraded
	FreeActor:
		Actor: HARV
		SpawnOffset: 1,2
		Facing: 256
		RequiresCondition: spawn-harv && !spawn-charv && !build-incomplete
	FreeActor@CHARV:
		Actor: HARV.Chrono
		SpawnOffset: 1,2
		Facing: 256
		RequiresCondition: spawn-charv && !spawn-harv && !build-incomplete
	InfiltrateForCash:
		Percentage: 50
		Types: ThiefInfiltrate
		InfiltrationNotification: CreditsStolen
	WithBuildingBib:
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	Power:
		Amount: -30
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@anyrefinery:
		Prerequisite: anyrefinery
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 598
	HitShape@TOP:
		TargetableOffsets: 1680,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	HitShape@BOTTOMLEFT:
		TargetableOffsets: -1260,-1024,0
		Type: Rectangle
			TopLeft: -1536, 598
			BottomRight: -512, 1280
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: idle
		SequencePalette: placebuilding
	CashHackable:

SILO:
	Inherits: ^Building
	Selectable:
		Bounds: 24,24
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 35
		Prerequisites: anyrefinery, ~structures.ra, ~techlevel.infonly
		Description: Stores excess refined\nTiberium, Ore and Gems.
	Valued:
		Cost: 150
	Tooltip:
		Name: Silo
	-GivesBuildableArea:
	Health:
		HP: 30000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 3000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
		FullSequence: pip-yellow
	-MustBeDestroyed:
	-SpawnActorsOnSell:
	Power:
		Amount: -10
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode

^SovietRadarPowers:
	ProvidesPrerequisiteValidatedFaction@paratroopers:
		Factions: ukraine, iraq
		Prerequisite: support.paratroopers
	ProvidesPrerequisiteValidatedFaction@stormtroopers:
		Factions: russia
		Prerequisite: support.stormtroopers
	ParatroopersPower@paratroopers:
		OrderName: paratroopers
		UnitType: halo.paradrop
		Prerequisites: ~support.paratroopers, ~techlevel.low
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: paratroopers
		ChargeInterval: 7500
		Description: Paratroopers
		LongDesc: \nDispatches a Halo transport to drop a squad of infantry\n    anywhere on the map.
		SquadSize: 1
		SquadOffset: 0,1792,0
		DropItems: E1,E1,E2,E3,E3,E1,E1,E1
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: Reinforce
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	ParatroopersPower@Russianparatroopers:
		OrderName: stormtroopers
		UnitType: halo.paradrop
		Prerequisites: ~radar.russia, ~techlevel.high
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: stormtroopers
		ChargeInterval: 9000
		Description: Storm-troopers
		LongDesc: \nDispatches a Halo transport to drop a squad of Shock Troopers\n    anywhere on the map.
		SquadSize: 1
		SquadOffset: 0,1792,0
		DropItems: SHOK,SHOK,SHOK,SHOK,SHOK
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: Reinforce
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@spyplane:
		OrderName: spyplane
		Icon: spyplane
		Prerequisites: ~radar.soviet
		PauseOnCondition: disabled || empdisable || being-warped
		ChargeInterval: 3000
		Description: Spy Plane
		LongDesc: \nDispatches a spy plane that reveals the target location\n    for a limited time.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		LaunchSound: spyplane.aud
		CameraActor: camera.spyplane
		CameraRemoveDelay: 150
		UnitType: u2
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: camicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: true
		DirectionArrowAnimation: paradirection

^SovietBombingPowers:
	ProvidesPrerequisiteValidatedFaction@parabombs:
		Factions: russia, yuri
		Prerequisite: support.parabombs
	AirstrikePower@Russianparabombs:
		OrderName: parabombs
		Prerequisites: ~support.parabombs, ~techlevel.unrestricted
		PauseOnCondition: empdisable || being-warped
		Icon: parabombs
		ChargeInterval: 7500
		Description: Parabombs
		LongDesc: \nCalls in a Badger bomber which drops parachuted\n    bombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: badr.bomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: pbmbicon
		SquadSize: 1
		SquadOffset: 0,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@CarpetBomb:
		OrderName: carpetbomb
		Prerequisites: ~radar.ukraine, ~techlevel.unrestricted
		PauseOnCondition: empdisable || being-warped
		Icon: carpetbomb
		ChargeInterval: 10500
		Description: Carpet Bomb
		LongDesc: \nCalls in a squad of Badgers which drop\n    bombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: badr.cbomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: a10airstrike
		BeaconPosterPalette: temptd
		SquadSize: 3
		ArrowSequence: arrow
		ClockSequence: clockTD
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@Iraqiparabombs:
		OrderName: atombomb
		Prerequisites: ~radar.iraq, ~techlevel.unrestricted
		PauseOnCondition: empdisable || being-warped
		Icon: abombair
		ChargeInterval: 10500
		Description: Atomic Bomb
		LongDesc: \nCalls in a a Badger bomber which drops an\n    atom bomb on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: badr.nbomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: nukeicon
		SquadSize: 1
		SquadOffset: 0,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@MutaBomb:
		OrderName: mutabomb
		Prerequisites: ~radar.yuri, ~techlevel.unrestricted
		PauseOnCondition: empdisable || being-warped
		Icon: mutabomb
		IconPalette: scrin
		ChargeInterval: 6750
		Description: Genetic Mutation Bomb
		LongDesc: \nCalls in a Badger bomber which drops a genetic\n    mutation bomb on your target, transforming\n    infantry into Brutes under your control.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: badr.mbomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: gmutation
		BeaconPosterPalette: chromes
		SquadSize: 1
		SquadOffset: 0,1792,0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection

HPAD:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@SOVIETBOMBINGPOWERS: ^SovietBombingPowers
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 120
		Prerequisites: radarorrepair, ~structures.ra, ~techlevel.infonly
		Description: Produces and reloads helicopters.
	Valued:
		Cost: 500
	Tooltip:
		Name: Helipad
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-256,0
		ExitCell: 0,0
		Facing: 896
	RallyPoint:
	Production:
		Produces: Aircraft, Helicopter
		PauseOnCondition: forceshield || invulnerability || being-warped
	Reservable:
	ProductionBar:
		ProductionType: Aircraft
	Power:
		Amount: -20
	ValidFactions:
		Factions: england, france, germany, usa, russia, ukraine, iraq, yuri
	ProvidesPrerequisiteValidatedFaction@allies:
		Factions: england, france, germany, usa
		Prerequisite: aircraft.allies
	ProvidesPrerequisiteValidatedFaction@usa:
		Factions: usa
		Prerequisite: aircraft.usa
	ProvidesPrerequisiteValidatedFaction@soviets:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: aircraft.soviet
	ProvidesPrerequisiteValidatedFaction@russia:
		Factions: russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisiteValidatedFaction@ukraine:
		Factions: ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisiteValidatedFaction@iraq:
		Factions: iraq
		Prerequisite: aircraft.iraq
	ProvidesPrerequisiteValidatedFaction@yuri:
		Factions: yuri
		Prerequisite: aircraft.yuri
	ProvidesPrerequisiteValidatedFaction@chinookvisible:
		Factions: allies, england, france, germany, gdi, zocom, eagle, talon, arc, nod, blackh, legion, marked, shadow
		Prerequisite: aircraft.chinookvisible
	ProvidesPrerequisiteValidatedFaction@chinook:
		Factions: allies, england, france, germany, gdi, zocom, eagle, talon, arc, nod, blackh, legion, marked, shadow
		Prerequisite: aircraft.chinook
	ProvidesPrerequisiteValidatedFaction@nhaw:
		Factions: usa
		Prerequisite: aircraft.nhaw
	ProvidesPrerequisiteValidatedFaction@hind:
		Factions: russia, ukraine, yuri
		Prerequisite: aircraft.hind
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: powerproxy.paratroopers.allies
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	ClassicAirstrikePower@Strafe:
		OrderName: strafe
		Squad:
			p51:
				SpawnDelay: 20
				SpawnOffset: -1536,1024,0
				TargetOffset: -536,0,0
			p51:
				SpawnDelay: 0
				SpawnOffset: 0,0,0
				TargetOffset: 0,0,0
			p51:
				SpawnDelay: 20
				SpawnOffset: -1536,-1024,0
				TargetOffset: 536,0,0
		Prerequisites: ~aircraft.usa, ~techlevel.unrestricted
		Icon: strafe
		ChargeInterval: 7500
		Description: Strafing Run
		LongDesc: \nCalls in P51 ground attack planes to perform\n    strafing runs on the target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: strafe
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Strikes: 3
		CircleDelay: 40

AFLD:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@SOVIETBOMBINGPOWERS: ^SovietBombingPowers
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,0,0, 420,-1024,0, 420,1024,0, -777,0,0, -777,-1024,0, -777,1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 130
		Prerequisites: radarorrepair, ~structures.soviet, ~techlevel.low
		Description: Produces and reloads aircraft.
	Valued:
		Cost: 500
	Tooltip:
		Name: Airfield
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 768
	RallyPoint:
	Production:
		Produces: Aircraft, Plane
		PauseOnCondition: forceshield || invulnerability || being-warped
	Reservable:
	ProvidesPrerequisite@soviet:
		Factions: russia, ukraine, iraq, yuri
		Prerequisite: aircraft.soviet
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: aircraft.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: aircraft.ukraine
	ProvidesPrerequisite@iraq:
		Factions: iraq
		Prerequisite: aircraft.iraq
	ProvidesPrerequisite@yuri:
		Factions: yuri
		Prerequisite: aircraft.yuri
	ProductionBar:
		ProductionType: Aircraft
	SupportPowerChargeBar:
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
		Prerequisite: afld
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	InfiltrateForSupportPower:
		Proxy: powerproxy.airstrike
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete

POWR:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~techlevel.infonly, ~structures.ra
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: 100
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

APWR:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^3x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: -355,-1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 110
		Prerequisites: anyradar, ~techlevel.medium, ~structures.apwr
		Description: Provides double the power of\n  a standard Power Plant.
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xxx Xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,48
		DecorationBounds: 72,68,0,-10
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 200
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

NPWR:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^3x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: -355,-1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 165
		Prerequisites: stek, ~structures.soviet, ~techlevel.high
		Description: Provides ten times the power of\n  a standard Power Plant.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Atomic Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xxxx Xxxx ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 96,72
		DecorationBounds: 96,92,0,-10
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 1000
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate
	WithIdleOverlay@SMOKE1:
		Offset: 3400,-1400,0
		Image: smokestack
		Sequence: idle1
		Palette: effect-ignore-lighting-alpha50
		RequiresCondition: !(empdisable || being-warped || build-incomplete)
	WithIdleOverlay@SMOKE2:
		Offset: 2600,1300,0
		Image: smokestack
		Sequence: idle2
		Palette: effect-ignore-lighting-alpha50
		RequiresCondition: !(empdisable || being-warped || build-incomplete)
	WithIdleOverlay@SMOKE3:
		Offset: 4800,600,0
		Image: smokestack
		Sequence: idle3
		Palette: effect-ignore-lighting-alpha50
		RequiresCondition: !(empdisable || being-warped || build-incomplete)
	Explodes:
		Type: CenterPosition
		Weapon: CrateNuke
		EmptyWeapon: CrateNuke
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisiteValidatedFaction@iraq:
		Factions: iraq
		Prerequisite: npwr.iraq
	SupportPowerChargeBar:
	GrantExternalConditionPower@ATOMICAMMO:
		OrderName: atomicammo
		Icon: atomicammo
		ChargeInterval: 4500
		Description: Atomic Ammunition
		Condition: atomic-ammo
		Dimensions: 5, 5
		Footprint: __x__ _xxx_ xxxxx _xxx_ __x__
		ValidRelationships: Ally, Neutral
		Duration: 600
		AllowMultiple: false
		LongDesc: \nGrants atomic ammunition to tanks for a limited time.
		OnFireSound: atomicammo.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: empdisable || being-warped
		DisplayTimerRelationships: Ally, Neutral
		Sequence: idle

TPWR:
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits: APWR
	Buildable:
		Prerequisites: anyradar, ~techlevel.medium, ~structures.russia
		Description: Provides double the power of\n  a standard Power Plant.\n  Can divert half its power output to allow striking enemy targets.
	TooltipExtras:
		Weaknesses: • Unstable when damaged and channeling is enabled
		Attributes: • Special Ability: Toggle Channeled Mode
	Valued:
		Cost: 600
	Tooltip:
		Name: Tesla Reactor
	WithIdleOverlay@POWER:
		Offset: -20,-70,0
		Sequence: power
		RequiresCondition: overcharge && !(empdisable || being-warped || build-incomplete)
	WithDecoration@CHANNELED:
		Image: poweron
		Sequence: online
		Palette: chrome
		RequiresCondition: overcharge
		Position: Center
	CommandBarBlacklist:
		DisableStop: false
	Armament@PRIMARY:
		Weapon: TTrackZap
		LocalOffset: 0,0,512
		RequiresCondition: overcharge && !tarc-upgrade
	Armament@PRIMARYUPG:
		Weapon: TTrackZap.UPG
		LocalOffset: 0,0,512
		RequiresCondition: overcharge && tarc-upgrade
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped || build-incomplete
	Turreted:
	RangeMultiplier:
		Modifier: 85
	RenderRangeCircle:
		Color: C12900
	GrantConditionOnPrerequisite@TARC:
		Condition: tarc-upgrade
		Prerequisites: tarc.upgrade
	GrantConditionOnDeploy@OVERCHARGE:
		DeploySounds: btesat1a.aud
		UndeploySounds: btesat1a.aud
		DeployedCondition: overcharge
		SkipMakeAnimation: true
		RequiresCondition: !(empdisable || being-warped || build-incomplete)
	GrantConditionOnDamageState@VOLATILE:
		Condition: volatile
		ValidDamageStates: Heavy, Critical
	PowerMultiplier:
		Modifier: 50
		RequiresCondition: overcharge
	PeriodicExplosion:
		Weapon: TPWRZap
		RequiresCondition: overcharge && volatile
	SoundOnDamageTransition:
		DamagedSounds: bpowdiea.aud
		DestroyedSounds: bpowdieb.aud
	GrantConditionOnDamageState@MINORDAMAGE:
		Condition: minordamage
		ValidDamageStates: Light, Medium
	GrantPeriodicCondition@BOTHELPER:
		Condition: overcharge
		CooldownDuration: 25
		ActiveDuration: 375
		StartsGranted: false
		ShowSelectionBar: false
		RequiresCondition: minordamage && (owned-by-brutal-ai || owned-by-hard-ai || owned-by-normal-ai || owned-by-easy-ai || owned-by-naval-ai)

STEK:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	Selectable:
		Bounds: 72,48
	HitShape:
		TargetableOffsets: 420,-768,0, 420,768,0, -770,-768,0, -770,768,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 150
		Prerequisites: vehicles.any, anyradar, ~structures.soviet, ~techlevel.high
		Description: Provides Soviet advanced technologies.
	Valued:
		Cost: 1800
	Tooltip:
		Name: Soviet Tech Center
	Building:
		Footprint: XxX XxX ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ValidFactions:
		Factions: russia, ukraine, iraq, yuri
	ProvidesPrerequisiteValidatedFaction@russia:
		Factions: russia
		Prerequisite: stek.russia
	ProvidesPrerequisiteValidatedFaction@ukraine:
		Factions: ukraine
		Prerequisite: stek.ukraine
	ProvidesPrerequisiteValidatedFaction@iraq:
		Factions: iraq
		Prerequisite: stek.iraq
	GrantExternalConditionPowerCA@FSHIELD:
		OrderName: fshield
		Icon: forceshield
		ChargeInterval: 7500
		Condition: forceshield
		Dimensions: 7, 7
		Footprint: ___x___ __xxx__ _xxxxx_ xxxxxxx _xxxxx_ __xxx__ ___x___
		Duration: 250
		Prerequisites: forceshield.enabled, techlevel.high
		Weapon: ForceShield
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Description: Force Shield
		LongDesc: \nMakes selected friendly structures temporarily invulnerable.\n\nWarning: Causes power failure.
		OnFireSound: forceon.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: ForceShieldReady
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable ||  being-warped
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.stek
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SabInfiltrate
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

BARR:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 490,-470,0, 355,512,0, -355,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.soviet, ~techlevel.infonly
		Description: Trains infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Soviet Barracks
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: -1,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 2,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: forceshield || invulnerability || being-warped
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	ProvidesPrerequisite@infantryany:
		Prerequisite: infantry.any
	ProvidesPrerequisite@human:
		Prerequisite: infantry.human
	ProvidesPrerequisite@infantryra:
		Prerequisite: infantry.ra
	ProvidesPrerequisite@russia:
		Factions: russia
		Prerequisite: infantry.russia
	ProvidesPrerequisite@ukraine:
		Factions: ukraine
		Prerequisite: infantry.ukraine
	ProvidesPrerequisite@iraq:
		Factions: iraq
		Prerequisite: infantry.iraq
	ProvidesPrerequisite@yuri:
		Factions: yuri
		Prerequisite: infantry.yuri
	ProvidesPrerequisite@e2:
		Factions: russia, iraq, yuri
		Prerequisite: infantry.e2
	ProvidesPrerequisite@thf:
		Prerequisite: infantry.thf
	ProvidesPrerequisite@boris:
		Factions: russia, iraq, ukraine
		Prerequisite: infantry.boris
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.barr
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate

KENN:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Selectable:
		Bounds: 24,24
	Buildable:
		Queue: Building
		BuildPaletteOrder: 205
		Prerequisites: anypower, ~structures.soviet, ~techlevel.infonly
		Description: Trains Attack Dogs.
	Valued:
		Cost: 200
	Tooltip:
		Name: Kennel
	-GivesBuildableArea:
	Health:
		HP: 30000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: True
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -280,400,0
		ExitCell: 0,1
		ProductionTypes: Dog, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -280,400,0
		ExitCell: -1,0
		ProductionTypes: Dog, Infantry
	Production:
		Produces: Infantry, Dog
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Infantry
	-SpawnActorsOnSell:
	Power:
		Amount: -10
	ProvidesPrerequisite@buildingname:

TENT:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.allies, ~techlevel.infonly
		Description: Trains infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Allied Barracks
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: -1,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 2,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: forceshield || invulnerability || being-warped
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	ProvidesPrerequisite@infantryany:
		Prerequisite: infantry.any
	ProvidesPrerequisite@human:
		Prerequisite: infantry.human
	ProvidesPrerequisite@infantryra:
		Prerequisite: infantry.ra
	ProvidesPrerequisite@england:
		Factions: england
		Prerequisite: infantry.england
	ProvidesPrerequisite@france:
		Factions: france
		Prerequisite: infantry.france
	ProvidesPrerequisite@germany:
		Factions: germany
		Prerequisite: infantry.germany
	ProvidesPrerequisite@usa:
		Factions: usa
		Prerequisite: infantry.usa
	ProvidesPrerequisite@mech:
		Prerequisite: infantry.mech
	ProvidesPrerequisite@medi:
		Prerequisite: infantry.medi
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.tent
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate

FIX:
	Inherits: ^Building
	Buildable:
		Queue: Building
		BuildPaletteOrder: 100
		Prerequisites: vehicles.any, ~structures.ra, ~techlevel.medium
		Description: Repairs vehicles for credits.
	TooltipExtras:
		Attributes: • Nearby helipads/airfields will repair landed aircraft
	Valued:
		Cost: 1000
	Tooltip:
		Name: Service Depot
	Building:
		Footprint: _+_ +++ _+_
		Dimensions: 3,3
	Selectable:
		Bounds: 68,34,0,3
		DecorationBounds: 72,48
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Reservable:
	RallyPoint:
	RepairsUnits:
		ValuePercentage: 0
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	WithBuildingBib:
		HasMinibib: true
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@repair:
		Prerequisite: repair
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisite@allowsmcv:
		Prerequisite: vehicles.mcv
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 10c0
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: 888899AA
		Range: 10c0

SBAG:
	Inherits: ^Wall
	RenderSprites:
		-PlayerPalette:
		Palette: effect
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 10
		Prerequisites: ~structures.sandbag, ~techlevel.low
		Description: • Stops infantry and light vehicles\n• Can be crushed by tanks
	Valued:
		Cost: 30
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Sandbag Wall
	Health:
		HP: 15000
	Armor:
		Type: Brick
	LineBuild:
		NodeTypes: sandbag
	LineBuildNode:
		Types: sandbag
	WithWallSpriteBody:
		Type: sandbag

FENC:
	Inherits: ^Wall
	RenderSprites:
		-PlayerPalette:
		Palette: effect
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 20
		Prerequisites: ~structures.soviet, ~techlevel.low
		Description: • Stops infantry and light vehicles\n• Can be crushed by tanks
	Valued:
		Cost: 30
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Wire Fence
	Health:
		HP: 15000
	Armor:
		Type: Brick
	LineBuild:
		NodeTypes: fence
	LineBuildNode:
		Types: fence
	WithWallSpriteBody:
		Type: fence

CHAIN:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 20
		Prerequisites: ~structures.nod, ~techlevel.low
		Description: • Stops infantry and light vehicles\n• Can be crushed by tanks
	Valued:
		Cost: 30
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Chain-link Fence
	Health:
		HP: 15000
	Armor:
		Type: Brick
	LineBuild:
		NodeTypes: chain
	LineBuildNode:
		Types: chain
	WithWallSpriteBody:
		Type: chain

BRIK:
	Inherits: ^Wall
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.wall, ~techlevel.medium
		Description: • Stops units\n• Blocks enemy fire
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Concrete Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 40000
	Armor:
		Type: Brick
	Crushable:
		CrushClasses: heavywall
	LineBuild:
		NodeTypes: concrete
	LineBuildNode:
		Types: concrete
	WithWallSpriteBody:
		Type: concrete

CYCL:
	Inherits: ^Wall
	Tooltip:
		Name: Chain-Link Barrier
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: chain
	LineBuildNode:
		Types: chain
	WithWallSpriteBody:
		Type: chain

BARB:
	Inherits: ^Wall
	Tooltip:
		Name: Barbed-Wire Fence
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: barbwire
	LineBuildNode:
		Types: barbwire
	WithWallSpriteBody:
		Type: barbwire

WOOD:
	Inherits: ^Wall
	Tooltip:
		Name: Wooden Fence
	Armor:
		Type: Wood
	LineBuild:
		NodeTypes: woodfence
	LineBuildNode:
		Types: woodfence
	WithWallSpriteBody:
		Type: woodfence

INFANTRY.ANY:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

INFANTRY.RA:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

INFANTRY.TD:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

VEHICLES.ANY:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

VEHICLES.TD:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

VEHICLES.NOD:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

AIRCRAFT.CHINOOK:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Helipad
	Buildable:
		Description: Helipad

TECHCENTER:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Tech Center
	Buildable:
		Description: Tech Center

ANYPOWER:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Power Plant
	Buildable:
		Description: Power Plant

ANYREFINERY:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Refinery
	Buildable:
		Description: Refinery

ANYRADAR:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Radar
	Buildable:
		Description: Radar

REPAIR:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Service Depot/Repair Facility
	Buildable:
		Description: Service Depot/Repair Facility

RADARORREPAIR:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Radar or Service Depot/Repair Facility
	Buildable:
		Description: Radar or Service Depot/Repair Facility

VEHICLES.MCV:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Service Depot/Repair Facility OR no MCV/Conyard
	Buildable:
		Description: Service Depot/Repair Facility OR no MCV/Conyard

INFANTRY.MEDI:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Barracks
	Buildable:
		Description: Medical Barracks

INFANTRY.MECH:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Barracks
	Buildable:
		Description: Mechanical Barracks

STRUCTURES.TSLA:
	AlwaysVisible:
	Interactable:
	Tooltip:
		GenericName:
		Name: Tesla Coil
	Buildable:
		Description: Tesla Coil

PYLE:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.gdi, ~techlevel.low
		IconPalette: chrometd
		Description: Trains infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: GDI Barracks
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: -1,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 2,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: forceshield || invulnerability || being-warped
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	ProvidesPrerequisite@infantryany:
		Prerequisite: infantry.any
	ProvidesPrerequisite@human:
		Prerequisite: infantry.human
	ProvidesPrerequisite@infantrytd:
		Prerequisite: infantry.td
	ProvidesPrerequisite@talon:
		Factions: talon
		Prerequisite: infantry.talon
	ProvidesPrerequisite@zocom:
		Factions: zocom
		Prerequisite: infantry.zocom
	ProvidesPrerequisite@eagle:
		Factions: eagle
		Prerequisite: infantry.eagle
	ProvidesPrerequisite@arc:
		Factions: arc
		Prerequisite: infantry.arc
	ProvidesPrerequisite@medi:
		Prerequisite: infantry.medi
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.pyle
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack

HAND:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.nod, ~techlevel.low
		IconPalette: chrometd
		Description: Trains infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Hand of Nod
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 512,1024,0
		ExitCell: 1,2
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,768,0
		ExitCell: -2,2
		Facing: 384
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 512,1024,0
		ExitCell: 0,2
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 512,1024,0
		ExitCell: 2,2
		Priority: 0
	Production:
		Produces: Infantry, Soldier, Cyborg
		PauseOnCondition: forceshield || invulnerability || being-warped
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	ProvidesPrerequisite@infantryany:
		Prerequisite: infantry.any
	ProvidesPrerequisite@human:
		Prerequisite: infantry.human
	ProvidesPrerequisite@infantrytd:
		Prerequisite: infantry.td
	ProvidesPrerequisite@blackh:
		Factions: blackh
		Prerequisite: infantry.blackh
	ProvidesPrerequisite@marked:
		Factions: marked
		Prerequisite: infantry.marked
	ProvidesPrerequisite@legion:
		Factions: legion
		Prerequisite: infantry.legion
	ProvidesPrerequisite@shadow:
		Factions: shadow
		Prerequisite: infantry.shadow
	ProvidesPrerequisite@mech:
		Prerequisite: infantry.mech
	ProvidesPrerequisite@cyborg:
		Prerequisite: infantry.cyborg
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.hand
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack

WEAP.TD:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@NOMCV: ^UnlocksMcvIfNoneOwned
	RenderSprites:
		Image: awep
	Selectable:
		Bounds: 72,72
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: anyrefinery, ~structures.weap.td, ~structures.td, ~techlevel.low
		IconPalette: chrometd
		Description: Produces vehicles.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Weapons Factory
	Building:
		Footprint: xxx xxx +++
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	ValidFactions:
		Factions: talon, zocom, eagle, arc, legion
	ProvidesPrerequisite@any:
		Prerequisite: vehicles.any
	ProvidesPrerequisite@human:
		Prerequisite: vehicles.human
	ProvidesPrerequisite@td:
		Prerequisite: vehicles.td
	ProvidesPrerequisiteValidatedFaction@gdi:
		Factions: talon, zocom, eagle, arc
		Prerequisite: vehicles.gdi
	ProvidesPrerequisiteValidatedFaction@talon:
		Factions: talon
		Prerequisite: vehicles.talon
	ProvidesPrerequisiteValidatedFaction@zocom:
		Factions: zocom
		Prerequisite: vehicles.zocom
	ProvidesPrerequisiteValidatedFaction@eagle:
		Factions: eagle
		Prerequisite: vehicles.eagle
	ProvidesPrerequisiteValidatedFaction@arc:
		Factions: arc
		Prerequisite: vehicles.arc
	ProvidesPrerequisiteValidatedFaction@nod:
		Factions: legion
		Prerequisite: vehicles.nod
	ProvidesPrerequisiteValidatedFaction@legion:
		Factions: legion
		Prerequisite: vehicles.legion
	ProvidesPrerequisiteValidatedFaction@hmmv:
		Factions: talon, zocom, eagle
		Prerequisite: vehicles.hmmv
	ProvidesPrerequisiteValidatedFaction@nodarty:
		Factions: legion
		Prerequisite: vehicles.arty
	ProvidesPrerequisiteValidatedFaction@ftnk:
		Factions: legion
		Prerequisite: vehicles.ftnk
	ProvidesPrerequisite@apc2:
		Prerequisite: vehicles.apc2
	ProvidesPrerequisiteValidatedFaction@mtnk:
		Factions: talon, zocom, eagle, arc, legion
		Prerequisite: vehicles.mtnk
	ProvidesPrerequisiteValidatedFaction@memp:
		Factions: talon, zocom, eagle, arc
		Prerequisite: vehicles.memp
	ProvidesPrerequisiteValidatedFaction@msam:
		Factions: talon, zocom, arc
		Prerequisite: vehicles.msam
	ProvidesPrerequisiteValidatedFaction@htnk:
		Factions: zocom, eagle, arc
		Prerequisite: vehicles.htnk
	ProvidesPrerequisiteValidatedFaction@mlrs:
		Factions: legion
		Prerequisite: vehicles.mlrs
	WithBuildingBib:
	WithProductionDoorOverlayCA:
		RequiresCondition: !build-incomplete
		Sequence: build-top
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -341,-341,0
		ExitCell: 0,2
	Production:
		Produces: Vehicle, Paradrop, Powersuit
		PauseOnCondition: forceshield || invulnerability || being-warped
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.weap.td
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuildingtd
	GrantExternalConditionToProduced@DRONEEXIT:
		Condition: radarenabled
		Duration: 100

AIRS:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@NOMCV: ^UnlocksMcvIfNoneOwned
	RenderSprites:
		Image: astrip
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: anyrefinery, ~structures.airs, ~techlevel.low
		IconPalette: chrometd
		Description: Provides a dropzone for\n  vehicle reinforcements
	Valued:
		Cost: 2000
	Tooltip:
		Name: Airstrip
	Building:
		Footprint: XXX+ xxx+ ++++
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 220000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
	WithIdleOverlay@DISH:
		Sequence: idle-dish
		RequiresCondition: !build-incomplete
	RallyPoint:
	Exit@1:
		SpawnOffset: -1024,0,0
		ExitCell: 3,1
	ProductionAirdropCA:
		Produces: Vehicle, Powersuit
		PauseOnCondition: forceshield || invulnerability || being-warped
		ActorType: c17.cargo
		ReadyAudio: ReinforcementsArrived
		SpawnType: ClosestEdgeToDestination
		ProportionalSpeed: true
	ValidFactions:
		Factions: blackh, marked, shadow
	ProvidesPrerequisite@any:
		Prerequisite: vehicles.any
	ProvidesPrerequisite@human:
		Prerequisite: vehicles.human
	ProvidesPrerequisite@td:
		Prerequisite: vehicles.td
	ProvidesPrerequisite@nod:
		Prerequisite: vehicles.nod
	ProvidesPrerequisite@ltnk:
		Prerequisite: vehicles.ltnk
	ProvidesPrerequisiteValidatedFaction@blackh:
		Factions: blackh
		Prerequisite: vehicles.blackh
	ProvidesPrerequisiteValidatedFaction@marked:
		Factions: marked
		Prerequisite: vehicles.marked
	ProvidesPrerequisiteValidatedFaction@shadow:
		Factions: shadow
		Prerequisite: vehicles.shadow
	ProvidesPrerequisiteValidatedFaction@nodarty:
		Factions: blackh, marked, shadow
		Prerequisite: vehicles.arty
	ProvidesPrerequisiteValidatedFaction@ftnk:
		Factions: marked, legion, shadow
		Prerequisite: vehicles.ftnk
	ProvidesPrerequisiteValidatedFaction@mlrs:
		Factions: blackh, marked
		Prerequisite: vehicles.mlrs
	ProvidesPrerequisite@apc2:
		Prerequisite: vehicles.apc2
		RequiresPrerequisites: inf.gdi.stolen
	ParatroopersPower@markedairdrop:
		OrderName: markedairdrop
		SquadSize: 3
		UnitType: c17
		Icon: airdropicon
		ChargeInterval: 13500
		Description: Air Drop
		LongDesc: \nDispatches cargo planes to air drop tanks\n    at the target location.
		DropItems: ltnk, ftnk, ltnk
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		EndChargeSpeechNotification: Reinforce
		LaunchSpeechNotification: ReinforcementsArrived
		IncomingSpeechNotification: EnemyUnitsApproaching
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: lrairdropicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Prerequisites: vehicles.marked
	ParatroopersPower@blackhairdrop:
		OrderName: blackhairdrop
		SquadSize: 2
		UnitType: c17
		Icon: airdropicon
		ChargeInterval: 13500
		Description: Air Drop
		LongDesc: \nDispatches cargo planes to air drop flame tanks\n    at the target location.
		DropItems: hftk, hftk
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		EndChargeSpeechNotification: Reinforce
		LaunchSpeechNotification: ReinforcementsArrived
		IncomingSpeechNotification: EnemyUnitsApproaching
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: lrairdropicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Prerequisites: vehicles.blackh
	ParatroopersPower@shadowairdrop:
		OrderName: shadowairdrop
		SquadSize: 2
		UnitType: c17
		Icon: airdropicon
		ChargeInterval: 13500
		Description: Air Drop
		LongDesc: \nDispatches cargo planes to air drop stealth tanks\n    at the target location.
		DropItems: stnk.nod, stnk.nod
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		EndChargeSpeechNotification: Reinforce
		LaunchSpeechNotification: ReinforcementsArrived
		IncomingSpeechNotification: EnemyUnitsApproaching
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: lrairdropicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		Prerequisites: vehicles.shadow
	WithDeliveryAnimation:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -30
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.airs
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	ProductionCostMultiplier@First:
		Multiplier: 90
		Prerequisites: !vehicles.any

NUKE:
	Inherits: ^BuildingTD
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: 630,299,0
	RenderSprites:
		FactionImages:
			nod: nodnuke
			blackh: nodnuke
			marked: nodnuke
			legion: nodnuke
			shadow: nodnuke
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~structures.td, ~techlevel.low
		IconPalette: chrometd
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Nuclear Power Plant
	Building:
		Footprint: xX xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: 100
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: anypower
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

NUK2:
	Inherits: ^BuildingTD
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: 630,299,0
	RenderSprites:
		FactionImages:
			nod: nodnuk2
			blackh: nodnuk2
			marked: nodnuk2
			legion: nodnuk2
			shadow: nodnuk2
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 110
		Prerequisites: anyradar, ~structures.td, ~techlevel.low
		IconPalette: chrometd
		Description: Provides double the power of\n  a standard Nuclear Power Plant.
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Nuclear Power Plant
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xX xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 200
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ProvidesPrerequisite@buildingname:
	ScalePowerWithHealth:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

AFAC:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@BOTI: ^BotFallbackInsurance
	RenderSprites:
		FactionImages:
			nod: nodfact
			blackh: nodfact
			marked: nodfact
			legion: nodfact
			shadow: nodfact
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		IconPalette: chrometd
		Description: Produces structures.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Production:
		Produces: Building, Defense
		PauseOnCondition: forceshield || invulnerability || being-warped
	Valued:
		Cost: 3000
	Tooltip:
		Name: Construction Yard
	BaseBuilding:
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || c4 || tnt || build-incomplete || being-warped || hacked
		IntoActor: amcv
		Offset: 1,1
		Facing: 432
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, rep
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !c4 && !being-warped && !hacked
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ValidFactions:
		Factions: talon, zocom, eagle, arc, blackh, marked, legion, shadow
	ProvidesPrerequisite@td:
		Prerequisite: structures.td
	ProvidesPrerequisiteValidatedFaction@gdi:
		Factions: talon, zocom, eagle, arc
		Prerequisite: structures.gdi
	ProvidesPrerequisiteValidatedFaction@talon:
		Factions: talon
		Prerequisite: structures.talon
	ProvidesPrerequisiteValidatedFaction@zocom:
		Factions: zocom
		Prerequisite: structures.zocom
	ProvidesPrerequisiteValidatedFaction@eagle:
		Factions: eagle
		Prerequisite: structures.eagle
	ProvidesPrerequisiteValidatedFaction@arc:
		Factions: arc
		Prerequisite: structures.arc
	ProvidesPrerequisiteValidatedFaction@nod:
		Factions: blackh, marked, legion, shadow
		Prerequisite: structures.nod
	ProvidesPrerequisiteValidatedFaction@blackh:
		Factions: blackh
		Prerequisite: structures.blackh
	ProvidesPrerequisiteValidatedFaction@marked:
		Factions: marked
		Prerequisite: structures.marked
	ProvidesPrerequisiteValidatedFaction@legion:
		Factions: legion
		Prerequisite: structures.legion
	ProvidesPrerequisiteValidatedFaction@shadow:
		Factions: shadow
		Prerequisite: structures.shadow
	ProvidesPrerequisiteValidatedFaction@weap.tdFAC:
		Factions: talon, zocom, eagle, arc, legion
		Prerequisite: structures.weap.td
	ProvidesPrerequisiteValidatedFaction@airs:
		Factions: blackh, marked, shadow
		Prerequisite: structures.airs
	ProvidesPrerequisite@wall:
		Prerequisite: structures.wall
	ProvidesPrerequisiteValidatedFaction@sandbag:
		Factions: talon, zocom, eagle, arc
		Prerequisite: structures.sandbag
	ProvidesPrerequisiteValidatedFaction@atwr:
		Factions: talon, eagle, arc
		Prerequisite: structures.atwr
	ProvidesPrerequisite@anyconyard:
		Prerequisite: anyconyard
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Defense:
		ProductionType: Defense
		Color: 8A8A8A
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
	ProvidesPrerequisite@buildingname:
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	SpawnActorsOnSell:
		ActorTypes: n1,n1,n1,n1,n6

NSAM:
	Inherits: ^DefenseTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAirICBM
	Inherits@SHAPE: ^2x1Shape
	Selectable:
		Bounds: 48,24
	HitShape:
		Type: Rectangle
			TopLeft: -768,-512
			BottomRight: 768,512
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 100
		Prerequisites: anyradar, ~structures.nod, ~techlevel.medium
		Description: Anti-aircraft base defense.
	TooltipExtras:
		Strengths: • Strong vs Aircraft
		Weaknesses: • Cannot attack ground units
		Attributes: • Requires power to operate\n• Can detect cloaked aircraft
	Valued:
		Cost: 750
	Tooltip:
		Name: SAM Site
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Turreted:
		TurnSpeed: 120
		InitialFacing: 0
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
		QuantizedFacings: 32
		PauseOnCondition: disabled || empdisable || being-warped
	AttackPopupTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	Armament:
		Weapon: Nike
		MuzzleSequence: muzzle
	WithMuzzleOverlay:
	Power:
		Amount: -40
	ClassicFacingBodyOrientation:
	-ActorPreviewPlaceBuildingPreview:
	SequencePlaceBuildingPreview:
		Sequence: place
		SequencePalette: placebuildingtd
	DetectCloaked:
		CloakTypes: AirCloak
		RequiresCondition: !(disabled || empdisable || being-warped)

GTWR:
	Inherits: ^DefenseTD
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 50
		Prerequisites: infantry.any, ~structures.gdi, ~techlevel.low
		IconPalette: chrometd
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 600
	CustomSellValue:
		Value: 300
	Tooltip:
		Name: Guard Tower
	Building:
	Health:
		HP: 34000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: gtchaingun
		LocalOffset: 341,0,128
		MuzzleSequence: muzzle
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	WithMuzzleOverlay:
	Turreted:
		TurnSpeed: 512
	Power:
		Amount: -25
	DetectCloaked:
		Range: 5c0

ATWR:
	Inherits: ^DefenseTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: anyradar, ~structures.atwr, ~techlevel.high
		IconPalette: chrometd
		Description: Advanced base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units
	Valued:
		Cost: 1000
	Tooltip:
		Name: Advanced Guard Tower
	Health:
		HP: 48000
	Armor:
		Type: Concrete
	Selectable:
		Bounds: 24,24
		DecorationBounds: 22,48,0,-12
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 512
		Offset: 128,128,384
	Armament@primary:
		Weapon: StingerGTWR
		LocalOffset: 256,128,0, 256,-128,0
		LocalYaw: -100,100
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	Power:
		Amount: -50
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)

STWR:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: anyradar, ~structures.zocom, ~techlevel.high
		Description: Advanced base defense that emits devastating sonic shockwaves.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units
	Valued:
		Cost: 1350
	Tooltip:
		Name: Sonic Tower
	Building:
	Health:
		HP: 42000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 20
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: SonicPulse
		RequiresCondition: !sonic-upgrade
	Armament@Upgrade:
		Weapon: SonicPulse.UPG
		RequiresCondition: sonic-upgrade
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	WithMuzzleOverlay:
	Power:
		Amount: -80
	ClassicFacingBodyOrientation:
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	Selectable:
		DecorationBounds: 24,40,0,-8
	GrantConditionOnPrerequisite@SONIC:
		Condition: sonic-upgrade
		Prerequisites: sonic.upgrade

OBLI:
	Inherits: ^DefenseTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: anyradar, ~structures.nod, ~techlevel.high
		IconPalette: chrometd
		Description: Advanced experimental base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units
	Valued:
		Cost: 1500
	Tooltip:
		Name: Obelisk of Light
	Selectable:
		DecorationBounds: 22,42,0,-8
	Health:
		HP: 64000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	-WithSpriteBody:
	WithChargeSpriteBody:
		Sequence: active
	GrantConditionOnFaction@marked:
		Condition: marked
		Factions: marked
	Armament:
		Weapon: Laser
		LocalOffset: 0,-85,1280
		RequiresCondition: !marked
	Armament@Marked:
		Weapon: Laser.Adv
		LocalOffset: 0,-85,1280
		RequiresCondition: marked
	AttackCharges:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
		ChargeLevel: 50
		ChargingCondition: charging
	AmbientSound:
		RequiresCondition: charging
		SoundFiles: obelpowr.aud
		Interval: 30, 40
	Power:
		Amount: -90
	ProvidesPrerequisite@buildingname:
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)

HQ:
	Inherits: ^BuildingTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@POWERDRAIN: ^PowerDrainableRadar
	Inherits@GDIAIRPOWERS: ^GDIAirPowers
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,0, 420,-598,256
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	RenderSprites:
		FactionImages:
			nod: nodhq
			blackh: nodhq
			marked: nodhq
			legion: nodhq
			shadow: nodhq
			arc: hqr
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: anyrefinery, ~structures.td, ~techlevel.medium
		IconPalette: chrometd
		Description: Provides an overview of the battlefield.
	TooltipExtras:
		Attributes: • Requires power to operate\n• Detects nearby enemy vehicles, aircraft and structures in fog of war
	Valued:
		Cost: 1800
	Tooltip:
		Name: Comm. Center
		RequiresCondition: !arc-built
	Tooltip@ARC:
		Name: Drone Comm. Center
		RequiresCondition: arc-built
	Building:
		Footprint: X_ xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	WithSpriteBody:
		PauseOnCondition: disabled || being-warped
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	ProvidesRadar:
		RequiresCondition: !jammed && !disabled && !being-warped
	RangedGpsRadarProvider:
		Range: 12c0
		TargetTypes: Vehicle, Aircraft, Structure
		RequiresCondition: !jammed && !disabled && !being-warped
	WithRangeCircle:
		Range: 12c0
		RequiresCondition: !jammed && !disabled && !being-warped
	WithBuildingBib:
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	SpawnActorPowerCA@sathack:
		Actor: camera.sathack
		Prerequisites: ~radar.nod
		LifeTime: 120
		OrderName: sathack
		Icon: hacksat
		ChargeInterval: 4500
		Description: Hack Satellite Uplink
		LongDesc: \nReveals the targeted area for a short time.
		LaunchSound: hacksat.aud
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
		TargetCircleRange: 9c512
		TargetCircleColor: 999999AA
	ProduceActorPower@hackercell:
		OrderName: hackercell
		Prerequisites: infantry.any, ~radar.legion, ~techlevel.medium
		Icon: hackercell
		Type: Infantry
		ChargeInterval: 7500
		Description: Hacker Cell
		LongDesc: \nDeploy a squad of hackers that can remotely\n    capture buildings and take control of defenses.\n\nDeploys from primary infantry production structure.
		Actors: hack, hack, hack
		LaunchSpeechNotification: ReinforcementsArrived
		EndChargeSpeechNotification: Reinforce
		PauseOnCondition: disabled || empdisable || being-warped
	DropPodsPowerCA@Zocom:
		OrderName: droppods
		Cursor: ability
		Prerequisites: ~radar.zocom, techlevel.high
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: droppods
		IconPalette: chrometd
		Description: Drop Pods
		LongDesc: \nInstantly deploys a small team of elite soldiers\n    at the target location via orbital drop pods.
		EndChargeSpeechNotification: DropPodsAvailable
		SelectTargetSpeechNotification: SelectTarget
		DisplayRadarPing: True
		ChargeInterval: 4500
		Weapon: DropPodArrive
		UnitTypes: POD, POD, POD, POD, POD2, POD2, POD3
		ExactUnits: true
		PodScatter: 3
		EntryEffect: explosion
		EntryEffectSequence: shock_wave
		EntryEffectPalette: tseffect-ignore-lighting-alpha75
	CashHackPower@Legion:
		OrderName: cashhack
		Icon: chack
		ChargeInterval: 6000
		Minimum: 500
		Maximum: 2000
		Prerequisites: ~radar.legion, techlevel.high
		AllowMultiple: false
		Description: Cash Hack
		LongDesc: \nSteal up to $2000 credits from a targeted enemy Refinery.
		OnFireSound: scashhac.aud
		Notification: CreditsStolen
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable || being-warped
	AirstrikePower@BlackhandFirebomb:
		OrderName: infernobomb
		Prerequisites: ~radar.blackh, techlevel.unrestricted
		Icon: infbomb
		IconPalette: chrometd
		ChargeInterval: 9000
		Description: Inferno Bomb
		LongDesc: \nA B2 Stealth Bomber drops inferno bombs on your target.
		SelectTargetSpeechNotification: SelectTarget
		CameraActor: camera
		CameraRemoveDelay: 150
		UnitType: b2b
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: a10airstrike
		BeaconPosterPalette: temptd
		SquadSize: 1
		SquadOffset: 0,1792,0
		ArrowSequence: arrow
		ClockSequence: clockTD
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		PauseOnCondition: disabled || empdisable || being-warped
	AirReinforcementsPower@ShadowTeam:
		OrderName: shadowteam
		Prerequisites: ~radar.shadow, techlevel.unrestricted
		Icon: shadteam
		ChargeInterval: 6750
		Description: Shadow Team
		LongDesc: \nCalls for a Shadow Team; three stealth infantry\n    that arrive via glider armed with grenades\n    and a machine pistol.\n\nOperatives can be ordered to land\n    via the deploy command.
		SelectTargetSpeechNotification: SelectTarget
		UnitType: sgli
		QuantizedFacings: 8
		DisplayBeacon: false
		SquadSize: 3
		SquadOffset: -1024,1024,0
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		PauseOnCondition: disabled || empdisable || being-warped
		LaunchSpeechNotification: ReinforcementsArrived
		EndChargeSpeechNotification: Reinforce
	Power:
		Amount: -40
	-PowerMultiplier@POWERDRAIN:
	ValidFactions:
		Factions: talon, zocom, eagle, arc, blackh, marked, legion, shadow
	ProvidesPrerequisite@anyradar:
		Prerequisite: anyradar
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisiteValidatedFaction@gdirad:
		Factions: talon, zocom, eagle, arc
		Prerequisite: radar.gdi
	ProvidesPrerequisiteValidatedFaction@talrad:
		Factions: talon
		Prerequisite: radar.talon
	ProvidesPrerequisiteValidatedFaction@zocrad:
		Factions: zocom
		Prerequisite: radar.zocom
	ProvidesPrerequisiteValidatedFaction@arcrad:
		Factions: arc
		Prerequisite: radar.arc
	ProvidesPrerequisiteValidatedFaction@nodrad:
		Factions: blackh, marked, legion, shadow
		Prerequisite: radar.nod
	ProvidesPrerequisiteValidatedFaction@bhrad:
		Factions: blackh
		Prerequisite: radar.blackh
	ProvidesPrerequisiteValidatedFaction@legrad:
		Factions: legion
		Prerequisite: radar.legion
	ProvidesPrerequisiteValidatedFaction@shadrad:
		Factions: shadow
		Prerequisite: radar.shadow
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@radar-active:
		Prerequisite: radar-active
		RequiresCondition: !jammed && !disabled && !being-warped
	ExternalCondition@JAMMED:
		Condition: jammed
	InfiltrateForSupportPowerCA@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.hq
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:
	ProductionCostMultiplier@ARCDISCOUNT:
		Multiplier: 50
		Prerequisites: anyradar, player.arc
	GrantConditionOnFaction@ARC:
		Factions: arc
		Condition: arc-built

EYE:
	Inherits: ^BuildingTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@POWERDRAIN: ^PowerDrainableRadar
	HitShape:
		TargetableOffsets: 0,0,0, 0,512,128, 420,-598,213
		Type: Rectangle
			TopLeft: -1024, -384
			BottomRight: 1024, 1024
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: gtek, ~structures.gdi, ~techlevel.unrestricted
		IconPalette: chrometd
		BuildLimit: 1
		Description: Provides radar and Orbital Ion Cannon support power.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Ion Cannon\n• Detects nearby enemy vehicles, aircraft and structures in fog of war
	Valued:
		Cost: 2500
	Tooltip:
		Name: Advanced Communications Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	WithSpriteBody:
		PauseOnCondition: disabled || being-warped
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
	ProvidesRadar:
		RequiresCondition: !jammed && !disabled && !being-warped
	RangedGpsRadarProvider:
		Range: 12c0
		TargetTypes: Vehicle, Aircraft, Structure
		RequiresCondition: !jammed && !disabled && !being-warped
	WithRangeCircle:
		Range: 12c0
		RequiresCondition: !jammed && !disabled && !being-warped
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	DetonateWeaponPower@IonStorm:
		OrderName: ioncannon
		Icon: ioncannon
		Cursor: ioncannon
		ChargeInterval: 13500
		Description: Ion Cannon
		ActivationDelay: 50
		LongDesc: \nInitiate an Ion Cannon strike which deals\n    heavy damage over a large area.
		Weapon: IonStormInit
		AirburstAltitude: 4c512
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		BeginChargeSpeechNotification: IonCannonCharging
		EndChargeSpeechNotification: IonCannonReady
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: IonCannonApproach
		IncomingSound: nukelaunch.aud
		LaunchSound: nukelaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayBeacon: False
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		BeaconPoster: atomicon
		TargetCircleRange: 6c512
		TargetCircleColor: 4fff3390
	IonCannonPower@surgicals:
		OrderName: surgicalstrike
		Prerequisites: ~eye.zocom, techlevel.unrestricted
		Icon: surgicalstrike
		IconPalette: chrometd
		ChargeInterval: 6000
		WeaponDelay: 3
		Description: Surgical Strike
		EffectPalette: tdeffect-ignore-lighting-alpha85
		LongDesc: \nInitiate an precision Ion Cannon strike which instantly\n    deals instant damage to a small area.
		BeginChargeSpeechNotification: IonCannonCharging
		EndChargeSpeechNotification: IonCannonReady
		LaunchSound: ion2.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		DisplayTimerRelationships: Ally
		DisplayBeacon: True
		CameraActor: camera
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		Cursor: ioncannon
		PauseOnCondition: disabled || empdisable || being-warped
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	SupportPowerChargeBar:
	Power:
		Amount: -200
	-PowerMultiplier@POWERDRAIN:
	ValidFactions:
		Factions: talon, zocom, eagle, arc
	ProvidesPrerequisiteValidatedFaction@zoceye:
		Factions: zocom
		Prerequisite: eye.zocom
	ProvidesPrerequisite@buildingname:
	ExternalCondition@JAMMED:
		Condition: jammed
	ProvidesPrerequisite@radar-active:
		Prerequisite: radar-active
		RequiresCondition: !jammed && !disabled && !being-warped
	MustBeDestroyed:
		RequiredForShortGame: false
	ProductionCostMultiplier@ZocomBonus:
		Multiplier: 90
		Prerequisites: player.zocom

REP:
	Inherits: ^BuildingTD
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Buildable:
		Queue: Building
		BuildPaletteOrder: 100
		Prerequisites: vehicles.any, ~structures.td, ~techlevel.medium
		IconPalette: chrometd
		Description: Repairs vehicles for credits.
	TooltipExtras:
		Attributes: • Nearby helipads/airfields will repair landed aircraft
	Valued:
		Cost: 1000
	Tooltip:
		Name: Repair Facility
	Building:
		Footprint: _+_ +++ _+_
		Dimensions: 3,3
	Selectable:
		Bounds: 68,34,0,3
		DecorationBounds: 72,48
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	Reservable:
	RallyPoint:
	RepairsUnits:
		ValuePercentage: 0
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@repair:
		Prerequisite: repair
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisite@allowsmcv:
		Prerequisite: vehicles.mcv
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 10c0
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: 888899AA
		Range: 10c0

^GDIAirPowers:
	SpawnActorPower@GDIEagleDropzone:
		Actor: FLARE.dropzone
		Prerequisites: ~radar.eagle, ~techlevel.low
		PauseOnCondition: disabled || empdisable || being-warped
		LifeTime: 280
		OrderName: dropzoneeagle
		Icon: orcaca
		IconPalette: chrometd
		ChargeInterval: 6000
		Description: Reinforcements
		LongDesc: \nAn Orca Carryall drops an APC containing\n    an infantry squad at the target location.
		EndChargeSpeechNotification: Reinforce
		LaunchSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
	ParatroopersPower@xodrop:
		OrderName: xodrop
		Prerequisites: ~radar.talon, ~techlevel.medium
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: xodrop
		ChargeInterval: 9750
		Description: X-O Drop
		UnitType: ocar.xo
		LongDesc: \nAn Orca transport drops a squad of X-O Powersuits\n    at the target location.
		SquadSize: 1
		SquadOffset: 0,1792,0
		DropItems: XO,XO,XO
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: Reinforce
		AllowImpassableCells: false
		QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: xodrop
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@uav:
		OrderName: gdiuav
		Prerequisites: radar.gdi, ~!radar.arc
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: uavicon
		ChargeInterval: 3750
		Description: Recon Drone
		LongDesc: \nA drone flies across the map, revealing the area as it passes.\n\nDetects cloaked units.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		CameraActor: camera.spyplane
		CameraRemoveDelay: 0
		UnitType: uav
		QuantizedFacings: 32
		DisplayBeacon: true
		BeaconPoster: lruavicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
	AirstrikePower@uavST:
		OrderName: gdiuavarc
		Prerequisites: ~radar.arc
		PauseOnCondition: disabled || empdisable || being-warped
		Icon: uavicon
		ChargeInterval: 3000
		Description: Recon Drone
		LongDesc: \nA drone flies across the map, revealing the area as it passes.\n\nDetects cloaked units.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		CameraActor: camera.spyplane
		CameraRemoveDelay: 0
		UnitType: uav
		QuantizedFacings: 32
		DisplayBeacon: true
		BeaconPoster: lruavicon
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection

^InterceptorsPower:
	InterceptorPower@AirDef:
		OrderName: interceptors
		Prerequisites: ~aircraft.gdi, techlevel.unrestricted
		PauseOnCondition: empdisable || being-warped
		Icon: airsupport
		ChargeInterval: 10500
		Description: Interceptors
		LongDesc: \nA squadron of Interceptors provides\n    air cover over the target area,\n    engaging any enemy aircraft within range.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: SpyPlaneReady
		CameraActor: camera
		CameraRemoveDelay: 450
		UnitType: yf23.bomber
		QuantizedFacings: 8
		DisplayBeacon: true
		BeaconPoster: airsupport
		SquadSize: 3
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: paradirection
		GuardDuration: 500
		Cordon: 5c0

HPAD.TD:
	Inherits: ^BuildingTD
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@INTERCEPTORS: ^InterceptorsPower
	RenderSprites:
		Image: hpad2
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 768,-512,0, 768,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 120
		Prerequisites: radarorrepair, ~structures.td, ~techlevel.infonly
		IconPalette: chrometd
		Description: Produces and reloads helicopters.
	Valued:
		Cost: 500
	Tooltip:
		Name: Helipad
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		SpawnOffset: 0,-256,0
		Facing: 896
	RallyPoint:
	Production:
		Produces: Aircraft, Helicopter
		PauseOnCondition: forceshield || invulnerability || being-warped
	Reservable:
	ProductionBar:
		ProductionType: Aircraft
	WithBuildingBib:
	Power:
		Amount: -20
	ValidFactions:
		Factions: talon, zocom, eagle, arc, blackh, marked, legion, shadow
	ProvidesPrerequisiteValidatedFaction@gdi:
		Factions: talon, zocom, eagle, arc
		Prerequisite: aircraft.gdi
	ProvidesPrerequisiteValidatedFaction@talon:
		Factions: talon
		Prerequisite: aircraft.talon
	ProvidesPrerequisiteValidatedFaction@eagle:
		Factions: eagle
		Prerequisite: aircraft.eagle
	ProvidesPrerequisiteValidatedFaction@arc:
		Factions: arc
		Prerequisite: aircraft.arc
	ProvidesPrerequisiteValidatedFaction@nod:
		Factions: blackh, marked, legion, shadow
		Prerequisite: aircraft.nod
	ProvidesPrerequisiteValidatedFaction@marked:
		Factions: marked
		Prerequisite: aircraft.marked
	ProvidesPrerequisiteValidatedFaction@shadow:
		Factions: shadow
		Prerequisite: aircraft.shadow
	ProvidesPrerequisiteValidatedFaction@apch:
		Factions: blackh, legion, shadow
		Prerequisite: aircraft.apch
	ProvidesPrerequisite@chinookvisible:
		Prerequisite: aircraft.chinookvisible
	ProvidesPrerequisite@chinook:
		Prerequisite: aircraft.chinook
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: powerproxy.paratroopers.allies
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack

PROC.TD:
	Inherits: ^BuildingTD
	Inherits@BOTREF: ^BotRefinery
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	RenderSprites:
		Image: proc2
		FactionImages:
			nod: nodproc
			blackh: nodproc
			marked: nodproc
			legion: nodproc
			shadow: nodproc
	Valued:
		Cost: 1800
	CustomSellValue:
		Value: 400
	Tooltip:
		Name: Refinery
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: anypower, ~structures.td, ~techlevel.low
		Queue: Building
		IconPalette: chrometd
		Description: Processes raw Tiberium, Ore\n  and Gems into credits.
		BuildDuration: 1400
	Building:
		Footprint: _x_ xxx +++ ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: ThiefInfiltrate
	Refinery:
		DockAngle: 448
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
	StoresResources:
		Capacity: 2000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 17
	Selectable:
		Bounds: 72,56,0,12
		DecorationBounds: 73,72
	InfiltrateForCash:
		Types: ThiefInfiltrate
		Percentage: 50
		InfiltrationNotification: CreditsStolen
	FreeActor:
		Actor: HARV.TD
		SpawnOffset: 1,2
		Facing: 256
	WithResourceLevelOverlay:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@anyrefinery:
		Prerequisite: anyrefinery
	CashHackable:

SILO.TD:
	Inherits: ^BuildingTD
	Inherits@SHAPE: ^2x1Shape
	RenderSprites:
		Image: silo2
	Valued:
		Cost: 300
	Tooltip:
		Name: Silo
	Buildable:
		BuildPaletteOrder: 35
		Prerequisites: anyrefinery, ~structures.td, ~techlevel.infonly
		Queue: Defense
		IconPalette: chrometd
		Description: Stores processed Tiberium, Ore and Gems
	Building:
		Footprint: xx
		Dimensions: 2,1
	-GivesBuildableArea:
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 6000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
	-MustBeDestroyed:
	SpawnActorsOnSell:
		ActorTypes: c1,c7
	Power:
		Amount: -10
	Selectable:
		DecorationBounds: 49,30
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode

AFLD.GDI:
	Inherits: ^Building
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	Inherits@INTERCEPTORS: ^InterceptorsPower
	RenderSprites:
		Image: afldgdi
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 420,0,0, 420,-1024,0, 420,1024,0, -777,0,0, -777,-1024,0, -777,1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 130
		Prerequisites: radarorrepair, ~structures.gdi, ~techlevel.high
		Description: Produces and reloads aircraft.
	Valued:
		Cost: 500
	Tooltip:
		Name: Airfield
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 768
	RallyPoint:
	Production:
		Produces: Aircraft, Plane
		PauseOnCondition: forceshield || invulnerability || being-warped
	Reservable:
	ValidFactions:
		Factions: talon, zocom, eagle, arc
	ProvidesPrerequisiteValidatedFaction@gdi:
		Prerequisite: aircraft.gdi
	ProvidesPrerequisiteValidatedFaction@eagle:
		Factions: eagle
		Prerequisite: aircraft.eagle
	ProvidesPrerequisiteValidatedFaction@eagle:
		Factions: eagle
		Prerequisite: aircraft.eagle
	ProvidesPrerequisiteValidatedFaction@arc:
		Factions: arc
		Prerequisite: aircraft.arc
	ProvidesPrerequisite@chinookvisible:
		Prerequisite: aircraft.chinookvisible
	ProductionBar:
		ProductionType: Aircraft
	SupportPowerChargeBar:
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: powerproxy.airstrike
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack

GTEK:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 150
		IconPalette: chrometd
		Prerequisites: vehicles.any, anyradar, ~structures.gdi, ~techlevel.high
		Description: Provides GDI advanced technologies.
	Valued:
		Cost: 1800
	Tooltip:
		Name: GDI Tech Center
	Building:
		Footprint: xxx =xx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SabInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.gtek
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	WithBuildingBib:
	Power:
		Amount: -150
	ValidFactions:
		Factions: talon, zocom, eagle, arc
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ProvidesPrerequisiteValidatedFaction@arcgtek:
		Factions: arc
		Prerequisite: gtek.arc
	ProvidesPrerequisiteValidatedFaction@zocomgtek:
		Factions: zocom
		Prerequisite: gtek.zocom
	ProvidesPrerequisiteValidatedFaction@eaglegtek:
		Factions: eagle
		Prerequisite: gtek.eagle
	ProvidesPrerequisite@buildingname:
	GrantExternalConditionPowerCA@FSHIELD:
		OrderName: fshield
		Icon: forceshield
		ChargeInterval: 7500
		Condition: forceshield
		Dimensions: 7, 7
		Footprint: ___x___ __xxx__ _xxxxx_ xxxxxxx _xxxxx_ __xxx__ ___x___
		Duration: 250
		Prerequisites: forceshield.enabled, ~techlevel.high
		Weapon: ForceShield
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Description: Force Shield
		LongDesc: \nMakes selected friendly structures temporarily invulnerable.\n\nWarning: Causes power failure.
		OnFireSound: forceon.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: ForceShieldReady
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable ||  being-warped
	GrantExternalConditionPowerCA@NREPAIR:
		OrderName: nrepair
		Icon: nrepair
		ChargeInterval: 6750
		Condition: nrepair
		Dimensions: 5, 5
		Footprint: _xxx_ xxxxx xxxxx xxxxx _xxx_
		Duration: 750
		Prerequisites: ~gtek.arc, ~techlevel.unrestricted
		Weapon: RepairFlash
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Description: Nanite Repair
		LongDesc: \nRepairs selected damaged vehicles over time.
		OnFireSound: srepaira.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		Cursor: repair
		PauseOnCondition: disabled || empdisable ||  being-warped
	SupportPowerChargeBar:
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

TMPL:
	Inherits: ^BuildingTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 0,-896,0, 0,896,0, 840,0,0, -706,0,0, -706,-768,0, -706,640,0
	Valued:
		Cost: 1800
	Tooltip:
		Name: Temple of Nod
	Buildable:
		Queue: Building
		BuildPaletteOrder: 140
		Prerequisites: vehicles.any, anyradar, ~structures.nod, ~techlevel.high
		IconPalette: chrometd
		Description: Provides Nod advanced technologies.
	TooltipExtras:
		Attributes: • Requires power to operate\n• Special Ability: Cluster Missile
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 72,72
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	NukePower@Cluster:
		OrderName: clustermissile
		Icon: clustermissile
		IconPalette: chrometd
		Prerequisites: ~techlevel.high, ~techlevel.unrestricted
		Cursor: ability
		ChargeInterval: 10500
		Description: Cluster Missile
		LongDesc: \nLaunches an Cluster Missile which deals heavy\n    damage at the target location.
		EndChargeSpeechNotification: ClusMissileReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: MissileLaunchDetected
		MissileWeapon: deathhand
		MissilePalette: temptd
		LaunchSound: icbm1.aud
		IncomingSound: icbm1.aud
		SpawnOffset: 1024,80,0
		DetonationAltitude: 3c0
		RemoveMissileOnDetonation: True
		FlightDelay: 225
		FlightVelocity: 0c624
		DisplayRadarPing: True
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clockTD
		CircleSequence: circles
		PauseOnCondition: disabled || empdisable || being-warped
		TrailImage: smokey2
		TrailSequences: idle
		TrailPalette: tseffect-ignore-lighting-alpha75
		DisplayBeacon: True
		BeaconPoster: clustermissile
		BeaconPosterPalette: temptd
		DisplayTimerRelationships: Ally, Neutral, Enemy
		CircleRanges: 3c0
		CircleColor: BB0000AA
		CircleBorderColor: 770000AA
	WithBuildingBib:
	GrantExternalConditionPowerCA@FSHIELD:
		OrderName: fshield
		Icon: forceshield
		ChargeInterval: 7500
		Condition: forceshield
		Dimensions: 7, 7
		Footprint: ___x___ __xxx__ _xxxxx_ xxxxxxx _xxxxx_ __xxx__ ___x___
		Duration: 250
		Prerequisites: ~forceshield.enabled, ~techlevel.high
		Weapon: ForceShield
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Sequence: false-active
		Description: Force Shield
		LongDesc: \nMakes selected friendly structures temporarily invulnerable.\n\nWarning: Causes power failure.
		OnFireSound: forceon.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: ForceShieldReady
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable ||  being-warped
	GrantExternalConditionPowerCA@Frenzy:
		OrderName: frenzy
		Icon: frenzy
		Prerequisites: ~tmpl.marked, ~techlevel.high
		ChargeInterval: 6750
		Weapon: Frenzy
		Description: Frenzy
		Condition: frenzy
		Dimensions: 5, 5
		Footprint: _xxx_ xxxxx xxxxx xxxxx _xxx_
		ValidRelationships: Ally
		Duration: 500
		ActivationDelay: 0
		AirburstAltitude: 0c0
		Sequence: false-active
		AllowMultiple: false
		LongDesc: \nIncreases the movement speed and rate of fire of\n    targeted units for a limited time.\n\nWarning: Affected units take increased damage.
		OnFireSound: nodfrenzy.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayTimerRelationships: Ally
	SupportPowerChargeBar:
	Power:
		Amount: -150
	MustBeDestroyed:
		RequiredForShortGame: false
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SabInfiltrate
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.tmpl
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	ValidFactions:
		Factions: blackh, marked, legion, shadow
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ProvidesPrerequisiteValidatedFaction@blackhtmpl:
		Factions: blackh
		Prerequisite: tmpl.blackh
	ProvidesPrerequisiteValidatedFaction@markedtmpl:
		Factions: marked
		Prerequisite: tmpl.marked
	ProvidesPrerequisiteValidatedFaction@legiontmpl:
		Factions: legion
		Prerequisite: tmpl.legion
	ProvidesPrerequisiteValidatedFaction@shadowtmpl:
		Factions: shadow
		Prerequisite: tmpl.shadow
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

PRIS:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: anyradar, ~structures.pris, ~techlevel.high
		Description: Advanced experimental base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units\n• Beam can chain with nearby Prism Towers
	Valued:
		Cost: 1300
	Tooltip:
		Name: Prism Tower
	Building:
	Selectable:
		DecorationBounds: 24,46,0,-10
	Health:
		HP: 35000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	WithSpriteBody:
		PauseOnCondition: disabled || empdisable || being-warped
	WithPrismChargeAnimation:
	AttackPrismSupported:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
		ChargeAudio: bpripow.aud
		MaxCharges: 1
		ReloadDelay: 40
		SupportArmament: support
		ReceiverOffset: 0,0,896
		BuffCondition: prism-stack
	FirepowerMultiplier@STACK-1:
		RequiresCondition: prism-stack == 1
		Modifier: 150
	FirepowerMultiplier@STACK-2:
		RequiresCondition: prism-stack == 2
		Modifier: 200
	FirepowerMultiplier@STACK-3:
		RequiresCondition: prism-stack == 3
		Modifier: 250
	FirepowerMultiplier@STACK-4:
		RequiresCondition: prism-stack == 4
		Modifier: 300
	Armament:
		Weapon: PrisLaser
		LocalOffset: 0,-85,956
	Armament@support:
		Name: support
		Weapon: PrisLaserSupport
		LocalOffset: 0,0,1024
	Power:
		Amount: -75
	ProvidesPrerequisite@buildingname:
	WithRangeCircle@SUPPORT:
		Range: 5c0

SPEN.nod:
	Inherits: ^Building
	Inherits@WATERSTRUCTURE: ^WaterStructure
	Inherits@PRIMARY: ^PrimaryBuilding
	RenderSprites:
		Image: SPENNOD
		PlayerPalette: playernavy
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: powerproxy.sonarpulse
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Valued:
		Cost: 800
	Tooltip:
		Name: Sub Pen
	Buildable:
		Queue: Building
		BuildPaletteOrder: 240
		IconPalette: chrometd
		Prerequisites: anypower, ~structures.nod, ~techlevel.navy, ~techlevel.low
		Description: Produces and repairs\nsubmarines and transports.
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	-GivesBuildableArea:
	RequiresBuildableArea:
		Adjacent: 8
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 384
		ExitCell: -1,2
		ProductionTypes: Submarine, Ship
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-213,0
		Facing: 640
		ExitCell: 3,2
		ProductionTypes: Submarine, Ship
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		Facing: 0
		ExitCell: 1,0
		ProductionTypes: Submarine, Ship
	Production:
		Produces: Ship, Submarine
		PauseOnCondition: forceshield || invulnerability || being-warped
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	RallyPoint:
	ProductionBar:
		ProductionType: Ship
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	MapEditorData:
		ExcludeTilesets: INTERIOR
	DetectCloaked:
		CloakTypes: Underwater
		Range: 10c0
		RequiresCondition: !(empdisable || being-warped)
	RenderDetectionCircle:
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -598
			BottomRight: 1536, 598
	HitShape@TOPANDBOTTOM:
		TargetableOffsets: 811,0,0, -811,0,0
		Type: Rectangle
			TopLeft: -555, -1110
			BottomRight: 555, 1110
	-SpawnActorOnDeath:
	-SpawnRandomActorOnDeath:
	-SpawnActorsOnSell:

SYRD.gdi:
	Inherits: ^Building
	Inherits@WATERSTRUCTURE: ^WaterStructure
	Inherits@PRIMARY: ^PrimaryBuilding
	RenderSprites:
		Image: GSYRD
		PlayerPalette: playernavy
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: powerproxy.sonarpulse
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Buildable:
		Queue: Building
		BuildPaletteOrder: 230
		Prerequisites: anypower, ~structures.gdi, ~techlevel.navy, ~techlevel.low
		Description: Produces and repairs ships\nand transports.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Naval Yard
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate
	Building:
		Footprint: XXX xxx XXX
		Dimensions: 3,3
		TerrainTypes: Water
	-GivesBuildableArea:
	RequiresBuildableArea:
		Adjacent: 8
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		Facing: 640
		ExitCell: 0,2
		ProductionTypes: Ship, Boat
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,1024,0
		Facing: 896
		ExitCell: 2,2
		ProductionTypes: Ship, Boat
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,-1024,0
		Facing: 384
		ExitCell: 0,0
		ProductionTypes: Ship, Boat
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 1024,-1024,0
		Facing: 128
		ExitCell: 2,0
		ProductionTypes: Ship, Boat
	Production:
		Produces: Ship, Boat
		PauseOnCondition: forceshield || invulnerability || being-warped
	RepairsUnits:
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	RallyPoint:
	ProductionBar:
		ProductionType: Ship
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	MapEditorData:
		ExcludeTilesets: INTERIOR
	DetectCloaked:
		CloakTypes: Underwater
		Range: 10c0
		RequiresCondition: !(empdisable || being-warped)
	RenderDetectionCircle:
	HitShape:
		TargetableOffsets: 768,0,0, 768,-1024,0, 768,1024,0
		Type: Rectangle
			TopLeft: -1536, -1152
			BottomRight: 1536, 598
	HitShape@BOTTOM:
		TargetableOffsets: -768,0,0
		Type: Rectangle
			TopLeft: -512, 598
			BottomRight: 512, 1110
	-SpawnActorOnDeath:
	-SpawnRandomActorOnDeath:
	-SpawnActorsOnSell:

HTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 100
		Prerequisites: anyradar, ~structures.france, ~techlevel.high
		Description: Artillery base defense.
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft\n• Cannot hit targets at point-blank range
		Attributes: • Requires power to operate\n• Can detect cloaked units
	Valued:
		Cost: 1650
	Tooltip:
		Name: Grand Cannon
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 90000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Turreted:
		TurnSpeed: 8
		InitialFacing: 0
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	Armament:
		Weapon: 203mm
		MuzzleSequence: muzzle
		LocalOffset: 1000,200,60, 1000,0,60, 1000,-200,60
	WithMuzzleOverlay:
	Power:
		Amount: -100
	ClassicFacingBodyOrientation:
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	WithBuildingBib:
		HasMinibib: true
	Selectable:
		Bounds: 48,48
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	-ProductionCostMultiplier@FranceBonus:

GUN.Nod:
	Inherits: GUN
	RenderSprites:
		Image: gun2
		PlayerPalette: overlayplayertd
	ActorPreviewPlaceBuildingPreview:
		OverridePalette: placebuildingtd
	Buildable:
		Prerequisites: infantry.any, ~structures.nod, ~techlevel.medium
		IconPalette: chrometd
	Armament:
		Weapon: TurretGunTD

LTUR:
	Inherits: GUN.Nod
	RenderSprites:
		Image: ltur
	Valued:
		Cost: 600
	CustomSellValue:
		Value: 300
	Tooltip:
		Name: Laser Turret
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: infantry.any, ~structures.nod, ~techlevel.low
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units
	Turreted:
		InitialFacing: 128
	-WithTurretAttackAnimation:
	GrantConditionOnFaction@marked:
		Condition: marked
		Factions: marked
	-Armament:
	Armament:
		Weapon: LaserTur
		LocalOffset: 512,0,172
		RequiresCondition: !marked
	Armament@Marked:
		Weapon: LaserTur.Adv
		LocalOffset: 512,0,172
		RequiresCondition: marked
	Power:
		Amount: -25
	DetectCloaked:
		Range: 5c0

TTUR:
	Inherits: ^DefenseTD
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 60
		Prerequisites: infantry.any, ~structures.iraq, ~techlevel.low
		IconPalette: chrometd
		Description: Anti-infantry base defense.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Cannot attack Aircraft\n• Has difficulty hitting moving targets
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 650
	CustomSellValue:
		Value: 350
	Tooltip:
		Name: Chemical Tower
	Building:
	Health:
		HP: 34000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 512
		Offset: 0,0,112
	Armament:
		Weapon: ChemballLauncher
		LocalOffset: 512,0,0
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	-QuantizeFacingsFromSequence:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 8
	Power:
		Amount: -25
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@ftur:
		Prerequisite: ftur
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	DetectCloaked:
		Range: 5c0

SGEN:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: tmpl, ~structures.nod, ~techlevel.unrestricted
		BuildLimit: 1
		IconPalette: chrometd
		Description: Makes a group of units/structures invisible\n  for a short time.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cloaks nearby units and structures when not active\n• Requires power to operate\n• Special Ability: Tiberium Stealth
	Valued:
		Cost: 1500
	Tooltip:
		Name: Stealth Generator
	Building:
		Footprint: xxx xx+
		Dimensions: 3,2
		LocalCenterOffset: 0,0,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
	ValidFactions:
		Factions: blackh, marked, legion, shadow
	ProvidesPrerequisiteValidatedFaction@shadow:
		Factions: shadow
		Prerequisite: sgen.shadow
	GrantExternalConditionPowerCA@SGEN:
		Prerequisites: ~!sgen.shadow, ~techlevel.unrestricted
		OrderName: stealthgen
		Icon: invis
		IconPalette: chrometd
		ChargeInterval: 4500
		Weapon: StealthBubble
		Description: Tiberium Stealth
		Condition: sgen-invis
		ValidRelationships: Ally, Neutral, Enemy
		Dimensions: 7, 7
		Footprint: __xxx__ _xxxxx_ xxxxxxx xxxxxxx xxxxxxx _xxxxx_ __xxx__
		Duration: 600
		ActivationDelay: 0
		AirburstAltitude: 0c0
		AllowMultiple: false
		LongDesc: \nMakes selected vehicles and structures\n    temporarily invisible\n\nWarning: Harmful to Infantry.
		OnFireSound: cloak6.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChemStealthCharging
		EndChargeSpeechNotification: ChemStealthReady
		DisplayRadarPing: True
		Cursor: chemmissile
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayTimerRelationships: Ally, Neutral, Enemy
		ActiveCondition: active
	GrantExternalConditionPowerCA@SGENSHADOW:
		Prerequisites: ~sgen.shadow, ~techlevel.unrestricted
		OrderName: stealthgenshadow
		Icon: invis
		IconPalette: chrometd
		ChargeInterval: 4500
		Weapon: StealthBubble
		Description: Tiberium Stealth
		Condition: sgen-invis
		ValidRelationships: Ally, Neutral, Enemy
		Dimensions: 7, 7
		Footprint: __xxx__ _xxxxx_ xxxxxxx xxxxxxx xxxxxxx _xxxxx_ __xxx__
		Duration: 750
		ActivationDelay: 0
		AirburstAltitude: 0c0
		AllowMultiple: false
		LongDesc: \nMakes selected vehicles and structures\n    temporarily invisible\n\nWarning: Harmful to Infantry.
		OnFireSound: cloak6.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		BeginChargeSpeechNotification: ChemStealthCharging
		EndChargeSpeechNotification: ChemStealthReady
		DisplayRadarPing: True
		Cursor: chemmissile
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayTimerRelationships: Ally, Neutral, Enemy
		ActiveCondition: active
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1024, 1024
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	WithRangeCircle@SGEN:
		Range: 5c512
		Color: 00aa00
	ProximityExternalCondition@SGEN:
		Range: 5c512
		Condition: msg-invis
		MaximumVerticalOffset: 512
		AffectsParent: true
		RequiresCondition: !disabled && !empdisable && !being-warped && !active

CRAM:
	Inherits: AGUN
	Buildable:
		Prerequisites: anyradar, ~structures.gdi, ~techlevel.medium
		IconPalette: chrometd
	-Armament:
	-WithTurretAttackAnimation:
	Armament@GAT:
		Weapon: Gatt
		LocalOffset: 520,0,450
		MuzzleSequence: muzzle
	FirepowerMultiplier@GAT1:
		Modifier: 115
		RequiresCondition: firing && gatling == 1
	FirepowerMultiplier@GAT2:
		Modifier: 130
		RequiresCondition: firing && gatling == 2
	FirepowerMultiplier@GAT3:
		Modifier: 145
		RequiresCondition: firing && gatling >= 3
	AmbientSoundCA@ATTACKSOUND1:
		SoundFiles: vgatlo2a.aud, vgatlo2b.aud, vgatlo2c.aud
		RequiresCondition: firing && gatling == 1
	AmbientSoundCA@ATTACKSOUND2:
		InitialSound: vgatlo4a.aud
		SoundFiles: vgatlo5a.aud, vgatlo5b.aud
		RequiresCondition: firing && gatling == 2
	AmbientSoundCA@ATTACKSOUND3:
		InitialSound: vgatlo7a.aud
		SoundFiles: vgatlo8a.aud, vgatlo8b.aud
		RequiresCondition: firing && gatling >= 3
	GrantConditionOnAttackCA@FIRING:
		ArmamentNames: primary
		Condition: firing
		RevokeDelay: 6
	GrantConditionOnAttack:
		Condition: gatling
		RequiredShotsPerInstance: 1,2,4
		MaximumInstances: 3
		RevokeDelay: 55
		RevokeOnNewTarget: False
		RevokeAll: True

LASP:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 30
		Prerequisites: ~structures.nod, nuk2, ~techlevel.medium
		IconPalette: chrometd
		Description: • Stops infantry\n• Blocks enemy fire\n• Cannot be crushed by tanks
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	RequiresBuildableArea:
		Adjacent: 7
	Tooltip:
		Name: Laser Fence
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	WithIdleAnimation@OFFLINE:
		Interval: 0
		Sequences: idle-offline
		RequiresCondition: disabled || empdisable || being-warped
	Health:
		HP: 100000
	Armor:
		Type: Concrete
	Sellable:
		RequiresCondition: !disabled && !empdisable && !build-incomplete && !c4 && !being-warped && !hacked
	-Capturable:
	-CaptureNotification:
	-ProximityCaptor:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-MustBeDestroyed:
	Power:
		Amount: -15
	RevealsShroud:
		Range: 3c0
	LineBuild:
		Range: 10
		NodeTypes: laserfencenode
		SegmentType: lasf
		SegmentsRequireNode: true
	LineBuildNode:
		Types: laserfencenode
	LineBuildSegmentExternalCondition:
		RequiresCondition: !build-incomplete && !disabled && !empdisable && !being-warped && !hacked
		Condition: active-posts
	Explodes@TEMPORAL:
		Weapon: TemporalExplode
		EmptyWeapon: TemporalExplode

LASF:
	Inherits: ^Wall
	Tooltip:
		Name: Laser Fence
	LineBuild:
		NodeTypes: laserfence
	LineBuildNode:
		Types: laserfence
	-Crushable:
	-Sellable:
	-RenderSprites:
	RenderSprites:
		Palette: effect-ignore-lighting-alpha85
	-Targetable:
	-Building:
	-SoundOnDamageTransition:
	EnergyWall:
		ActiveCondition: active-posts == 2
		Weapon: LaserFence
	GrantConditionOnLineBuildDirection@X:
		Direction: X
		Condition: laserfence-direction-x
	GrantConditionOnLineBuildDirection@Y:
		Direction: Y
		Condition: laserfence-direction-y
	-WithWallSpriteBody:
	ExternalCondition@ACTIVE:
		Condition: active-posts
	WithWallSpriteBody@XENABLED:
		RequiresCondition: laserfence-direction-x && active-posts == 2
		Type: laserfence
		Sequence: enabled-x
		Name: x-enabled
	WithWallSpriteBody@YENABLED:
		RequiresCondition: laserfence-direction-y && active-posts == 2
		Type: laserfence
		Sequence: enabled-y
		Name: y-enabled
	WithSpriteBody@XDISABLED:
		RequiresCondition: laserfence-direction-x && active-posts < 2
		Sequence: disabled-x
		Name: x-disabled
	WithSpriteBody@YDISABLED:
		RequiresCondition: laserfence-direction-y && active-posts < 2
		Sequence: disabled-y
		Name: y-disabled
	BlocksProjectiles:
		RequiresCondition: active-posts >= 2
	DamageMultiplier: # Prevent all normal damage, but still allows direct kills from the post
		Modifier: 0
	Interactable:
		Bounds: 48, 24

PATR:
	Inherits: ^DefenseTD
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: gtek, ~structures.gdi, ~techlevel.unrestricted
		BuildLimit: 1
		IconPalette: chrometd
		Description: Launches E.M. Pulse Missiles that\n  disable vehicles & structures.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: E.M. Pulse Missile
	Valued:
		Cost: 1500
	Tooltip:
		Name: EMP Missile Launcher
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	Turreted:
		TurnSpeed: 8
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
		PauseOnCondition: disabled || empdisable || being-warped
	WithIdleAnimation:
		Sequences: empty
		Interval: 0
		RequiresCondition: !loaded-rocket
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
		RequiresCondition: loaded-rocket > 0
	Armament:
		Weapon: EMPMissileLauncher
		LocalOffset: 511,396,511
	AttackOrderPower@EMPMISSILE:
		OrderName: empmissile
		PauseOnCondition: empdisable || disabled || being-warped
		Cursor: empmissile
		Icon: empmissile
		ChargeInterval: 4500
		Description: E.M. Missile
		LongDesc: \nFires a Tomahawk missile which disables all mechanical units\n    and structures on impact.
		BeginChargeSpeechNotification: EMMissilePrepping
		EndChargeSpeechNotification: EMMissileReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayTimerRelationships: Ally, Neutral, Enemy
	AmmoPool:
		Ammo: 1
		ReloadCount: 1
		AmmoCondition: loaded-rocket
	ReloadAmmoPool:
		Delay: 100
		Count: 1
	SupportPowerChargeBar:
	Power:
		Amount: -200
	ClassicFacingBodyOrientation:
	Explodes:
		Weapon: BuildingExplode
		EmptyWeapon: BuildingExplode
	WithBuildingBib:
		HasMinibib: true
	Selectable:
		Bounds: 48,48
	RejectsOrders:
		Except: Sell, PowerDown
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	Sellable:
		RequiresCondition: !build-incomplete && !(c4 || tnt) && !being-captured && !being-warped && !hacked
	CaptureManager:
		BeingCapturedCondition: being-captured
	Capturable:
		RequiresCondition: !build-incomplete && !being-warped
		Types: building
	CapturableProgressBar:
	CapturableProgressBlink:
	-Targetable@MINDCONTROL:

INDP:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	Selectable:
		Bounds: 72,56,0,12
		DecorationBounds: 73,72
	WithSpriteBody:
		PauseOnCondition: disabled || being-warped
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		Prerequisites: ~structures.soviet, stek, ~techlevel.high
		Description: Vehicles & aircraft are produced 15% faster and cost 5% less.
		BuildLimit: 1
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cannot be captured or hacked
	Valued:
		Cost: 2500
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Tooltip:
		Name: Industrial Plant
	Building:
		Footprint: ___ xxx xxx ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: -150
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@disabled:
		Prerequisite: indplowpower
		RequiresCondition: disabled || empdisable || being-warped
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	GrantConditionOnPrerequisite@Bot:
		Condition: owned-by-ai
		Prerequisites: botplayer
	GrantRandomCondition@ai-v2:
		Conditions: ai-v2-upgrade, noupgrade
	ProvidesPrerequisite@ai-v2:
		Prerequisite: v2.upgrade
		RequiresCondition: ai-v2-upgrade && owned-by-ai
	GrantCondition@DUMMY:
		Condition: noupgrade
		RequiresCondition: noupgrade
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

OREP:
	Inherits: ^Building
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	HitShape:
		TargetableOffsets: -355,-1024,0
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		Prerequisites: ~structures.allies, atek, ~techlevel.high
		Description: Refines ore, gems & Tiberium, increasing income by 5%.\n  Provides access to advanced chrono harvester technology.
		BuildLimit: 1
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cannot be captured or hacked
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	ProvidesPrerequisite@buildingname:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Ore Purifier
	ResourcePurifierCA@NORMAL:
		Modifier: 5
		RequiresCondition: !disabled && !being-warped && !orep-upgrade
	ResourcePurifierCA@UPGRADE:
		Modifier: 10
		RequiresCondition: !disabled && !being-warped && orep-upgrade
	Power:
		Amount: -150
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	GrantConditionOnPrerequisite@Bot:
		Condition: owned-by-ai
		Prerequisites: botplayer
	GrantConditionOnPrerequisite@UPGRADE:
		Condition: orep-upgrade
		Prerequisites: orep.upgrade
	GrantRandomCondition@ai-pcan:
		Conditions: ai-pcan-upgrade, noupgrade
	ProvidesPrerequisite@ai-pcan:
		Prerequisite: pcan.upgrade
		RequiresCondition: ai-pcan-upgrade && owned-by-ai
	GrantCondition@DUMMY:
		Condition: noupgrade
		RequiresCondition: noupgrade
	ValidFactions:
		Factions: england, germany, france, usa
	ProvidesPrerequisiteValidatedFaction@germanyorep:
		Factions: germany
		Prerequisite: orep.germany
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

UPGC:
	Inherits: ^BuildingTD
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	HitShape:
		TargetableOffsets: -355,-1024,0
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-1024,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	WithSpriteBody:
		PauseOnCondition: disabled || being-warped
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		Prerequisites: ~structures.gdi, gtek, ~techlevel.high
		Description: Allows the construction of advanced weaponry and upgrades.
		BuildLimit: 1
		IconPalette: chrometd
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cannot be captured or hacked
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Upgrade Center
	ValidFactions:
		Factions: talon, zocom, eagle, arc
	ProvidesPrerequisiteValidatedFaction@talonupgc:
		Factions: talon
		Prerequisite: upgc.talon
	ProvidesPrerequisiteValidatedFaction@zocomupgc:
		Factions: zocom
		Prerequisite: upgc.zocom
	ProvidesPrerequisiteValidatedFaction@eagleupgc:
		Factions: eagle
		Prerequisite: upgc.eagle
	ProvidesPrerequisiteValidatedFaction@arcupgc:
		Factions: arc
		Prerequisite: upgc.arc
	ProvidesPrerequisite@Name:
	Power:
		Amount: -150
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionAirdropCA:
		Produces: Money
		PauseOnCondition: forceshield || invulnerability || being-warped
		ActorType: ocar.pod
		IncomingAudio: SuppliesInbound
		SpawnType: ClosestEdgeToDestination
		ProportionalSpeed: true
	WithDeliveryOverlay:
		Sequence: flare
		Palette: effect
		IsPlayerPalette: false
		Offset: -1024,768,0
	PeriodicProducerCA@DROP:
		Type: Money
		ChargeDuration: 1500
		Actors: truk.drop
		ShowSelectionBar: true
		RequiresCondition: tower.drop && !(empdisable || disabled || being-warped)
	ProductionBar:
		ProductionType: Upgrade
	Exit:
		SpawnOffset: 511,511,0
		ExitCell: 1,1
	Turreted:
		TurnSpeed: 12
		InitialFacing: 384
		RealignDelay: -1
		Offset: -768,468,0
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	AttackTurreted:
		RequiresCondition: tower.rocket && loaded-rocket > 0
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	Armament@ROCKET:
		RequiresCondition: tower.rocket
		Weapon: FirestormBarrage
		LocalOffset: 768,64,368, 768,-64,368, 768,64,255, 768,-64,255
	SupportPowerChargeBar:
	AttackOrderPower@ROCKET:
		OrderName: rocketbarrage
		PauseOnCondition: empdisable || disabled || being-warped
		Cursor: ability
		Icon: fstorm
		IconPalette: chrometd
		ChargeInterval: 7500
		Description: Firestorm
		LongDesc: \nFires a barrage of rockets at the target area.
		BeginChargeSpeechNotification: FireStormOffline
		EndChargeSpeechNotification: FireStormReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayTimerRelationships: Ally
		RequiresCondition: tower.rocket
		Prerequisites: ~techlevel.unrestricted
	RejectsOrders:
		Except: Sell, PowerDown
	AmmoPool:
		Ammo: 3
		ReloadCount: 3
		AmmoCondition: loaded-rocket
	ReloadAmmoPool:
		Delay: 100
		Count: 3
	WithSpriteTurret@ROCKET:
		RequiresCondition: !build-incomplete && tower.rocket
		Recoils: false
		Sequence: turret-rocket
	WithIdleOverlay@RADAR:
		RequiresCondition: !build-incomplete && tower.radar
		Sequence: turret-radar
		PauseOnCondition: !scan-active || disabled || being-warped
	WithIdleOverlay@SHIELD:
		RequiresCondition: !build-incomplete && tower.shield && !nshield-active
		Sequence: turret-shield
		PauseOnCondition: disabled || being-warped
	WithIdleOverlay@SHIELD-ACTIVE:
		RequiresCondition: !build-incomplete && tower.shield && nshield-active
		Sequence: turret-shield-active
		PauseOnCondition: disabled || being-warped
	WithIdleOverlay@SHIELD-ACTIVE-EFFECT:
		RequiresCondition: !build-incomplete && tower.shield && nshield-active
		Sequence: emp-overlay
		Palette: tseffect
		PauseOnCondition: disabled || being-warped
		Offset: -1284,384,0
	WithIdleOverlay@DZONE:
		RequiresCondition: !build-incomplete && tower.drop
		Sequence: turret-drop
		PauseOnCondition: disabled || being-warped
	GrantPrerequisiteChargeDrainPowerCA@RADAR:
		OrderName: advradarorder
		DischargeModifier: 600
		Prerequisite: scan-active
		ChargeInterval: 4500
		Icon: arscan
		IconPalette: chrometd
		Description: Advanced Radar Scan
		LongDesc: \nReveals the location of enemy structures & units\n    through the fog of war.
		RequiresCondition: !build-incomplete && tower.radar
		PauseOnCondition: !radar-active || disabled || being-warped
		LaunchSound: gradarup.aud
		BeginChargeSound: gradardn.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		Prerequisites: ~techlevel.unrestricted
		EarlyDeactivationPenalty: 1500
	DrainPrerequisitePowerOnDamage@RADAR:
		OrderName: advradarorder
	GrantConditionOnPrerequisite@SCAN:
		Prerequisites: scan-active
		Condition: scan-active
	GrantConditionOnBotOwner@RADAR:
		Condition: scan-active
		Bots: brutal, vhard, hard, normal, easy, naval
	GrantConditionOnPrerequisite@RADAR:
		Prerequisites: radar-active
		Condition: radar-active
	GpsRadarProvider:
		RequiresCondition: tower.radar && scan-active && !(disabled || being-warped)
	ExternalCondition@NSACTIVE:
		Condition: nshield-active
	ExternalCondition@NSAUDIO:
		Condition: nshield-audio
	SpawnActorPowerCA@NSHIELD:
		Actor: nshield
		OrderName: nshieldorder
		Icon: nshield
		Prerequisites: ~techlevel.unrestricted
		ChargeInterval: 6000
		LifeTime: 375
		Description: Nanite Shield
		LongDesc: \nReduces the damage taken by all vehicles in the target area.
		LaunchSound: srepaira.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayRadarPing: True
		DisplayTimerRelationships: Ally
		Cursor: ability
		AllowMultiple: false
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
		RequiresCondition: tower.shield
		TargetCircleRange: 6c0
		TargetCircleColor: 64a5dcbb
	ProximityExternalCondition@NSHIELD-AUDIO:
		Condition: nshield-audio
		RequiresCondition: nshield-active
		AffectsParent: true
		EnableSound: uscolo1.aud
	AmbientSound@NSHIELD-AUDIO:
		SoundFiles: uscolo2a.aud, uscolo2b.aud, uscolo2c.aud
		Delay: 3
		Interval: 0
		RequiresCondition: nshield-audio || nshield-active
	Pluggable:
		Conditions:
			tower.rocket: tower.rocket
			tower.radar: tower.radar
			tower.shield: tower.shield
			tower.drop: tower.drop
		Requirements:
			tower.rocket: !build-incomplete && !tower.radar && !tower.rocket && !tower.shield && !tower.drop
			tower.radar: !build-incomplete && !tower.radar && !tower.rocket && !tower.shield && !tower.drop
			tower.shield: !build-incomplete && !tower.radar && !tower.rocket && !tower.shield && !tower.drop
			tower.drop: !build-incomplete && !tower.radar && !tower.rocket && !tower.shield && !tower.drop
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && (tower.rocket || tower.radar || tower.shield || tower.drop)
		Prerequisite: upgc.plugged
	ProvidesPrerequisite@AMPSEEK:
		RequiresCondition: !build-incomplete && tower.radar
		Prerequisite: seek3.strat
		RequiresPrerequisites: seek.strat
	ProvidesPrerequisite@AMPBOMB:
		RequiresCondition: !build-incomplete && tower.rocket
		Prerequisite: bombard3.strat
		RequiresPrerequisites: bombard.strat
	ProvidesPrerequisite@AMPHOLD:
		RequiresCondition: !build-incomplete && tower.shield
		Prerequisite: hold3.strat
		RequiresPrerequisites: hold.strat
	GrantConditionOnPrerequisite:
		Prerequisites: nshield
		Condition: nshield-active
	ProductionCostMultiplier@TALONBONUS:
		Multiplier: 90
		Prerequisites: player.talon
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

UPGC.SOCK:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Component Platform

UPGC.BOMB:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1500
	Tooltip:
		Name: Upgrade: Firestorm Missile System
	Buildable:
		Queue: Upgrade
		BuildPaletteOrder: 3
		Prerequisites: upgc, !upgc.plugged, bombard2.strat, ~bombard.strat, ~!seek.strat, ~!hold.strat, ~techlevel.high
		Description: Provides an napalm rocket barrage.
		IconPalette: chrometd
	TooltipExtras:
		Strengths: + Increases unit firepower by a further 5%\n+ Unlocks Firestorm Missile Barrage power
		Attributes: \n(!) Mutually exclusive with Supply Drop Zone
	Plug:
		Type: tower.rocket
	Power:
		Amount: -100

UPGC.SEEK:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1500
	Tooltip:
		Name: Upgrade: Advanced Radar System
	Buildable:
		Queue: Upgrade
		BuildPaletteOrder: 6
		Prerequisites: upgc, !upgc.plugged, seek2.strat, ~seek.strat, ~!bombard.strat, ~!hold.strat, ~techlevel.high
		Description: Provides detailed information on enemy locations.
		IconPalette: chrometd
	TooltipExtras:
		Strengths: + Increases unit speed and weapon range by a further 5%\n+ Unlocks Advanced Radar Scan power
		Attributes: \n(!) Mutually exclusive with Supply Drop Zone
	Plug:
		Type: tower.radar
	Power:
		Amount: -100

UPGC.HOLD:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1500
	Tooltip:
		Name: Upgrade: Nanoshield Generator
	Buildable:
		Queue: Upgrade
		BuildPaletteOrder: 9
		Prerequisites: upgc, !upgc.plugged, hold2.strat, ~hold.strat, ~!bombard.strat, ~!seek.strat, ~techlevel.high
		Description: Provides the ability to shield units in an area
		IconPalette: chrometd
	TooltipExtras:
		Strengths: + Increases unit armor by a further 5%\n+ Unlocks Nanite Shield power
		Attributes: \n(!) Mutually exclusive with Supply Drop Zone
	Plug:
		Type: tower.shield
	Power:
		Amount: -100

UPGC.DROP:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 1500
	Tooltip:
		Name: Upgrade: Supply Drop Zone
	Buildable:
		Queue: Upgrade
		BuildPaletteOrder: 90
		Prerequisites: ~upgc, ~!upgc.plugged, ~techlevel.high
		Description: Provides a dropzone for emergency supplies.
		IconPalette: chrometd
	TooltipExtras:
		Strengths: + $750 delivered every 60 seconds (normal speed)
		Attributes: \n(!) Mutually exclusive with Firestorm Missile System,\n       Advanced Radar System and Nanoshield Generator
	Plug:
		Type: tower.drop
	Power:
		Amount: -50

TMPP:
	Inherits: ^BuildingTD
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	Inherits@PRIMARY: ^PrimaryBuilding
	RenderSprites:
		PlayerPalette: overlayplayertd
	Selectable:
		Bounds: 72,60,0,6
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Building:
		Footprint: XxX xxx X+X
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		IconPalette: chrometd
		Prerequisites: ~structures.nod, tmpl, ~techlevel.high
		Description: Provides access to cybernetic upgrades.
		BuildLimit: 1
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cannot be captured or hacked\n• Special Ability: Cyborg Converter (with upgrade)
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Temple Prime
	Power:
		Amount: -150
	ProvidesPrerequisite@Name:
		RequiresCondition: !being-warped
	ProvidesPrerequisite@CYBORGPRODUCTION:
		Prerequisite: cyborg.production
		RequiresCondition: cyborg-production
	ProvidesPrerequisite@marked:
		Factions: marked
		Prerequisite: infantry.marked
	ProvidesPrerequisite@cyborg:
		Prerequisite: infantry.cyborg
	GrantConditionOnPrerequisite@CYBORGPRODUCTION:
		Condition: cyborg-production
		Prerequisites: cyborg.upgrade, hand
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	Production:
		Produces: Upgrade, Infantry, Cyborg
		PauseOnCondition: forceshield || invulnerability || being-warped
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Upgrade
	Exit@1:
		SpawnOffset: -170,1310,0
		ExitCell: 1,3
		ProductionTypes: Cyborg, Infantry
	Exit@2:
		SpawnOffset: 190,-400,0
		ExitCell: 1,-1
		ProductionTypes: Cyborg, Infantry
		Priority: 0
	RallyPoint:
	GrantConditionOnPrerequisite@Cyborgs:
		Prerequisites: cyborg.upgrade
		Condition: cyborgs
	UnitConverter:
		Type: Cyborg
		ReadyAudio: UnitUpgraded
		NoCashAudio: InsufficientFunds
		BlockedAudio: OnHold
		RequiresCondition: cyborgs
		CostDifferenceRequired: true
		EjectOnDeploy: true
		ConvertingCondition: converting
	PrimaryBuilding:
		RequiresCondition: !converting
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

MSLO.Nod:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x1Shape
	RenderSprites:
		Image: nmslo
	Selectable:
		Bounds: 48,24,0,12
	Valued:
		Cost: 2500
	Tooltip:
		Name: Missile Silo
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 140
		IconPalette: chrometd
		Prerequisites: tmpl, ~techlevel.unrestricted, ~structures.nod
		BuildLimit: 1
		Description: Provides a chemical missile.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Chemical Missile
	Building:
		Footprint: xx
		Dimensions: 2,1
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	NukePower@Chemmiss:
		OrderName: chemmissile
		Icon: chemmissile
		IconPalette: chrometd
		Prerequisites: techlevel.unrestricted
		Cursor: chemmissile
		ChargeInterval: 13500
		Description: Chemical Missile
		LongDesc: \nLaunches an deadly Chemical Missile. Deals heavy damage\n    and creates toxic clouds which are extremely harmful to infantry.\n
		EndChargeSpeechNotification: CMissileReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: MissileLaunchDetected
		MissileWeapon: Chemicbm
		MissileDelay: 5
		IncomingSound: nukelaunch.aud
		LaunchSound: nukelaunch.aud
		MissilePalette: temptd
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: cmissile
		SpawnOffset: 1000, 0, 0
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		PauseOnCondition: disabled || empdisable || being-warped
		TrailImage: smokey2
		TrailSequences: idle
		TrailPalette: tseffect-ignore-lighting-alpha75
		DetonationAltitude: 0
		CircleRanges: 6c512
		CircleColor: 00BB00AA
		CircleBorderColor: 007700AA
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate

WEAT:
	Inherits: ^Building
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: atek, ~structures.allies, ~techlevel.unrestricted
		BuildLimit: 1
		Description: Provides Lightning Storm support power.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Lightning Storm
	Valued:
		Cost: 2500
	Tooltip:
		Name: Weather Control Device
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	DetonateWeaponPower@LightningStorm:
		OrderName: storm
		Icon: storm
		Cursor: ability
		ChargeInterval: 13500
		Description: Lightning Storm
		ActivationDelay: 50
		LongDesc: \nInitiate a Lightning Storm which deals\n    heavy damage over a large area.
		Weapon: WeatherStormInit
		AirburstAltitude: 4c512
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: StormReady
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: StormApproach
		IncomingSound: sweaintr.aud
		LaunchSound: sweaintr.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayBeacon: True
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		BeaconPoster: stormicon
		TargetCircleRange: 6c512
		TargetCircleColor: 0000FF90
		Duration: 350
		ActiveCondition: active
		PaletteEffectType: LightningStorm
	WithIdleOverlay@ACTIVE:
		Sequence: active-overlay
		Palette: d2keffect
		RequiresCondition: active
	SupportPowerChargeBar:
	Power:
		Amount: -200
	ProvidesPrerequisite@buildingname:
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	WithBuildingBib:
		HasMinibib: true
