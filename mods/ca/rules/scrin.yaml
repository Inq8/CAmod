
^ScrinBuilding:
	Inherits@1: ^Building
	RenderSprites:
		PlayerPalette: playerscrin
	SpawnActorOnDeath:
		Actor: s1
	SpawnActorsOnSell:
		ActorTypes: s1
	-SpawnRandomActorOnDeath:
	Building:
		BuildSounds: scrinbuild.aud

INFANTRY.SCRIN:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

VEHICLES.SCRIN:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

^ResourceConversion:
	AmmoPool@RESCONV:
		Ammo: 5
		InitialAmmo: 0
		AmmoCondition: ammo
		Armaments: primary-charged
	ReloadAmmoPool@RESCONV:
		Count: 1
		Delay: 25
		RequiresCondition: charging-on-resource
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 5
		RequiresCondition: ammo
		RequiresSelection: true
		Position: BottomLeft
		Margin: 4, 3
	ExternalCondition@RESCONVTIB:
		Condition: on-tib
	ExternalCondition@RESCONVORE:
		Condition: on-ore
	ExternalCondition@RESCONVBLUETIB:
		Condition: on-bluetib
	ExternalCondition@RESCONVGEMS:
		Condition: on-gems
	GrantCondition@RESCONV:
		Condition: on-resource
		RequiresCondition: on-tib || on-ore || on-bluetib || on-gems
	GrantCondition@RESCONVCHARGE:
		Condition: charging-on-resource
		RequiresCondition: resconv-upgrade && on-resource && (ammo < 5 || charged-fire)
	GrantConditionOnTerrain@RESCONVTIB:
		Condition: on-tib
		TerrainTypes: Tiberium
	GrantConditionOnTerrain@RESCONVORE:
		Condition: on-ore
		TerrainTypes: Ore
	GrantConditionOnTerrain@RESCONVBLUETIB:
		Condition: on-bluetib
		TerrainTypes: BlueTiberium
	GrantConditionOnTerrain@RESCONVGEMS:
		Condition: on-gems
		TerrainTypes: Gems
	GrantConditionOnAttack@PRIMARY:
		ArmamentNames: primary
		Condition: uncharged-fire
		RevokeDelay: 85
	GrantConditionOnAttack@PRIMARYCHARGED:
		ArmamentNames: primary-charged
		Condition: charged-fire
		RevokeDelay: 85
	GrantConditionOnPrerequisite@RESCONV:
		Condition: resconv-upgrade
		Prerequisites: resconv.upgrade
	WithIdleOverlay@RESCONVTIB:
		Image: resconv
		Sequence: green
		Palette: scrin
		RequiresCondition: on-tib && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVORE:
		Image: resconv
		Sequence: yellow
		Palette: scrin
		RequiresCondition: on-ore && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVBLUETIB:
		Image: resconv
		Sequence: blue
		Palette: scrin
		RequiresCondition: on-bluetib && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVGEMS:
		Image: resconv
		Sequence: red
		Palette: scrin
		RequiresCondition: on-gems && charging-on-resource
		Offset: 0,0,300

^HullRegen:
	GrantConditionOnPrerequisite@REGEN:
		Condition: regen-upgrade
		Prerequisites: regen.upgrade
	ChangesHealth@REGEN1:
		Step: 400
		Delay: 25
		StartIfBelow: 66
		DamageCooldown: 250
		RequiresCondition: regen-upgrade
	ChangesHealth@REGEN2:
		Step: 200
		Delay: 25
		StartIfBelow: 100
		DamageCooldown: 250
		RequiresCondition: regen-upgrade

^ScrinShields:
	Shielded:
		MaxStrength: 6500
		RegenDelay: 350
		RegenAmount: 250
		RegenInterval: 5
		ShieldsUpCondition: shields-up
		RequiresCondition: shields-upgrade && !empdisable
		SelectionBarColor: ead6ff
	Targetable@SHIELDS:
		TargetTypes: Shielded
		RequiresCondition: shields-up
	GrantConditionOnPrerequisite@SHIELDS:
		Condition: shields-upgrade
		Prerequisites: shields.upgrade
	WithSpriteTurret@SHIELDS:
		RequiresCondition: shields-upgrade && shields-up
		Sequence: shield
		Palette: scrinshield-ignore-lighting-alpha50
	Turreted@SHIELDS:
		PauseOnCondition: shields-upgrade
		RequiresCondition: shields-upgrade
	SpeedMultiplier@SHIELDWARP:
		Modifier: 25
		RequiresCondition: shield-warped
	ExternalCondition@SHIELDWARP:
		Condition: shield-warped
	WithColoredOverlay@SHIELDWARP:
		RequiresCondition: shield-warped
		Color: 51aeda38
	WithIdleOverlay@TEMPORAL:
		RequiresCondition: being-warped || shield-warped

^IonConduits:
	GrantConditionOnPrerequisite@IONCON:
		Condition: ioncon-upgrade
		Prerequisites: ioncon.upgrade
	Targetable@StormBoost:
		TargetTypes: StormBoost
	AmbientSoundCA@IONSTORM:
		SoundFiles: ionstorm.aud
		Delay: 0
		Interval: 850
		VolumeMultiplier: 0.4
		RequiresCondition: storm-level
	AmbientSoundCA@AMBIENCE:
		SoundFiles: thunder1.aud, thunder2.aud, thunder3.aud, thunder4.aud, thunder5.aud, thunder.ambient.aud
		Delay: 20, 200
		Interval: 250, 1250
		VolumeMultiplier: 0.3
		RequiresCondition: storm-level
	LaysMinefield@IONSTORM:
		Mines: strm, strm, strm.live
		MineSelectionMode: Shuffled
		Locations: 0,1, 1,0, -1,0
		RecreationInterval: 150
		RequiresCondition: storm-level
	GrantConditionOnAttackCA@IONSTORM:
		RequiresActorTarget: true
		Condition: storm-active
		RevokeDelay: 75
		RequiresCondition: ioncon-upgrade
	GrantConditionOnDamage@IONSTORM:
		Condition: storm-active
		Duration: 75
		RequiresCondition: ioncon-upgrade
		ValidRelationships: Ally, Enemy, Neutral
	GrantStackingCondition@IONSTORM:
		Condition: storm-level
		DelayPerInstance: 120
		MaximumInstances: 3
		RevokeDelay: 200
		RequiresCondition: storm-active
	RangeMultiplier@IONSTORM1:
		Modifier: 105
		RequiresCondition: storm-level == 1
	FirepowerMultiplier@IONSTORM1:
		Modifier: 110
		RequiresCondition: storm-level == 1
	DamageMultiplier@IONSTORM1:
		Modifier: 95
		RequiresCondition: storm-level == 1
	RangeMultiplier@IONSTORM2:
		Modifier: 110
		RequiresCondition: storm-level == 2
	FirepowerMultiplier@IONSTORM2:
		Modifier: 115
		RequiresCondition: storm-level == 2
	DamageMultiplier@IONSTORM2:
		Modifier: 80
		RequiresCondition: storm-level == 2
	RangeMultiplier@IONSTORM3:
		Modifier: 115
		RequiresCondition: storm-level == 3
	FirepowerMultiplier@IONSTORM3:
		Modifier: 120
		RequiresCondition: storm-level == 3
	DamageMultiplier@IONSTORM3:
		Modifier: 85
		RequiresCondition: storm-level == 3
	WithDecoration@IONSTORM1:
		Image: pips
		Sequence: pip-ion1
		Palette: scrin
		Position: BottomLeft
		Margin: -6, 3
		RequiresCondition: storm-level == 1
	WithDecoration@IONSTORM2:
		Image: pips
		Sequence: pip-ion2
		Palette: scrin
		Position: BottomLeft
		Margin: -6, 3
		RequiresCondition: storm-level == 2
	WithDecoration@IONSTORM3:
		Image: pips
		Sequence: pip-ion3
		Palette: scrin
		Position: BottomLeft
		Margin: -6, 3
		RequiresCondition: storm-level == 3

^ScrinVehicleVoice:
	Voiced:
		VoiceSet: ScrinVehicleVoice

#
# ---- Infantry
#

^ScrinInfantry:
	Inherits: ^Soldier
	RenderSprites:
		PlayerPalette: playerscrin
	Voiced:
		VoiceSet: ScrinInfantryVoice
	Targetable:
		TargetTypes: Ground, Infantry, TNT
	WithInfantryBody:
		IdleSequences: idle1, idle2, idle3, idle4
	WithDeathAnimation:
		DeathSequencePalette: playerscrin
		CrushedSequencePalette: playerscrin
	-GrantConditionOnTerrain@ONTIB:
	-GrantStackingCondition@TIBEXPOSED:
	-DamagedByTerrain@TIBDAMAGE:
	-GrantConditionOnPrerequisite@BIO:
	-GrantConditionOnPrerequisite@HAZMAT:
	-GrantConditionOnPrerequisite@HAZMATSOVIET:
	-GrantConditionOnPrerequisite@HAZMATZOCOM:
	-GrantCondition@HAZMAT:
	-GrantCondition@HAZMATSOVIET:
	-WithDecoration@HAZMAT:
	-WithDecoration@HAZMATSOVIET:
	-GrantConditionOnTerrain@HAZMATSOVIET:
	-SpeedMultiplier@HAZMATSOVIET:
	Targetable@HAZMAT:
		-RequiresCondition:
	WithDecoration@BINO:
		-BlinkPatterns:
	TakeCover:
		ProneSequencePrefix:
		ProneOffset: 0,0,0
	GrantConditionOnPrerequisite@ADVART:
		Condition: advart-upgrade
		Prerequisites: advart.upgrade
	SpeedMultiplier@ADVART:
		RequiresCondition: advart-upgrade
		Modifier: 115
	-DamagedByTintedCells@RADSTRONGHAZMAT:
	-DamagedByTintedCells@RADSTRONGHAZMATSOVIET:
	-DamagedByTintedCells@RADMEDHAZMAT:
	-DamagedByTintedCells@RADWEAKHAZMAT:
	DamagedByTintedCells@RADSTRONG:
		Damage: 375
		RequiresCondition: !being-warped
	DamagedByTintedCells@RADMED:
		Damage: 150
		RequiresCondition: !being-warped
	DamagedByTintedCells@RADWEAK:
		Damage: 50
		RequiresCondition: !being-warped
	DamageTypeDamageMultiplier@FLAKARMOR:
		RequiresCondition: carapace-upgrade
	DamageTypeDamageMultiplier@FLAKARMORMINOR:
		RequiresCondition: carapace-upgrade
	-GrantConditionOnPrerequisite@FLAKARMOR:
	GrantConditionOnPrerequisite@CARAPACE:
		Condition: carapace-upgrade
		Prerequisites: carapace.upgrade
	SpawnActorOnDeath@GMUT:
		Actor: gscr.mutating

S1:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@BOTHELPER: ^BotCaptureHelper
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 12
		Prerequisites: ~infantry.scrin
		Description: General-purpose infantry.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Infantry
		Weaknesses: • Weak vs Heavy Armor, Buildings, Defenses\n• Cannot attack Aircraft
	Valued:
		Cost: 100
	Tooltip:
		Name: Warrior
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	Armament@PRIMARY:
		Weapon: WarriorGun
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		LocalOffset: 150,0,400
	Armament@BATF:
		Name: batf
		Weapon: WarriorGunBATF
		MuzzleSequence: garrison-muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackFrontal:
		PauseOnCondition: being-warped
		FacingTolerance: 0
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: barracks.upgraded

S2:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 160
		Prerequisites: anyradar, ~infantry.scrin, ~techlevel.medium
		IconPalette: chromes
		Description: Fast moving anti-personnel infantry.
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor, Buildings, Defenses\n• Cannot attack Aircraft
	Valued:
		Cost: 275
	Tooltip:
		Name: Ravager
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 7000
	Mobile:
		Speed: 92
	Armament@PRIMARY:
		Weapon: RavagerShards
		LocalOffset: 0,-100,250, 0,100,250
	Armament@BATF:
		Name: batf
		Weapon: RavagerShards
	AttackFrontal:
		PauseOnCondition: being-warped
		FacingTolerance: 0
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: barracks.upgraded
	WithInfantryBody:
		DefaultAttackSequence: shoot
	-TakeCover:

S3:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 22
		Prerequisites: ~infantry.scrin
		Description: Anti-tank/anti-aircraft infantry.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Aircraft, Buildings, Defenses
		Weaknesses: • Weak vs Infantry, Light Armor
	Valued:
		Cost: 300
	Tooltip:
		Name: Disintegrator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 3500
	Mobile:
		Speed: 41
	Armament@PRIMARY:
		Weapon: DisintegratorBeamAA
		LocalOffset: 150,0,400
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Name: secondary
		Weapon: DisintegratorBeam
		LocalOffset: 150,0,400
		PauseOnCondition: !ammo
	Armament@BATF:
		Name: batf
		Weapon: DisintegratorBeamE
	AttackFrontal:
		PauseOnCondition: being-warped
		FacingTolerance: 0
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: barracks.upgraded
	AutoTarget:
		ScanRadius: 6
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 30
		Count: 1
	WithInfantryBody:
		DefaultAttackSequence: shoot

S4:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 170
		Prerequisites: anyradar, ~infantry.scrin, ~techlevel.medium
		IconPalette: chrome
		Description: Heavy assault infantry with high burst damage.
	TooltipExtras:
		Strengths: • Strong vs Buildings, Defenses, Heavy Armor, Light Armor
		Weaknesses: • Weak vs Infantry\n• Cannot attack Aircraft
		Attributes: • Special Ability: Teleport (with upgrade)
	Mobile:
		Speed: 54
	Valued:
		Cost: 500
	Tooltip:
		Name: Intruder
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 11000
	RevealsShroud:
		Range: 5c0
	Armament@PRIMARY:
		Weapon: IntruderDiscs
		LocalOffset: 150,0,400
	Armament@BATF:
		Name: batf
		Weapon: IntruderDiscs
	AttackFrontal:
		PauseOnCondition: being-warped
		FacingTolerance: 0
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: barracks.upgraded
	PortableChronoCA:
		ChargeDelay: 500
		MaxDistance: 16
		ChronoshiftSound: scrinport.aud
		RequiresCondition: blink-upgrade
		TeleportCondition: blink
		ConditionDuration: 3
		ShowSelectionBarWhenFull: false
	GrantConditionOnPrerequisite@BLINKPACKS:
		Condition: blink-upgrade
		Prerequisites: blink.upgrade
	WithColoredOverlay@BLINKFLASH:
		Color: ffffff80
		RequiresCondition: blink
	WithInfantryBody:
		DefaultAttackSequence: shoot

S6:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@SELECTION: ^SelectableSupportUnit
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 32
		Prerequisites: ~infantry.scrin
		IconPalette: chrome
		Description: Utility infantry used for capturing/repairing structures.
	TooltipExtras:
		Weaknesses: • Unarmed
		Attributes: • Captures enemy buildings\n• Repairs friendly structures & bridges\n• Defuses bombs
	Valued:
		Cost: 400
	Tooltip:
		Name: Assimilator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 2500
	Passenger:
		CustomPipType: yellow
	InstantlyRepairs:
	RepairsBridges:
		EnterBehaviour: Exit
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 150
	Armament@defuse:
		Weapon: DefuseKit
		Cursor: goldwrench
		OutsideRangeCursor: goldwrench
		TargetRelationships: Ally
		ForceTargetRelationships: None
		Name: secondary
	AutoTarget:
	AutoTargetPriority@defuse:
		ValidTargets: C4Attached, TNTAttached
		InvalidTargets: NoAutoTarget
		ValidRelationships: Ally
	AttackFrontal:
		Armaments: primary, secondary
		PauseOnCondition: being-warped
		FacingTolerance: 0
	Voiced:
		VoiceSet: AssimilatorVoice
	Targetable:
		TargetTypes: Ground, Infantry, ChaosImmune

BRST:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 171
		Prerequisites: scrt, ~infantry.scrin, ~techlevel.high
		IconPalette: chromes
		Description: Explodes on death or when triggered.
	Valued:
		Cost: 600
	Tooltip:
		Name: Burster
	TooltipExtras:
		Strengths: • Strong vs Infantry, Buildings, Light Armor
		Weaknesses: • Cannot attack Aircraft
	Health:
		HP: 8000
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 80
	RevealsShroud:
		Range: 7c0
	Explodes:
		Weapon: BursterExplode
		EmptyWeapon: BursterExplode
		DamageSource: Killer
	AttackFrontal:
		FacingTolerance: 64
	Armament@PRIMARY:
		Weapon: BursterTargeting
	GrantConditionOnAttack:
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
	KillsSelf:
		RequiresCondition: (triggered || berserk)
	-TakeCover:

SMEDI:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 240
		Prerequisites: ~disabled, ~infantry.scrin
		IconPalette: chromes
		Description: Heals nearby life-forms.
	TooltipExtras:
		Weaknesses: • Unarmed
	Valued:
		Cost: 200
	Tooltip:
		Name: Rejuvenator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	Armament:
		Weapon: Heal
		Cursor: heal
		OutsideRangeCursor: heal
		TargetRelationships: Ally
		ForceTargetRelationships: None
	AttackFrontal:
		PauseOnCondition: being-warped
		FacingTolerance: 0
	AttackSoundsCA@HEALSOUND:
		Sounds: heal2.aud
	WithInfantryBody:
		DefaultAttackSequence: heal
	Passenger:
		CustomPipType: blue
		Voice: Move
	Guard:
		Voice: Move
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry
		ValidRelationships: Ally
	Voiced:
		VoiceSet: AssimilatorVoice
	Targetable:
		TargetTypes: Ground, Infantry, ChaosImmune
	GuardsSelection:
		ValidTargets: Infantry
	KeepsDistance:

GSCR:
	Inherits: BRUT
	RenderSprites:
		Image: gscr
		PlayerPalette: playerscrin
	Voiced:
		VoiceSet: GiantScrinVoice
	WithDeathAnimation:
		DeathSequencePalette: playerscrin
	-Buildable:
	Tooltip:
		Name: Brutalizer
	-GrantConditionOnTerrain@ONTIB:
	-GrantStackingCondition@TIBEXPOSED:
	-DamagedByTerrain@TIBDAMAGE:
	WithInfantryBody:
		MoveSequence: run
		StandSequences: stand
		DefaultAttackSequence: bash
		IdleSequences: idle1, idle2, idle3, idle4
	AttackSounds:
		Sounds: gscr-attack1.aud, gscr-attack2.aud
	Selectable:
		DecorationBounds: 640, 896, -32, -256

GSCR.Mutating:
	Inherits: BRUT.Mutating
	SpawnActorOnDeath@GMUT:
		Actor: gscr
	RenderSprites:
		Image: gscr
		PlayerPalette: playerscrin
	WithDeathAnimation:
		DeathSequencePalette: playerscrin
	Tooltip:
		Name: Brutalizer

MAST:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@COMMANDOSKULL: ^CommandoSkull
	Inherits@HEALINGCOOLDOWN: ^HealingCooldown
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !maxcontrolled && !stance-attackanything && !assault-move
	Buildable:
		Queue: InfantrySQ, InfantryMQ
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 220
		Prerequisites: scrt, ~infantry.scrin, ~techlevel.high
		BuildLimit: 1
		IconPalette: chrome
		Description: Elite specialist infantry able to mind-control\n  enemy units (up to 3, increases with veterancy).
	TooltipExtras:
		Strengths: • Strong vs Infantry, Vehicles, Defenses, Buildings
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Maximum 1 can be trained\n• Can detect cloaked units\n• Immune to mind control\n• Can capture enemy buildings\n• Shorter range and longer reload against vehicles\n• Special Ability: Mind Shatter
	Voiced:
		VoiceSet: MastermindVoice
	Valued:
		Cost: 1350
	Tooltip:
		Name: Mastermind
		RequiresCondition: !rank-elite
	Tooltip@PRODIGY:
		Name: Prodigy
		RequiresCondition: rank-elite
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 18000
	Mobile:
		Speed: 60
	RevealsShroud:
		Range: 7c0
	Armament@PRIMARY:
		Weapon: EnslaveInfantry
		LocalOffset: 150,0,400
		PauseOnCondition: deployed
	Armament@SECONDARY:
		Name: secondary
		Weapon: EnslaveVehicle
		LocalOffset: 150,0,400
		PauseOnCondition: deployed
	Armament@BATF:
		Name: batf
		Weapon: PsychicBeamBATF
	MindController:
		ArmamentNames: primary, secondary
		Capacity: 3
		ControlSounds: mastermind-fire.aud
		ReleaseSounds: mastermind-release.aud
		ControllingCondition: mindcontrolling
		MaxControlledCondition: maxcontrolled
		ManualReleaseEnabled: true
	WithMindControlArc@MC:
		Color: c71585
		Transparency: 55
		Offset: 0,0,511
		Angle: 32
		Width: 116
	PeriodicExplosion:
		Weapon: MindSparkSpawnerMaster
		LocalOffset: 0,0,128
		InitialDelay: 10
		RequiresCondition: deployed && !being-warped
	PeriodicExplosionOnSlaves:
		Weapon: MindSparkSpawnerSlave
		InitialDelay: 18
		RequiresCondition: deployed && !being-warped
		KillSlaveTypes: Infantry, Vehicle
		KillSlavesDamageTypes: BulletDeath
	GrantTimedConditionOnDeploy:
		DeployedTicks: 35
		CooldownTicks: 150
		DeployedCondition: deployed
		ShowSelectionBar: true
		StartsFullyCharged: true
		Voice: Action
		PauseOnCondition: being-warped
	AttackFrontal:
		PauseOnCondition: being-warped || !ammo
		FacingTolerance: 0
	Selectable:
		DecorationBounds: 640, 896, -32, -256
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !rank-elite
	WithDeathAnimation:
		RequiresCondition: !rank-elite
	WithInfantryBody@PRODIGY:
		StandSequences: pdgy-stand
		MoveSequence: pdgy-run
		IdleSequences: pdgy-idle1, pdgy-idle2, pdgy-idle3, pdgy-idle4
		DefaultAttackSequence: pdgy-shoot
		RequiresCondition: rank-elite && !transforming
	WithDeathAnimation@PDGY:
		DeathSequencePalette: playerscrin
		CrushedSequencePalette: scrin
		DeathSequence: pdgy-die
		DeathTypes:
			DefaultDeath: 1
			BulletDeath: 2
			SmallExplosionDeath: 3
			ExplosionDeath: 4
			FireDeath: 5
			ElectricityDeath: 6
			PoisonDeath: 7
			ChronoDeath: 8
			ToxinDeath: 9
			RadiationDeath: 10
			FrozenDeath: 11
			AtomizedDeath: 12
		CrushedSequence: die-crushed
		RequiresCondition: rank-elite && !transforming
	WithSpriteBody@PRODIGYMAKE:
		RequiresCondition: transforming
		Sequence: stand
	GrantTimedCondition@PRODIGYMAKE:
		Condition: transforming
		Duration: 25
		RequiresCondition: rank-elite
	WithEnabledAnimation@PRODIGYMAKE:
		RequiresCondition: transforming
		Sequence: pdgy-make
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: barracks.upgraded
	-Crushable:
	TakeCover:
		SpeedModifier: 70
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 150
		ConsumedByCapture: false
	Targetable:
		TargetTypes: Ground, Infantry, MindControlImmune
	WithIdleOverlay@mindcontrolling:
		Sequence: mc
		Palette: scrin
		RequiresCondition: mindcontrolling
		Offset: 0,0,400
	Passenger:
		CustomPipType: red
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 35
		Count: 1
	MindControllerCapacityModifier@RANK-1:
		Amount: 1
		RequiresCondition: rank-veteran == 1
	MindControllerCapacityModifier@RANK-2:
		Amount: 2
		RequiresCondition: rank-veteran == 2
	MindControllerCapacityModifier@RANK-ELITE:
		Amount: 3
		RequiresCondition: rank-elite
	RangeMultiplier@RANK-ELITE:
		Modifier: 115
		RequiresCondition: rank-elite

#
# ---- Vehicles
#

HARV.Scrin:
	Inherits: HARV.TD
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Selectable:
		DecorationBounds: 1792, 1792
	RenderSprites:
		Image: harv.scrin
		PlayerPalette: player
	WithShadow:
		Offset: 43, 255, 0
		ZOffset: -256
		RequiresCondition: !invisibility
	WithHarvestOverlay:
		Palette: scrin
		LocalOffset: 400, 0, 0
	Buildable:
		BuildPaletteOrder: 13
		Prerequisites: ~proc.scrin, ~vehicles.scrin, ~techlevel.low
		IconPalette: chrome
	SpawnActorOnDeath:
		Actor: HARV.Scrin.Husk
	WithDockingAnimation:
		DockSequence: idle
		DockLoopSequence: idle
	-WithHarvestAnimation:
	WithDamageOverlay:
		Palette: chrometd

GUNW:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	Inherits@A2GPROTECTION: ^AirToGroundProtection
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 24
		Prerequisites: ~vehicles.scrin, ~!shrw.upgrade, ~techlevel.low
		Description: Durable light assault walker.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor, Aircraft
		Weaknesses: • Weak vs Heavy Armor, Buildings, Defenses
	Valued:
		Cost: 600
	Tooltip:
		Name: Gun Walker
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 33000
	Armor:
		Type: Light
	Mobile:
		Speed: 100
		TurnSpeed: 38
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: GunWalkerZap
		LocalOffset: 690,92,0, 690,-92,0
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@PRIMARYVISUAL:
		Weapon: GunWalkerZapVisual
		LocalOffset: 690,92,0, 690,-92,0
	Armament@SECONDARY:
		Name: secondary
		Weapon: GunWalkerZapAA
		LocalOffset: 690,92,0, 690,-92,0
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackFrontal:
		FacingTolerance: 40
		PauseOnCondition: empdisable || being-warped
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115
	UpgradeableTo:
		Actors: shrw
	Upgradeable@SHRW:
		Type: shrw.upgrade
		Actor: shrw
		UpgradeAtActors: fix, rep, srep
		BuildDuration: 100

SHRW:
	Inherits: GUNW
	Tooltip:
		Name: Shard Walker
	Buildable:
		Prerequisites: ~vehicles.scrin, ~shrw.upgrade, ~techlevel.medium
		IconPalette: chromes
	RenderSprites:
		PlayerPalette: playerscrin
	Armor:
		Type: Light
	Health:
		HP: 40000
	Mobile:
		Speed: 92
		TurnSpeed: 36
	Armament@PRIMARY:
		Weapon: ShardWalkerShards
		LocalOffset: 690,92,0, 690,-92,0
	-Armament@PRIMARYVISUAL:
	Armament@SECONDARY:
		Weapon: ShardWalkerShardsAA
		LocalOffset: 690,92,0, 690,-92,0
	-GrantConditionOnFaction@TRAVELERSPEED:
	-SpeedMultiplier@TRAVELERSPEED:
	-UpgradeableTo:
	-Upgradeable@SHRW:

SEEK:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 750
	Tooltip:
		Name: Seeker
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 42
		Prerequisites: ~vehicles.seek, ~techlevel.low
		Queue: VehicleSQ, VehicleMQ
		Description: Light hover tank.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Buildings
		Weaknesses: • Weak vs Infantry\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units and mines.\n• Can traverse water
	Mobile:
		Speed: 113
		Locomotor: lighthover
	Health:
		HP: 23000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Turreted:
		TurnSpeed: 40
		Offset: -280,0,0
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	Armament@PRIMARY:
		Weapon: PlasmaDiscs
		LocalOffset: 320,-25,320, 320,25,320
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	IgnoresDisguise:
	DetectCloaked:
		Range: 5c0
		DetectionTypes: Cloak, Thief, AirCloak, Mine
		RequiresCondition: !(empdisable || being-warped)
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

LACE:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 650
	Tooltip:
		Name: Lacerator
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 43
		Prerequisites: ~vehicles.traveler, ~techlevel.low
		Queue: VehicleSQ, VehicleMQ
		Description: Fast hover tank.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Buildings
		Weaknesses: • Weak vs Infantry\n• Cannot attack Aircraft
		Attributes: • Can detect cloaked units and mines.\n• Can traverse water
	Mobile:
		TurnSpeed: 40
		Speed: 144
		Locomotor: lighthover
	Health:
		HP: 13000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 5c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	Turreted:
		TurnSpeed: 40
		Offset: -50,0,0
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	GrantConditionOnTerrain:
		TerrainTypes: Water
		Condition: onwater
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	Armament@PRIMARY:
		Weapon: LaceratorShards
		LocalOffset: 0,70,320, 0,-70,320
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	IgnoresDisguise:
	DetectCloaked:
		Range: 5c0
		DetectionTypes: Cloak, Thief, AirCloak, Mine
		RequiresCondition: !(empdisable || being-warped)
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

INTL:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@TRANSPORT: ^ChronoshiftableTransport
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@TANKBUSTERVULN: ^TankBusterVulnerability
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 800
	Tooltip:
		Name: Interloper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 38
		Prerequisites: ~vehicles.scrin, ~techlevel.low
		Queue: VehicleSQ, VehicleMQ
		Description: Heavily armoured front-line assault vehicle and troop carrier.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor
		Weaknesses: • Weak vs Infantry, Defenses\n• Cannot attack Aircraft
		Attributes: • Can traverse water
	Mobile:
		Speed: 60
		PauseOnCondition: notmobile || being-captured || empdisable || being-warped || driver-dead
		TurnSpeed: 512
		Locomotor: lighthover
	Health:
		HP: 42000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: InterloperLaser
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		LocalOffset: 470,84,30, 470,-84,30
	WithMuzzleOverlay:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	Selectable:
		DecorationBounds: 1194, 1194
	Cargo:
		Types: Infantry
		MaxWeight: 5
		LoadingCondition: notmobile
		LoadedCondition: cargo
	WithCargoPipsDecoration:
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	Capturable:
		RequiresCondition: !being-warped && !cargo
	Capturable@DRIVER_DEAD:
		RequiresCondition: driver-dead && !cargo
	Targetable@DRIVERKILL:
		RequiresCondition: !driver-dead && !cargo
	Targetable@MINDCONTROL:
		RequiresCondition: !cargo && !mindcontrolled && !hacked && !restoring
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 75
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary
	WithSpriteTurret:
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

INTL.AI:
	Inherits: INTL
	RenderSprites:
		Image: INTL
	Buildable:
		Prerequisites: ~botplayer, ~vehicles.scrin, ~!scrt, ~techlevel.low

INTL.AI2:
	Inherits: INTL.AI
	Inherits@AIUNLOAD: ^AIUNLOAD
	RenderSprites:
		Image: INTL
	Buildable:
		Prerequisites: ~botplayer, ~vehicles.scrin, ~scrt, ~techlevel.low
	Cargo:
		InitialUnits: S1,S1,S2,S3,S3

CORR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 1100
	Tooltip:
		Name: Corrupter
	Selectable:
		DecorationBounds: 1536, 1536, 0, -128
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 140
		Prerequisites: anyradar, ~vehicles.corr, ~techlevel.medium
		Queue: VehicleSQ, VehicleMQ
		Description: Medium-ranged anti-infantry/structure unit.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Infantry, Buildings, Light Armor
		Weaknesses: • Weak vs Heavy Armor, Defenses\n• Cannot attack Aircraft\n• Has difficulty hitting moving targets
	Mobile:
		Speed: 72
		TurnSpeed: 16
	Health:
		HP: 38000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: CorrupterSpew
		LocalOffset: 750,0,100
	AttackFrontal:
		PauseOnCondition: empdisable || being-warped
		FacingTolerance: 0
	Explodes:
		Weapon: CorrupterExplode
		EmptyWeapon: CorrupterExplode
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115

LCHR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 1000
	Tooltip:
		Name: Leecher
	Selectable:
		DecorationBounds: 1536, 1536, 0, -128
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 141
		Prerequisites: anyradar, ~vehicles.collector, ~techlevel.medium
		Queue: VehicleSQ, VehicleMQ
		Description: Medium-ranged anti-infantry/structure unit.
		IconPalette: chromes
	TooltipExtras:
		Strengths: • Strong vs Infantry, Buildings, Light Armor
		Weaknesses: • Weak vs Heavy Armor, Defenses\n• Cannot attack Aircraft
		Attributes: • Regenerates health while dealing damage (without upgrade)\n• Disables power plants and radars\n• Slows vehicles & cyborgs\n• Regenerates and heals allies when in coalescence form (with upgrade)\n• Special Ability: Coalescence (with upgrade)
	Mobile:
		Speed: 82
		TurnSpeed: 20
	Health:
		HP: 30000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: LeecherBeam
		LocalOffset: 720,0,200, 720,-500,0, 720,500,0
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackFrontal:
		PauseOnCondition: empdisable || being-warped
		FacingTolerance: 0
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	ConvertsDamageToHealth:
		DamagePercentConverted: 25
		RequiresCondition: !coalescence-upgrade
	Explodes:
		Weapon: LeecherExplode
		EmptyWeapon: LeecherExplode
		RequiresCondition: !coalescence-upgrade
	Explodes@COALESCENCE:
		Weapon: LeecherCoalesce
		EmptyWeapon: LeecherCoalesce
		RequiresCondition: coalescence-upgrade
	GrantConditionOnPrerequisite@COALESCENCE:
		Condition: coalescence-upgrade
		Prerequisites: coalescence.upgrade
	SpawnActorOnDeath:
		Actor: lchr.orb
		RequiresCondition: coalescence-upgrade
	KillsSelf:
		RequiresCondition: triggered
	ActorLostNotification:
		RequiresCondition: !coalescence-upgrade
	GrantConditionOnDeploy:
		DeployedCondition: triggered
		RequiresCondition: coalescence-upgrade
	GivesBounty:
		RequiresCondition: global-bounty && !coalescence-upgrade
	TransfersStanceToDeathActor:

LCHR.Orb:
	Inherits@1: ^1x1Shape
	Inherits@2: ^SelectableSupportUnit
	Inherits@bounty: ^GlobalBounty
	Selectable:
		DecorationBounds: 1536, 1536, 0, -128
	Tooltip:
		Name: Leecher Orb
	TooltipExtras:
		Description: Heals nearby allies. Will revive into a Leecher if not destroyed.
	RenderSprites:
		Image: lchr.orb
		Palette: caneon
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	Targetable:
		TargetTypes: Ground, Vehicle, C4Immune
	HiddenUnderFog:
		Type: CenterPosition
	RevealsShroud:
		Range: 4c0
		Type: CenterPosition
	Health:
		HP: 35000
	Armor:
		Type: Light
	Valued:
		Cost: 1000
	Immobile:
		OccupiesSpace: true
	PeriodicExplosion@init:
		Weapon: LeecherOrbHealInit
	PeriodicExplosion@hot:
		Weapon: LeecherOrbHeal
	KillsSelf:
		Delay: 0
		RequiresCondition: resurrect
	Explodes:
		Weapon: LeecherExplode
		EmptyWeapon: LeecherExplode
		RequiresCondition: !resurrect
	Explodes@COALESCENCE:
		Weapon: LeecherCoalesce
		EmptyWeapon: LeecherCoalesce
		RequiresCondition: resurrect
	ActorLostNotification:
		RequiresCondition: !resurrect
	AmmoPool:
		Ammo: 1
		InitialAmmo: 0
		AmmoCondition: resurrect
	ReloadAmmoPoolCA:
		Delay: 500
		Count: 1
		ShowSelectionBar: true
		SelectionBarColor: ff0000
	SpawnActorOnDeath:
		Actor: lchr
		RequiresCondition: resurrect
	ProximityExternalCondition@LCHRHEAL:
		Condition: lchr-healing
		Range: 2c256
	AutoTarget:
	TransfersStanceToDeathActor:
	AttackOmni:
	WithColoredSelectionBox@PLAYERBOX:
		ColorSource: Player
		ValidRelationships: Ally, Enemy

STCR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@IONCONDUITS: ^IonConduits
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 1350
	Tooltip:
		Name: Stormcrawler
	Selectable:
		DecorationBounds: 1536, 1536, 0, -128
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 150
		Prerequisites: anyradar, ~vehicles.reaper, ~techlevel.medium
		Queue: VehicleSQ, VehicleMQ
		Description: Slow moving, very durable, short-range assault unit.
		IconPalette: chromes
	TooltipExtras:
		Strengths: • Strong vs Defenses, Buildings
		Weaknesses: • Weak vs Infantry\n• Cannot attack Aircraft
	Mobile:
		Speed: 46
		TurnSpeed: 16
	Health:
		HP: 94000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: StormcrawlerZap
		LocalOffset: 0,200,350, -250,-200,350, 250,200,350, 0,-200,350, -250,200,350, 250,-200,350
	AttackFrontal:
		FacingTolerance: 512
		PauseOnCondition: empdisable || being-warped
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	WithShadow:
		Offset: 80, 80, 0
		ZOffset: -81
		RequiresCondition: !invisibility
	SpawnActorOnDeath:
		Actor: STCR.Husk
		RequiresCondition: !being-warped
	LaysMinefield@IONSTORM:
		Mines: strm2
		Locations: 0,0
		KillOnRemove: false
		RemoveOnDisable: false
	RangeMultiplier@IONSTORM1:
		Modifier: 110
	RangeMultiplier@IONSTORM2:
		Modifier: 120
	RangeMultiplier@IONSTORM3:
		Modifier: 130

DEVO:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@RESCONV: ^ResourceConversion
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 220
		Prerequisites: anyradar, ~vehicles.devo, ~techlevel.medium
		Description: Medium hover tank.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Defenses
		Weaknesses: • Weak vs Buildings, Infantry\n• Cannot attack Aircraft
	Valued:
		Cost: 1350
	Tooltip:
		Name: Devourer Tank
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 27500
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 512
		Speed: 70
		Locomotor: lighthover
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: DevourerLaser
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
		LocalOffset: 850,0,208
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: DevourerLaserCharged
		PauseOnCondition: !ammo || uncharged-fire
		LocalOffset: 850,0,208
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 100
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary, primary-charged
	WithSpriteTurret:
	ProductionCostMultiplier@REAPBONUS:
		Multiplier: 90
		Prerequisites: player.reaper
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

DARK:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 221
		Prerequisites: anyradar, ~vehicles.harbinger, ~techlevel.medium
		Description: Heavy hover tank armed with a rift cannon.
		IconPalette: chromes
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Defenses
		Weaknesses: • Weak vs Buildings, Infantry\n• Cannot attack Aircraft
	Valued:
		Cost: 1350
	Tooltip:
		Name: Darkener Tank
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 20
		Speed: 60
		Locomotor: lighthover
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: RiftCannon
		LocalOffset: 835,0,350
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	Turreted:
		TurnSpeed: 20
		Offset: 0,0,0
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary
	WithSpriteTurret:
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

RUIN:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@RESCONV: ^ResourceConversion
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 1250
	Tooltip:
		Name: Ruiner
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 280
		Prerequisites: scrt, ~vehicles.harbinger, ~techlevel.high
		Queue: VehicleSQ, VehicleMQ
		Description: Long-range hover artillery.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Buildings, Defenses, Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft\n• Has difficulty hitting moving targets
		Attributes: • Can traverse water
	Mobile:
		Speed: 72
		TurnSpeed: 512
		Locomotor: lighthover
	Health:
		HP: 15000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: RuinerCannon
		LocalOffset: 650,0,600
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: RuinerCannonCharged
		LocalOffset: 650,0,600
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		PauseOnCondition: !ammo || uncharged-fire
	WithMuzzleOverlay:
	Explodes:
		Weapon: ArtilleryExplode
		LoadedChance: 75
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 75
	AttackTurreted:
		ForceFireIgnoresActors: True
		TargetFrozenActors: True
		PauseOnCondition: empdisable || being-warped
		Armaments: primary, primary-charged
	WithSpriteTurret:
	AmmoPool@RESCONV:
		Ammo: 12
	ReloadAmmoPool@RESCONV:
		Count: 3
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 4
	GrantCondition@RESCONVCHARGE:
		RequiresCondition: resconv-upgrade && on-resource && (ammo < 12 || charged-fire)
	GrantConditionOnAttack@PRIMARY:
		RevokeDelay: 175
	GrantConditionOnAttack@PRIMARYCHARGED:
		RevokeDelay: 175
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

ATMZ:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 1250
	Tooltip:
		Name: Atomizer
	Selectable:
		DecorationBounds: 1194, 1194
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 285
		Prerequisites: scrt, ~vehicles.collector, ~techlevel.high
		Description: Lightly armored long-range AoE anti-tank unit.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Aircraft, Defenses
		Weaknesses: • Weak vs Infantry, Buildings
		Attributes: • Target and nearby units take damage over time\n• Targets have reduced speed\n• Can traverse water
	Mobile:
		Speed: 72
		Locomotor: lighthover
	Health:
		HP: 18000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Turreted:
		TurnSpeed: 32
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
		RequiresCondition: !invisibility
	Armament:
		Weapon: AtomizerBolts
		LocalOffset: 350,0,350
	Armament@SECONDARY:
		Name: secondary
		Weapon: AtomizerBoltsAA
		LocalOffset: 350,0,350
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	GrantConditionOnTerrain@ONWATER:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	Targetable@ONWATER:
		TargetTypes: Water, Ship
		RequiresCondition: onwater

TPOD:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@TANKBUSTERVULN: ^TankBusterVulnerability
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 310
		Prerequisites: techcenter, ~vehicles.tpod, ~techlevel.high
		Description: Heavy assault walker with beam weapons.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Can crush concrete walls.
	Voiced:
		VoiceSet: TripodVoice
	Valued:
		Cost: 1800
	Selectable:
		Bounds: 1280, 2218, 0, -426
	Tooltip:
		Name: Annihilator Tripod
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 76000
	Armor:
		Type: Heavy
	Mobile:
		Locomotor: heavytracked
		Speed: 44
		TurnSpeed: 512
	Passenger:
		Weight: 3
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: TripodLaser
		LocalOffset: 650,420,1000
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SECONDARY:
		Name: secondary
		Weapon: TripodLaserReversed
		LocalOffset: 650,-420,1000
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		FireDelay: 20
	WithMuzzleOverlay:
	Carryable:
		LocalOffset: 0,0,700
	-Crushable:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: vehicles.upgraded
	TurretedFloating:
		TurnSpeed: 12
		Offset: 0,0,0
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	WithMoveAnimation:
	DeathSounds:
		Voice: Die
	SpawnActorOnDeath:
		Actor: TPOD.Husk
		RequiresCondition: !being-warped
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115
	WithIdleOverlay@MINDCONTROL:
		Offset: 0,0,1024

RPTP:
	Inherits: TPOD
	Inherits@RESCONV: ^ResourceConversion
	Buildable:
		BuildPaletteOrder: 311
		Prerequisites: scrt, ~vehicles.reaper, ~techlevel.high
	TooltipExtras:
		Attributes: • Weapons empowered by Tiberium
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 2200
	Tooltip:
		Name: Reaper Tripod
	Health:
		HP: 90000
	SpawnActorOnDeath:
		Actor: RPTP.Husk
	AttackTurreted:
		Armaments: primary, secondary, primary-charged, secondary-charged
	Armament@PRIMARY:
		Weapon: ReaperLaser
		LocalOffset: 700,550,1000
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@SECONDARY:
		Weapon: ReaperLaserReversed
		LocalOffset: 700,-550,1000
		FireDelay: 15
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: ReaperLaserCharged
		LocalOffset: 700,550,1000
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		AmmoUsage: 2
		RequiresCondition: !resconv-upgrade
	Armament@SECONDARYCHARGED:
		Name: secondary-charged
		Weapon: ReaperLaserChargedReversed
		LocalOffset: 700,-550,1000
		FireDelay: 15
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		AmmoUsage: 2
		RequiresCondition: !resconv-upgrade
	Armament@PRIMARYCHARGEDUPG:
		Name: primary-charged
		Weapon: ReaperLaserCharged
		LocalOffset: 700,550,1000
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		RequiresCondition: resconv-upgrade
	Armament@SECONDARYCHARGEDUPG:
		Name: secondary-charged
		Weapon: ReaperLaserChargedReversed
		LocalOffset: 700,-550,1000
		FireDelay: 15
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		RequiresCondition: resconv-upgrade
	AmmoPool@RESCONV:
		Ammo: 20
		Armaments: primary-charged, secondary-charged
	ReloadAmmoPool@RESCONV:
		Count: 4
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 5
	GrantCondition@RESCONVCHARGE:
		RequiresCondition: on-resource && (ammo < 20 || charged-fire)
	GrantConditionOnAttack@PRIMARY:
		RevokeDelay: 50
	GrantConditionOnAttack@PRIMARYCHARGED:
		RevokeDelay: 50
	WithIdleOverlay@RESCONVTIB:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVORE:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVBLUETIB:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVGEMS:
		Offset: 0,0,200

SMCV:
	Inherits: ^Vehicle-NOUPG
	Inherits@SELECTION: ^SelectableSupportUnit
	Inherits@HOVERTRAIL: ^HoverTrail
	Inherits@A2GPROTECTION: ^AirToGroundProtection
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Buildable:
		Queue: VehicleSQ, VehicleMQ
		BuildPaletteOrder: 437
		Prerequisites: vehicles.mcv, ~vehicles.scrin
		IconPalette: chrome
		Description: Deploys into another Colony Platform.
		BuildDurationModifier: 50
	TooltipExtras:
		Weaknesses: • Unarmed
		Attributes: • Special Ability: Deploy into Colony Platform
	RenderSprites:
		PlayerPalette: playerscrin
	Valued:
		Cost: 3000
	Tooltip:
		Name: Colony Ship
	Selectable:
		Priority: 4
		Bounds: 1792, 1792
	Health:
		HP: 75000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 54
		Locomotor: lighthover
		TurnSpeed: 512
	RevealsShroud:
		Range: 4c0
	Transforms:
		IntoActor: sfac
		Offset: -1, 0
		Facing: 384
		TransformSounds: placbldg.aud, build5.aud
		NoTransformNotification: BuildingCannotPlaceAudio
		NoTransformTextNotification: Cannot deploy here.
		PauseOnCondition: empdisable || being-warped
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	ProvidesPrerequisite@anymcv:
		Prerequisite: anymcv
	SpawnActorOnDeath:
		Actor: SMCV.Husk
		RequiresCondition: !being-warped
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVIS:
		Condition: invisibility
	-Crushable:
	Targetable:
		TargetTypes: Ground, Vehicle, C4, ChaosImmune, MindControlImmune
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	DamageTypeDamageMultiplier@A2GPROTECTION:
		Modifier: 60

#
# ---- Aircraft
#

STMR:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Inherits@SHIELDS: ^ScrinShields
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Buildable:
		Queue: AircraftSQ, AircraftMQ
		BuildPaletteOrder: 90
		Prerequisites: ~aircraft.scrin, ~techlevel.medium
		Description: Durable patrol craft.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor, Buildings, Aircraft
		Weaknesses: • Weak vs Defenses
		Attributes: • Can detect submarines
	Valued:
		Cost: 1750
	Tooltip:
		Name: Stormrider
		GenericName: Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 26000
	RevealsShroud:
		Range: 11c0
		MinRange: 9c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 9c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: StormriderZap
		LocalOffset: 350,300,0, 350,-300,0
		PauseOnCondition: !ammo
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SECONDARY:
		Name: secondary
		Weapon: StormriderZapAA
		LocalOffset: 350,300,0, 350,-300,0
		PauseOnCondition: !ammo
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackAircraft:
		FacingTolerance: 160
		PersistentTargeting: false
		OpportunityFire: true
		PauseOnCondition: empdisable || being-warped
	Aircraft:
		CruiseAltitude: 2560
		TurnSpeed: 22
		Speed: 135
		IdleSpeed: 135
		IdleTurnSpeed: 15
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanHover: False
		TakeoffSounds: dropup1.aud
		LandingSounds: dropdwn1.aud
		CanSlide: False
		AltitudeVelocity: 0c120
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	Contrail@1:
		Offset: -250,-250,100
		StartColorUsePlayerColor: true
		StartColorAlpha: 128
		EndColorUsePlayerColor: true
		ZOffset: -512
	Contrail@2:
		Offset: -250,250,100
		StartColorUsePlayerColor: true
		StartColorAlpha: 128
		EndColorUsePlayerColor: true
		ZOffset: -512
	SpawnActorOnDeath:
		Actor: STMR.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: STMR.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	LeavesTrails:
		Offsets: -427,0,0
		Image: smokey
		MovingInterval: 3
		StationaryInterval: 3
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
		RequiresCondition: enable-smoke
	Selectable:
		DecorationBounds: 1536, 1194
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: aircraft.upgraded
	-EjectOnDeath:
	AmmoPool:
		Ammo: 15
		AmmoCondition: ammo
		ReloadDelay: 45
		ReloadCount: 5
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 3
	DetectCloaked:
		DetectionTypes: Underwater
		Range: 8c0
	Rearmable:
		RearmActors: hpad, hpad.td, afld, afld.gdi, grav
	GrantConditionOnDamageState@SmokeTrail:
		Condition: enable-smoke
	GrantConditionOnResupply:
		Condition: resupplying
	Targetable@RESUPPLYING:
		TargetTypes: Resupplying
		RequiresCondition: resupplying
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable

ENRV:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Inherits@SHIELDS: ^ScrinShields
	Inherits@SCRINVEHICLEVOICE: ^ScrinVehicleVoice
	Buildable:
		Queue: AircraftSQ, AircraftMQ
		BuildPaletteOrder: 170
		Prerequisites: scrt, ~aircraft.traveler, ~techlevel.high
		Description: Fast attack craft that creates a focused suppression field.
		IconPalette: chromes
	TooltipExtras:
		Strengths: • Strong vs Vehicles, Defenses, Aircraft
		Weaknesses: • Weak vs Infantry
		Attributes: • Slows targets
	Valued:
		Cost: 2000
	Tooltip:
		Name: Enervator
		GenericName: Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 22500
	RevealsShroud:
		Range: 12c0
		MinRange: 10c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 12c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: EnervatorBolts
		LocalOffset: -300,0,-250
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Weapon: EnervatorBoltsAA
		LocalOffset: -300,0,-250
		PauseOnCondition: !ammo
	AttackAircraft:
		FacingTolerance: 40
		PersistentTargeting: false
		OpportunityFire: false
		PauseOnCondition: empdisable || being-warped
	Aircraft:
		TurnSpeed: 24
		Speed: 225
		InitialFacing: 768
		TakeoffSounds: dropup1.aud
		LandingSounds: dropdwn1.aud
		CruiseAltitude: 2560
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanSlide: True
		AltitudeVelocity: 0c100
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	Contrail@1:
		Offset: -750,-200,300
		StartColorUsePlayerColor: true
		StartColorAlpha: 128
		EndColorUsePlayerColor: true
		ZOffset: -512
		TrailLength: 18
		StartWidth: 48
	Contrail@2:
		Offset: -750,200,300
		StartColorUsePlayerColor: true
		StartColorAlpha: 128
		EndColorUsePlayerColor: true
		ZOffset: -512
		TrailLength: 18
		StartWidth: 48
	SpawnActorOnDeath:
		Actor: ENRV.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: ENRV.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	LeavesTrails:
		Offsets: -427,0,0
		Image: smokey
		MovingInterval: 3
		StationaryInterval: 3
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
		RequiresCondition: enable-smoke
	Selectable:
		DecorationBounds: 1536, 1536
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: aircraft.upgraded
	-EjectOnDeath:
	AmmoPool:
		Ammo: 5
		AmmoCondition: ammo
		ReloadDelay: 35
		ReloadCount: 1
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
	Rearmable:
		RearmActors: hpad, hpad.td, afld, afld.gdi, grav
	GrantConditionOnDamageState@SmokeTrail:
		Condition: enable-smoke
	GrantConditionOnResupply:
		Condition: resupplying
	Targetable@RESUPPLYING:
		TargetTypes: Resupplying
		RequiresCondition: resupplying
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Shielded:
		MaxStrength: 5625

DEVA:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Inherits@SHIELDS: ^ScrinShields
	Buildable:
		Queue: AircraftSQ, AircraftMQ
		BuildPaletteOrder: 170
		Prerequisites: scrt, ~aircraft.scrin, ~techlevel.high
		Description: Long-range siege warship.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Buildings, Defenses, Infantry
		Weaknesses: • Weak vs Heavy Armor\n• Cannot attack Aircraft\n• Has difficulty hitting moving targets
	Voiced:
		VoiceSet: DevastatorVoice
	Valued:
		Cost: 2500
	Tooltip:
		Name: Devastator Warship
		GenericName: Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 32000
	Armor:
		Type: Heavy
	HitShape:
		TargetableOffsets: 0,0,0, -512,0,0, -1024,0,0
		Type: Capsule
			PointA: 0,896
			PointB: 0, -256
	RevealsShroud:
		Range: 8c0
		MinRange: 7c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 7c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: DevastatorDiscs
		LocalOffset: 500,0,0
		RequiresCondition: !stellar-upgrade
	Armament@PRIMARYUPG:
		Name: primary-upg
		Weapon: DevastatorTorpedo
		LocalOffset: 500,0,0
		RequiresCondition: stellar-upgrade
	AmbientSound@CHARGE:
		RequiresCondition: charging
		SoundFiles: plasmatorpcharge.aud
	WithIdleOverlay@CHARGE1:
		Image: deva
		Sequence: charge1
		Palette: scrin
		Offset: 500,0,0
		RequiresCondition: charging == 1
	WithIdleOverlay@CHARGE2:
		Image: deva
		Sequence: charge2
		Palette: scrin
		Offset: 500,0,0
		RequiresCondition: charging == 2
	WithIdleOverlay@CHARGE3:
		Image: deva
		Sequence: charge3
		Palette: scrin
		Offset: 500,0,0
		RequiresCondition: charging > 2
	GrantConditionOnPrerequisite@STELLAR:
		Condition: stellar-upgrade
		Prerequisites: stellar.upgrade
	AttackFrontal:
		Armaments: primary
		FacingTolerance: 40
		ForceFireIgnoresActors: True
		TargetFrozenActors: True
		PauseOnCondition: empdisable || being-warped
		RequiresCondition: !stellar-upgrade
	AttackFrontalCharged:
		Armaments: primary-upg
		FacingTolerance: 40
		ForceFireIgnoresActors: True
		TargetFrozenActors: True
		ChargeLevel: 100
		DischargeRate: 2
		ChargingCondition: charging
		ConditionChargeLevels: 1, 34, 67
		ShotsPerCharge: 3
		ShowSelectionBar: true
		SelectionBarColor: cc33ff
		PauseOnCondition: empdisable || being-warped
		RequiresCondition: stellar-upgrade
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 16
		Speed: 56
		AltitudeVelocity: 0c50
		CanForceLand: False
	Selectable:
		Bounds: 1536, 1194, 0, 85
		DecorationBounds: 1706, 1706, 0, 42
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: DEVA.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: DEVA.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	-Hovers@CRUISING:
	-EjectOnDeath:
	ProductionCostMultiplier@HARBONUS:
		Multiplier: 90
		Prerequisites: player.harbinger
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Repairable:
		RepairActors: fix, rep, srep
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: aircraft.upgraded
	Shielded:
		MaxStrength: 8000
	Turreted@SHIELDS:
		Offset: -64,0,0

PAC:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Inherits@SHIELDS: ^ScrinShields
	Buildable:
		Queue: AircraftSQ, AircraftMQ
		BuildPaletteOrder: 180
		Prerequisites: sign, scrt, ~aircraft.scrin, ~techlevel.high
		Description: Warship that launches a squadron\n  of assault craft.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor, Infantry
		Weaknesses: • Weak vs Buildings, Defenses
	Voiced:
		VoiceSet: PlanetaryAssaultCarrierVoice
	Valued:
		Cost: 3000
	Tooltip:
		Name: Planetary Assault Carrier
		GenericName: Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 52000
	Armor:
		Type: Heavy
	HitShape:
		TargetableOffsets: 0,0,0, 1024,0,0, -1024,0,0
		Type: Capsule
			PointA: 0,1024
			PointB: 0,-1024
	RevealsShroud:
		Range: 11c0
		MinRange: 9c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 9c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: InvaderLauncher
		LocalOffset: 0,0,0
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 16
		Speed: 60
		AltitudeVelocity: 0c50
		CanForceLand: False
	Selectable:
		Bounds: 1536, 1194, 0, 85
		DecorationBounds: 1706, 1706, 0, 42
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: PAC.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: PAC.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	-Hovers@CRUISING:
	WithFacingSpriteBody:
		RequiresCondition: inva-loaded == 6
		Name: idle
	WithFacingSpriteBody@HALF:
		RequiresCondition: inva-loaded < 6 && inva-loaded > 0
		Sequence: half-deployed
		Name: half-deployed
	WithFacingSpriteBody@EMPTY:
		RequiresCondition: inva-loaded == 0
		Sequence: fully-deployed
		Name: fully-deployed
	AttackFrontal:
		FacingTolerance: 384
		PauseOnCondition: empdisable || being-warped
	CarrierMaster@carr1:
		Actors: inva, inva, inva, inva, inva, inva
		RearmTicks: 0
		RespawnTicks: 375
		InstantRepair: true
		SlaveDisposalOnKill: KillSlaves
		SpawnAllAtOnce: false
		LoadedCondition: inva-loaded
		RequiresCondition: !empdisable && !being-warped
		MaxSlaveDistance: 16c0
	WithSpawnerMasterPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
	Exit@0:
		SpawnOffset: -100,0,0
		Facing: 240
	Exit@1:
		SpawnOffset: -100,0,0
		Facing: -240
	Exit@2:
		SpawnOffset: 100,0,0
		Facing: 240
	Exit@3:
		SpawnOffset: 100,0,0
		Facing: -240
	Exit@4:
		SpawnOffset: 0,0,0
		Facing: 384
	Exit@5:
		SpawnOffset: 0,0,0
		Facing: -384
	DeathSounds:
		Voice: Die
	-EjectOnDeath:
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Repairable:
		RepairActors: fix, rep, srep
	AutoTargetPriority@DEFAULT:
		InvalidTargets: NoAutoTarget, WaterStructure, AirLowPriority
	AutoTargetPriority@ATTACKANYTHING:
		InvalidTargets: NoAutoTarget, AirLowPriority
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: aircraft.upgraded
	Shielded:
		MaxStrength: 13000
	Turreted@SHIELDS:
		Offset: -128,0,0

INVA:
	Inherits: ^NeutralPlane
	Inherits@3: ^Cloakable
	Inherits@4: ^EmpDisable
	Inherits@5: ^GDIUpgradeAircraft
	Inherits@ionsurge: ^IonSurgable
	Valued:
		Cost: 50
	Tooltip:
		Name: Invader
	Health:
		HP: 22000
	RevealsShroud:
		Range: 2c0
		MinRange: 1c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 1c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: InvaderZap
	Armament@SECONDARY:
		Name: secondary
		Weapon: InvaderZapAA
	AttackAircraft:
		FacingTolerance: 80
		PersistentTargeting: false
		OpportunityFire: false
		PauseOnCondition: empdisable
		AttackType: Strafe
		StrafeRunLength: 3c0
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 32
		Speed: 220
		MaximumPitch: 56
		CanHover: True
		CanSlide: False
		RepulsionSpeed: 40
		Repulsable: False
		IdealSeparation: 0c256
		VTOL: true
		TakeoffSounds: invader-launch1.aud, invader-launch2.aud
		LandingSounds: invader-dock.aud
	RejectsOrders:
	-SpawnActorOnDeath:
	Explodes:
		Weapon: VisualExplodeInvader
		-RequiresCondition:
	-Selectable:
	-ActorLostNotification:
	LeavesTrails:
		Offsets: -253,0,171
		MovingInterval: 2
		Image: smokey
		StationaryInterval: 2
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
		RequiresCondition: enable-smoke
	CarrierSlave:
		LandingDistance: 8c0
	Contrail@1:
		Offset: -432,0,0
		StartColorUsePlayerColor: true
		EndColorUsePlayerColor: true
		StartColorAlpha: 128
		TrailLength: 10
	-Contrail@2:
	Interactable:
	GrantConditionOnPrerequisite@SHIELDS:
		Condition: shields-upgrade
		Prerequisites: shields.upgrade
	DamageMultiplier@SHIELDS:
		RequiresCondition: shields-upgrade
		Modifier: 75
	Targetable@AIRBORNE:
		RequiresCondition: airborne
		TargetTypes: ICBM
	GrantConditionOnDamageState@SmokeTrail:
		Condition: enable-smoke

MSHP:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Inherits@SHIELDS: ^ScrinShields
	Buildable:
		Queue: AircraftSQ, AircraftMQ
		BuildPaletteOrder: 190
		Prerequisites: sign, scrt, ~aircraft.scrin, ~techlevel.high
		Description: Huge craft with powerful anti-structure beam weapon\n  and secondary plasma weapons.
		IconPalette: chromes
		BuildLimit: 1
	TooltipExtras:
		Strengths: • Strong vs Buildings, Defenses, Heavy Armor, Light Armor, Infantry
		Weaknesses: • Cannot attack Aircraft\n• Long charge time before firing anti-structure weapon\n• Cannot move while firing
		Attributes: • Maximum 1 can be built\n• Can create wormholes
	RenderSprites:
		PlayerPalette: playerscrin
	Voiced:
		VoiceSet: MothershipVoice
	Valued:
		Cost: 3000
	Tooltip:
		Name: Mothership
		GenericName: Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 130000
	Armor:
		Type: Heavy
	HitShape:
		TargetableOffsets: 0,0,0, 2560,0,0, -2560,0,0, 0,2560,0, 0,-2560,0
		Type: Circle
			Radius: 2c768
	RevealsShroud:
		Range: 13c0
		MinRange: 11c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 11c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: MothershipBeam
		Turret: none
		LocalOffset: 0,0,-940
		PauseOnCondition: !ammo
		ReloadingCondition: cooldown
	Armament@SECONDARY:
		Name: secondary
		Turret: none
		Weapon: MothershipChargeBeam
		LocalOffset: 0,0,-940
		PauseOnCondition: attacking || ammo || cooldown
	Armament@TERTIARY:
		Name: tertiary
		Turret: body
		Weapon: MothershipDiscs
		LocalOffset: 400,0,-200, 400,0,50, 400,0,300
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	Aircraft:
		CruiseAltitude: 3c512
		InitialFacing: 768
		TurnSpeed: 512
		Speed: 38
		AltitudeVelocity: 0c50
		CanForceLand: False
		Voice: Move
	TurretedFloating@BODY:
		Turret: body
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 50
	WithSpriteTurret@BODY:
		Turret: body
		Sequence: idle
	Selectable:
		Bounds: 1792, 1792, 0, 85
		DecorationBounds: 2048, 2218, 0, 42
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: MSHP.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: MSHP.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	-Hovers@CRUISING:
	WithFacingSpriteBody:
		Sequence: empty
	AttackTurreted:
		Armaments: primary, secondary, tertiary
		Voice: Attack
		PauseOnCondition: empdisable || being-warped
		ForceFireIgnoresActors: true
		Turrets: body
	-EjectOnDeath:
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithProductionIconOverlay:
		Types: Veterancy
		Prerequisites: aircraft.upgraded
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,72
		PauseOnCondition: being-warped
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	DeathSounds:
		Voice: Die
	AnnounceOnCreation:
		Notification: MothershipDeployed
		Delay: 30
	AmbientSoundCA:
		SoundFiles: mshp-beamloop.aud
		FinalSound: mshp-beamend.aud
		RequiresCondition: attacking
	GrantConditionOnAttack@ATTACKING:
		Condition: attacking
		ArmamentNames: primary
		RevokeDelay: 240
	AmbientSoundCA@CHARGING:
		SoundFiles: mshp-charge.aud
		RequiresCondition: charging
	GrantConditionOnAttack@CHARGING:
		Condition: charging
		ArmamentNames: secondary
		RevokeDelay: 5
	SpeedMultiplier@ATTACKING:
		Modifier: 0
		RequiresCondition: attacking
	AmmoPool:
		Ammo: 1
		InitialAmmo: 0
		AmmoCondition: ammo
		Armaments: primary
	ReloadAmmoPoolCA@CHARGE:
		Delay: 150
		Count: 1
		RequiresCondition: charging && !attacking
		Sound: mshp-fire1.aud
		ShowSelectionBar: true
		SelectionBarColor: ff00ff
	ReloadAmmoPoolCA@DRAIN:
		Count: -1
		Delay: 1
		RequiresCondition: !charging && !attacking
		ShowSelectionBar: false
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Shielded:
		MaxStrength: 26000
	SpawnActorAbility:
		Actor: wormhole
		SkipMakeAnimations: false
		Range: 20c0
		CircleColor: 9988ff
		SpawnSounds: wormhole-open.aud
		SelectTargetSpeechNotification: SelectTarget
		AmmoPool: wormholespawner
	AmmoPool@WORMHOLESPAWNER:
		Name: wormholespawner
		Armaments: none
		Ammo: 2
	ReloadAmmoPoolCA@WORMHOLESPAWNER:
		AmmoPool: wormholespawner
		Delay: 750
		Count: 2
		ShowSelectionBar: true
		SelectionBarColor: 9988ff
		ReloadWhenAmmoReaches: 0
	WithAmmoPipsDecoration@WORMHOLESPAWNER:
		AmmoPools: wormholespawner
		RequiresSelection: true
		Position: BottomLeft
		Margin: 4, 3

#
# ---- Husks
#

SMCV.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Colony Ship)
	RenderSprites:
		PlayerPalette: playerscrin
		Image: smcv.destroyed

HARV.Scrin.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Harvester)
	RenderSprites:
		Image: harv.scrin.destroyed
	WithShadow:
		Offset: 43, 255, 0
		ZOffset: -256

GUNW.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Gun Walker)
	RenderSprites:
		Image: gunw.destroyed
		PlayerPalette: playerscrin

SEEK.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Seeker)
	ThrowsParticle@turret:
		Anim: turret
	RenderSprites:
		Image: seek.destroyed
		PlayerPalette: playerscrin
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129

INTL.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Interloper)
	RenderSprites:
		Image: intl.destroyed
		PlayerPalette: playerscrin

CORR.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Corrupter)
	RenderSprites:
		Image: corr.destroyed
		PlayerPalette: playerscrin

DEVO.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Devourer)
	RenderSprites:
		Image: devo.destroyed
		PlayerPalette: playerscrin

STCR.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Stormcrawler)
	RenderSprites:
		Image: stcr.destroyed
		PlayerPalette: playerscrin

RUIN.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Ruiner)
	RenderSprites:
		Image: ruin.destroyed
		PlayerPalette: playerscrin

TPOD.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Annihilator Tripod)
	ThrowsParticle@turret:
		Anim: turret
	RenderSprites:
		Image: tpod.destroyed
		PlayerPalette: playerscrin

RPTP.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Reaper Tripod)
	ThrowsParticle@turret:
		Anim: turret
	RenderSprites:
		Image: rptp.destroyed
		PlayerPalette: playerscrin

STMR.Husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Stormrider
	Aircraft:
		TurnSpeed: 16
		Speed: 157
	LeavesTrails:
		Offsets: -427,0,0
		Image: smokey
		MovingInterval: 3
		StationaryInterval: 3
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
	Contrail@1:
		Offset: -250,-250,100
		StartColorUsePlayerColor: true
		EndColorUsePlayerColor: true
		StartColorAlpha: 255
	Contrail@2:
		Offset: -250,250,100
		StartColorUsePlayerColor: true
		EndColorUsePlayerColor: true
		StartColorAlpha: 255
	RevealsShroud:
		Range: 11c0
		MinRange: 9c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 9c0
		Type: GroundPosition
	RenderSprites:
		Image: stmr
		PlayerPalette: playerscrin

STMR.Husk.EMP:
	Inherits: STMR.Husk
	Inherits@EMP: ^EmpVisualEffect

ENRV.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Enervator
		GenericName: Destroyed Aircraft
	Aircraft:
		TurnSpeed: 14
		Speed: 170
	FallsToEarth:
		MaximumSpinSpeed: 20
		Velocity: 86
	LeavesTrails:
		Offsets: -427,0,0
		Image: smokey
		MovingInterval: 3
		StationaryInterval: 3
		SpawnAtLastPosition: False
		TrailWhileStationary: True
		Type: CenterPosition
	Contrail@1:
		Offset: -750,-200,300
		StartColorUsePlayerColor: true
		EndColorUsePlayerColor: true
	Contrail@2:
		Offset: -750,200,300
		StartColorUsePlayerColor: true
		EndColorUsePlayerColor: true
	RevealsShroud:
		Range: 12c0
		MinRange: 10c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 10c0
		Type: GroundPosition
	RenderSprites:
		Image: enrv
		PlayerPalette: playerscrin

ENRV.Husk.EMP:
	Inherits: ENRV.Husk
	Inherits@EMP: ^EmpVisualEffect

DEVA.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Devastator Warship
		GenericName: Destroyed Aircraft
	Aircraft:
		TurnSpeed: 8
		Speed: 35
	FallsToEarth:
		MaximumSpinSpeed: 0
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: deva
	FallsToEarth:
		Explosion: KirovExplode
	SpawnActorOnDeath:
		Actor: DEVA.Husk.Ground

DEVA.Husk.EMP:
	Inherits: DEVA.Husk
	Inherits@EMP: ^EmpVisualEffect

DEVA.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: deva
	Tooltip:
		Name: Husk (Devastator Warship)
	KillsSelf:
		Delay: 1
		-RequiresCondition:
	Explodes:
		Weapon: KirovExplode
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-GivesCashOnCapture:
	-GrantConditionOnCapture:
	WithIdleOverlay@Burns:
		-RequiresCondition:
	ChangesHealth:
		-RequiresCondition:

PAC.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Planetary Assault Carrier
		GenericName: Destroyed Aircraft
	Aircraft:
		TurnSpeed: 8
		Speed: 30
	FallsToEarth:
		MaximumSpinSpeed: 0
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: pac
	FallsToEarth:
		Explosion: KirovExplode
	SpawnActorOnDeath:
		Actor: PAC.Husk.Ground

PAC.Husk.EMP:
	Inherits: PAC.Husk
	Inherits@EMP: ^EmpVisualEffect

PAC.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: pac
	Tooltip:
		Name: Husk (Planetary Assault Carrier)
	KillsSelf:
		Delay: 1
		-RequiresCondition:
	Explodes:
		Weapon: KirovExplode
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-GivesCashOnCapture:
	-GrantConditionOnCapture:
	WithIdleOverlay@Burns:
		-RequiresCondition:
	ChangesHealth:
		-RequiresCondition:

MSHP.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Mothership
		GenericName: Destroyed Aircraft
	Aircraft:
		TurnSpeed: 8
		Speed: 30
	FallsToEarth:
		MaximumSpinSpeed: 0
		Velocity: 35
		Explosion: KirovExplode
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: mshp
		PlayerPalette: playerscrin
	SpawnActorOnDeath:
		Actor: MSHP.Husk.Ground
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,0

MSHP.Husk.EMP:
	Inherits: MSHP.Husk
	Inherits@EMP: ^EmpVisualEffect

MSHP.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: mshp
		PlayerPalette: playerscrin
	Tooltip:
		Name: Husk (Mothership)
	KillsSelf:
		Delay: 1
		-RequiresCondition:
	Explodes:
		Weapon: KirovExplode
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,0
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-GivesCashOnCapture:
	-GrantConditionOnCapture:
	WithIdleOverlay@Burns:
		-RequiresCondition:
	ChangesHealth:
		-RequiresCondition:

#
# ---- Buildings
#

SWAL:
	Inherits: ^Wall
	RenderSprites:
		Palette: scrin
	Building:
		BuildSounds: scrinbuild.aud
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.scrin
		Description: • Stops units\n• Blocks enemy fire\n• Regenerates over time
		IconPalette: chromes
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Biometallic Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 36000
	ChangesHealth:
		PercentageStep: 1
		Delay: 10
		StartIfBelow: 100
		DamageCooldown: 25
	Armor:
		Type: Brick
	Crushable:
		CrushClasses: heavywall
	BlocksProjectiles:
	LineBuild:
		NodeTypes: scrinwall
	LineBuildNode:
		Types: scrinwall
	WithWallSpriteBody:
		Type: scrinwall

SFAC:
	Inherits: ^ScrinBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@BOTI: ^BotFallbackInsurance
	Inherits@BLD: ^ProducesBuildings
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		IconPalette: chrometd
		Description: Produces structures.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Valued:
		Cost: 3000
	Tooltip:
		Name: Colony Platform
	BaseBuilding:
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || c4 || tnt || build-incomplete || being-warped || hacked
		IntoActor: smcv
		Offset: 1,0
		Facing: 96
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, rep
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !c4 && !being-warped && !hacked
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	TracksCapturedFaction:
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@scrin:
		Prerequisite: structures.scrin
	ProvidesPrerequisiteValidatedFaction@reaper:
		Factions: reaper
		Prerequisite: structures.reaper
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: structures.traveler
	ProvidesPrerequisiteValidatedFaction@harbinger:
		Factions: harbinger
		Prerequisite: structures.harbinger
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: structures.collector
	ProvidesPrerequisite@anyconyard:
		Prerequisite: anyconyard
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
	ProvidesPrerequisite@buildingname:
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVIS:
		Condition: invisibility
	SpawnActorsOnSell:
		ActorTypes: s1,s1,s1,s1,s6

REAC:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: 630,299,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 10
		Prerequisites: ~structures.scrin
		IconPalette: chromes
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xX xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: 100
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

REA2:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^3x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: -355,-1024,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 110
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.medium
		IconPalette: chrome
		Description: Provides double the power of\n  a standard Reactor.
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xxx Xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 200
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, PowerInfiltrate
	ProvidesPrerequisite@buildingname:
	ScalePowerWithHealth:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

PROC.SCRIN:
	Inherits: ^ScrinBuilding
	Inherits@BOTREF: ^BotRefinery
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	Valued:
		Cost: 1800
	CustomSellValue:
		Value: 400
	Tooltip:
		Name: Refinery
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: anypower, ~structures.scrin
		Queue: BuildingSQ, BuildingMQ
		IconPalette: chromes
		Description: Processes raw Tiberium, Ore\n  and Gems into credits.
		BuildDuration: 1400
	Building:
		Footprint: _x_ xxx +++ ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: ThiefInfiltrate
	Refinery:
		DockAngle: 448
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
	StoresResources:
		Capacity: 2000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 17
	Selectable:
		Bounds: 3072, 2389, 0, 512
		DecorationBounds: 3114, 3072
	InfiltrateForCash:
		Types: ThiefInfiltrate
		Percentage: 50
		InfiltrationNotification: CreditsStolen
	FreeActor:
		Actor: HARV.Scrin
		SpawnOffset: 1,2
		Facing: 64
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@anyrefinery:
		Prerequisite: anyrefinery
	CashHackable:

PORT:
	Inherits: ^ScrinBuilding
	Inherits@SHAPE: ^2x2Shape
	Inherits@INF: ^ProducesInfantry
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.scrin
		IconPalette: chromes
		Description: Produces infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Portal
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
		ForceSetType: Infantry
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,512,0
		ExitCell: 0,2
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 256,512,0
		ExitCell: 1,2
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 0,512,0
		ExitCell: -1,2
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 256,512,0
		ExitCell: 2,2
		Priority: 0
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@infantryany:
		Prerequisite: infantry.any
	ProvidesPrerequisite@scrin:
		Prerequisite: infantry.scrin
	ProvidesPrerequisiteValidatedFaction@reaper:
		Factions: reaper
		Prerequisite: infantry.reaper
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: infantry.traveler
	ProvidesPrerequisiteValidatedFaction@harbinger:
		Factions: harbinger
		Prerequisite: infantry.harbinger
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: infantry.collector
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.port
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	WithIdleOverlay:
		RequiresCondition: !build-incomplete

WSPH:
	Inherits: ^ScrinBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@NOMCV: ^UnlocksMcvIfNoneOwned
	Inherits@VEH: ^ProducesVehicles
	Selectable:
		Bounds: 3072, 2048
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 80
		Prerequisites: proc.scrin, ~structures.scrin, ~techlevel.low
		IconPalette: chromes
		Description: Produces vehicles.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Warp Sphere
	Building:
		Footprint: xxx xxx +++
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	TracksCapturedFaction:
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@any:
		Prerequisite: vehicles.any
	ProvidesPrerequisite@scrin:
		Prerequisite: vehicles.scrin
	ProvidesPrerequisiteValidatedFaction@reaper:
		Factions: reaper
		Prerequisite: vehicles.reaper
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: vehicles.traveler
	ProvidesPrerequisiteValidatedFaction@harbinger:
		Factions: harbinger
		Prerequisite: vehicles.harbinger
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: vehicles.collector
	ProvidesPrerequisiteValidatedFaction@seek:
		Factions: reaper, harbinger, collector
		Prerequisite: vehicles.seek
	ProvidesPrerequisiteValidatedFaction@corr:
		Factions: reaper, traveler, harbinger
		Prerequisite: vehicles.corr
	ProvidesPrerequisiteValidatedFaction@devo:
		Factions: reaper, traveler, collector
		Prerequisite: vehicles.devo
	ProvidesPrerequisiteValidatedFaction@tpod:
		Factions: traveler, harbinger, collector
		Prerequisite: vehicles.tpod
	WithBuildingBib:
	RallyPoint:
		ForceSetType: Vehicle
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		ExitCell: 0,2
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.wsph
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	WithIdleOverlay:
		RequiresCondition: !build-incomplete
	GrantExternalConditionToProduced@DRONEEXIT:
		Condition: radarenabled
		Duration: 100

NERV:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@POWERDRAIN: ^PowerDrainableRadar
	Inherits@UPG: ^ProducesUpgrades
	Inherits@SHAPE: ^2x2Shape
	Inherits@RESOURCESCANPOWER: ^ResourceScanPower
	Inherits@STORMSPIKEPOWER: ^StormSpikePower
	Inherits@BUZZERSWARMPOWER: ^BuzzerSwarmPower
	Inherits@IONSURGEPOWER: ^IonSurgePower
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 90
		Prerequisites: proc.scrin, ~structures.scrin, ~techlevel.medium
		Description: Provides an overview of the battlefield.
		IconPalette: chromes
	TooltipExtras:
		Attributes: • Requires power to operate\n• Detects nearby enemy vehicles, aircraft and structures in fog of war
	Valued:
		Cost: 1600
	Tooltip:
		Name: Nerve Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	Health:
		HP: 110000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	ProvidesRadar:
		RequiresCondition: !jammed && !disabled && !being-warped
	RangedGpsRadarProvider:
		Range: 12c0
		TargetTypes: Vehicle, Air, Structure
		RequiresCondition: !jammed && !disabled && !being-warped
	WithRangeCircle:
		Range: 12c0
		RequiresCondition: !jammed && !disabled && !being-warped
	WithBuildingBib:
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	Power:
		Amount: -40
	-PowerMultiplier@POWERDRAIN:
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@anyradar:
		Prerequisite: anyradar
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisite@scrinrad:
		Prerequisite: radar.scrin
	ProvidesPrerequisiteValidatedFaction@reaprad:
		Factions: reaper
		Prerequisite: radar.reaper
	ProvidesPrerequisiteValidatedFaction@travrad:
		Factions: traveler
		Prerequisite: radar.traveler
	ProvidesPrerequisiteValidatedFaction@harbrad:
		Factions: harbinger
		Prerequisite: radar.harbinger
	ProvidesPrerequisiteValidatedFaction@desprad:
		Factions: collector
		Prerequisite: radar.collector
	ProvidesPrerequisite@buildingname:
	ExternalCondition@JAMMED:
		Condition: jammed
	ProvidesPrerequisite@radar-active:
		Prerequisite: radar-active
		RequiresCondition: !jammed && !disabled && !being-warped
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.nerv
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack

SCRT:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^2x2Shape
	Inherits@UPG: ^ProducesUpgrades
	Inherits@ICHORSEEDPOWER: ^IchorSeedPower
	Inherits@FORCESHIELDPOWER: ^ForceShieldPower
	Inherits@GREATERCOALESCENCEPOWER: ^GreaterCoalescencePower
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 150
		Prerequisites: vehicles.any, anyradar, ~structures.scrin, ~techlevel.high
		Description: Provides Scrin advanced technologies.
		IconPalette: chromes
	Valued:
		Cost: 1800
	Tooltip:
		Name: Scrin Tech Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 2048, 2560
	Health:
		HP: 110000
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SabInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.scrt
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	WithBuildingBib:
	Power:
		Amount: -150
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ProvidesPrerequisiteValidatedFaction@harbscrt:
		Factions: harbinger
		Prerequisite: scrt.harbinger
	ProvidesPrerequisiteValidatedFaction@collscrt:
		Factions: collector
		Prerequisite: scrt.collector
	ProvidesPrerequisite@buildingname:

GRAV:
	Inherits: ^ScrinBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@AIR: ^ProducesHelicopters
	Inherits@AIRCRAFTREPAIR: ^RepairsAircraftWithRepairBay
	HitShape:
		TargetableOffsets: -355,-1024,0
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 130
		Prerequisites: radarorrepair, ~structures.scrin, ~techlevel.medium
		Description: Produces Scrin aircraft.
		IconPalette: chromes
	Valued:
		Cost: 500
	Tooltip:
		Name: Gravity Stabilizer
	Selectable:
		Bounds: 3072, 2560, 0, -128
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 720
		SpawnOffset: -128,0,0
	Reservable:
	RallyPoint:
		ForceSetType: Aircraft
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: aircraft.traveler
	ProvidesPrerequisite@scrin:
		Prerequisite: aircraft.scrin
	SupportPowerChargeBar:
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	WithBuildingBib:
	WithRestartableIdleOverlay@orb:
		RequiresCondition: !build-incomplete && !resupplying
		RestartSequence: idle-overlay-activate
		StartSequence: idle-overlay
	WithRestartableIdleOverlay@orboff:
		RequiresCondition: !build-incomplete && resupplying
		Sequence: idle-overlay-deactivate
		PlayOnce: true
	WithIdleOverlay@pylon:
		Sequence: idle-pylon
		RequiresCondition: !build-incomplete && !damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Heavy, Critical
	GrantConditionOnResupplying@RESUPPLY:
		Condition: resupplying
	Armament@UNDAMAGED:
		Weapon: GravityStabilizerZap
		LocalOffset: -800,-500,1152, -250,450,1152, 150,-500,1152
		TargetRelationships: Ally
		ForceTargetRelationships: None
		MuzzleSequence: muzzle
		MuzzlePalette: playerscrin
		RequiresCondition: !damaged
	Armament@DAMAGED:
		Weapon: GravityStabilizerZap
		LocalOffset: -250,650,1024, 150,-600,1152
		TargetRelationships: Ally
		ForceTargetRelationships: None
		MuzzleSequence: muzzle
		MuzzlePalette: playerscrin
		RequiresCondition: damaged
	WithMuzzleOverlayCA:
		IsPlayerPalette: true
	AttackOmni:
		PauseOnCondition: !resupplying
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidRelationships: Ally

SIGN:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	Inherits@UPG: ^ProducesUpgrades
	Selectable:
		Bounds: 3072, 2048
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 200
		Prerequisites: ~structures.scrin, scrt, ~techlevel.high
		Description: Provides access to the most powerful\n  Scrin units and technology.
		BuildLimit: 1
		IconPalette: chromes
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Cannot be captured or hacked
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Valued:
		Cost: 2000
	Tooltip:
		Name: Signal Transmitter
	Power:
		Amount: -150
	ProvidesPrerequisite@Name:
		RequiresCondition: !being-warped
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	SpawnActorOnDeath:
		RequiresCondition: !being-warped
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

SREP:
	Inherits: ^ScrinBuilding
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Buildable:
		Queue: BuildingSQ, BuildingMQ
		BuildPaletteOrder: 100
		Prerequisites: vehicles.scrin, ~structures.scrin, ~techlevel.low
		Description: Repairs vehicles and aircraft.
		IconPalette: chromes
	TooltipExtras:
		Attributes: • Nearby helipads/airfields will repair landed aircraft\n• Can retrofit existing units with upgrades
	Valued:
		Cost: 1000
	Tooltip:
		Name: Regeneration Bay
	Building:
		Footprint: _+_ +++ _+_
		Dimensions: 3,3
	Selectable:
		Bounds: 2901, 1450, 0, 128
		DecorationBounds: 3072, 2048
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	Reservable:
	RallyPoint:
	RepairsUnits:
		ValuePercentage: 0
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		StartRepairingTextNotification: Repairing.
		FinishRepairingNotification: UnitRepaired
		FinishRepairingTextNotification: Unit repaired.
		PlayerExperience: 5
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@repair:
		Prerequisite: repair
	ProvidesPrerequisite@radarorrepair:
		Prerequisite: radarorrepair
	ProvidesPrerequisite@allowsmcv:
		Prerequisite: vehicles.mcv
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 10c0
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: FFD000AA
		Range: 10c0

SILO.SCRIN:
	Inherits: ^ScrinBuilding
	Valued:
		Cost: 150
	Tooltip:
		Name: Silo
	Buildable:
		BuildPaletteOrder: 35
		Prerequisites: proc.scrin, ~structures.scrin
		Queue: DefenseSQ, DefenseMQ
		IconPalette: chromes
		Description: Stores processed Tiberium, Ore and Gems
	-GivesBuildableArea:
	Health:
		HP: 30000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 3000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
	-MustBeDestroyed:
	-SpawnActorsOnSell:
	Power:
		Amount: -10
	Selectable:
		Bounds: 1024, 1024
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode

MANI:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Inherits@SUPPRESSIONPOWER: ^SuppressionPower
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 130
		Prerequisites: scrt, ~structures.scrin, ~techlevel.unrestricted
		BuildLimit: 1
		IconPalette: chrome
		Description: Slows enemy unit movement and rate of fire.
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Suppression Field
	Valued:
		Cost: 1500
	Tooltip:
		Name: Field Manipulator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: mani.collector
	ProductionCostMultiplier@COLLECTOR:
		Multiplier: 80
		Prerequisites: player.collector

RFGN:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Inherits@RIFTPOWER: ^RiftPower
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 140
		Prerequisites: scrt, ~structures.scrin, ~techlevel.unrestricted
		BuildLimit: 1
		Description: Provides Rift support power.
		IconPalette: chrome
	TooltipExtras:
		Attributes: • Maximum 1 can be built\n• Requires power to operate\n• Special Ability: Rift
	Valued:
		Cost: 2500
	Tooltip:
		Name: Rift Generator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -768
			BottomRight: 1024, 1536
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithIdleOverlay@ACTIVE:
		Sequence: active-overlay
		Palette: scrin
		RequiresCondition: active
	ExternalCondition@ACTIVE:
		Condition: active
	SupportPowerChargeBar:
	Power:
		Amount: -200
	ProvidesPrerequisite@buildingname:
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
		InfiltrationNotification: BuildingInfiltrated
		InfiltratedNotification: BaseAttack
	Targetable@INFILTRATION:
		RequiresCondition: !being-warped
		TargetTypes: SpyInfiltrate, SabInfiltrate
	WithBuildingBib:
		HasMinibib: true
	ProductionCostMultiplier@HarbingerBonus:
		Multiplier: 80
		Prerequisites: player.harbinger

PTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	RenderSprites:
		PlayerPalette: playerscrin
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 60
		Prerequisites: port, ~structures.scrin, ~techlevel.low
		Description: Anti-infantry base defense.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Can detect cloaked units
	Valued:
		Cost: 725
	CustomSellValue:
		Value: 350
	Tooltip:
		Name: Plasma Cannon
	Selectable:
		DecorationBounds: 1024, 1194, 0, -256
	Building:
	Health:
		HP: 45000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 48
		InitialFacing: 176
		RealignDelay: -1
		PauseOnCondition: empdisable || being-warped
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: PlasmaTurretGun
		LocalOffset: 450,70,500, 450,-70,500
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	AttackTurreted:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	WithMuzzleOverlay:
	Power:
		Amount: -25
	ClassicFacingBodyOrientation:
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:
	DetectCloaked:
		Range: 5c0

SHAR:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAirICBM
	Inherits@A2GPROTECTION: ^AirToGroundProtection
	RenderSprites:
		PlayerPalette: playerscrin
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 90
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.medium
		Description: Anti-aircraft base defense.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Aircraft
		Weaknesses: • Cannot attack ground units
		Attributes: • Requires power to operate\n• Can detect cloaked aircraft
	Valued:
		Cost: 800
	Tooltip:
		Name: Shard Launcher
	Selectable:
		DecorationBounds: 1024, 1877, 0, -469
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 60
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	WithSpriteTurret:
		RequiresCondition: !build-incomplete
	Armament@PRIMARY:
		Weapon: ShardLauncher
		LocalOffset: 300,0,1050
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	AttackTurreted:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	WithMuzzleOverlay:
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -50
	ClassicFacingBodyOrientation:
	DetectCloaked:
		DetectionTypes: AirCloak
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:

SCOL:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@Flash: ^WhiteFlash
	Inherits@IONCONDUITS: ^IonConduits
	RenderSprites:
		PlayerPalette: playerscrin
	Buildable:
		Queue: DefenseSQ, DefenseMQ
		BuildPaletteOrder: 80
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.medium
		Description: Advanced base defense.
		IconPalette: chrome
	TooltipExtras:
		Strengths: • Strong vs Heavy Armor, Light Armor
		Weaknesses: • Cannot attack Aircraft
		Attributes: • Requires power to operate\n• Can detect cloaked units
	Valued:
		Cost: 1400
	Tooltip:
		Name: Storm Column
	Selectable:
		DecorationBounds: 1280, 2048, 0, -597
	Health:
		HP: 45000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: false
	HitShape:
		UseTargetableCellsOffsets: true
		TargetableOffsets: 0,0,768
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
	AttackOmni:
		PauseOnCondition: build-incomplete || disabled || empdisable || being-warped
	Power:
		Amount: -100
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:
	GrantConditionOnAttackCA@IONSTORM:
		RequiresCondition: ioncon-upgrade && !(disabled || empdisable || being-warped)
	GrantConditionOnDamage@IONSTORM:
		RequiresCondition: ioncon-upgrade && !(disabled || empdisable || being-warped)

STRM:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	RenderSprites:
		Palette: ioncloud
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Ion Storm
	# required for death animation
	Health:
		HP: 1
	HitShape:
	KillsSelf:
		RemoveInstead: False
		Delay: 175, 225
	Wanders:
		WanderMoveRadius: 1
		ReduceMoveRadiusDelay: 3
	WithSpriteBody:
		RequiresCondition: strm1
		StartSequence: make
	WithDeathAnimation:
		RequiresCondition: strm1
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die
		FallbackSequence: die
		DeathSequencePalette: ioncloud
	WithSpriteBody@Cloud2:
		RequiresCondition: strm2
		StartSequence: make2
		Sequence: idle2
		Name: body2
	WithDeathAnimation@Cloud2:
		DeathSequence: die2
		RequiresCondition: strm2
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die2
		FallbackSequence: die2
		DeathSequencePalette: ioncloud
	WithSpriteBody@Cloud3:
		RequiresCondition: strm3
		StartSequence: make3
		Sequence: idle3
		Name: body3
	WithDeathAnimation@Cloud3:
		DeathSequence: die3
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die3
		FallbackSequence: die3
		RequiresCondition: strm3
		DeathSequencePalette: ioncloud
	WithSpriteBody@Cloud4:
		RequiresCondition: strm4
		StartSequence: make4
		Sequence: idle4
		Name: body4
	WithDeathAnimation@Cloud4:
		DeathSequence: die4
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die4
		FallbackSequence: die4
		RequiresCondition: strm4
		DeathSequencePalette: ioncloud
	Mobile:
		Locomotor: cloud
		Speed: 3
	Hovers:
		Ticks: 12
	Interactable:
	GrantRandomCondition@CloudShape:
		Conditions: strm1, strm2, strm3, strm4

STRM.Live:
	Inherits: STRM
	Inherits@AUTOTARGET: ^AutoTargetAll
	RenderSprites:
		Image: strm
	JamsMissiles@IONSTORM:
		Chance: 10
		Range: 5c0
	AutoTarget:
		InitialStance: AttackAnything
	Armament:
		Weapon: IonCloudZap
		LocalOffset: 0,0,0
	AttackTurreted:
		RequiresCondition: live
	Turreted:
		Offset: 0, 0, 3072
	GrantDelayedCondition:
		Condition: live
		Delay: 25, 75
	PeriodicExplosion:
		InitialDelay: 20
		Weapon: IonCloudChargeSource
		LocalOffset: 0, 0, 3072

STRM2:
	Inherits: STRM.Live
	RenderSprites:
		Image: strm2
	Armament:
		Weapon: IonCloudMinorZap
	Turreted:
		Offset: 0,0, 1024
	PeriodicExplosion:
		LocalOffset: 0, 0, 1024
	JamsMissiles@IONSTORM:
		Range: 2c512

SCOL.Temp:
	Inherits: SCOL
	RenderSprites:
		Image: scol
	-Sellable:
	-Buildable:
	Health:
		HP: 75000
	KillsSelf:
		Delay: 750
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
	RevealsShroud@GAPGEN:
		Range: 4c0
	-Power:
	-SpawnActorOnDeath:
	-WithBuildingRepairDecoration:
	-RepairableBuilding:
	-InstantlyRepairable:
	-GrantConditionOnPowerState@LOWPOWER:
	-WithColoredOverlay@IDISABLE:
	-GrantCondition@IDISABLE:
	-PowerMultiplier@TEMPORAL:
	-PowerMultiplier@POWERDOWN:
	-WithDecoration@POWERDOWN:
	-ToggleConditionOnOrder:
	-Armament:
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
	AttackOmni:
		PauseOnCondition: build-incomplete || empdisable || being-warped
	DetectCloaked:
		RequiresCondition: !(empdisable || being-warped)
	GrantConditionOnAttackCA@IONSTORM:
		RequiresCondition: ioncon-upgrade && !(empdisable || being-warped)
	GrantConditionOnDamage@IONSTORM:
		RequiresCondition: ioncon-upgrade && !(empdisable || being-warped)

#
# ---- misc
#

BUZZ:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@selection: ^SelectableCombatUnit
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Buzzer Swarm
	TooltipExtras:
		Description: Swarm of biometallic shards.
		Strengths: • Strong vs Infantry, Light Armor
		Weaknesses: • Weak vs Heavy Armor, Buildings, Defenses\n• Cannot attack Aircraft
		Attributes: • Untargetable
	RevealsShroud:
		MinRange: 1c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: CenterPosition
	RevealsShroud@GAPGEN:
		Range: 1c0
		Type: CenterPosition
	PeriodicExplosion:
		Weapon: BuzzerVortex
	WithSpriteBody:
	HitShape:
	KillsSelf:
		Delay: 450
	# required for death animation
	Health:
		HP: 1
	Aircraft:
		CanHover: True
		Speed: 33
		CruiseAltitude: 1
		LandableTerrainTypes: Clear,Road,Rough,Ore,Gems,Tiberium,BlueTiberium,Water,Tree,River
	AmbientSound:
		SoundFiles: buzzers-idle1.aud, buzzers-idle2.aud, buzzers-idle3.aud
		Interval: 10
	Voiced:
		VoiceSet: BuzzersVoice
	Armament@PRIMARY:
		Weapon: BuzzerTargeting
		RequiresCondition: alive
	AttackFrontal:
		FacingTolerance: 0
	WithColoredSelectionBox@PLAYERBOX:
		ColorSource: Player
		ValidRelationships: Ally, Enemy
	WithMakeAnimation:
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: die
		FallbackSequence: die
		DeathSequencePalette: scrin
		DeathPaletteIsPlayerPalette: false
	GrantTimedCondition:
		Duration: 450
		Condition: alive
	TimedConditionBar@ALIVE:
		Condition: alive
		Color: 777777

BUZZ.AI:
	Inherits: BUZZ
	RenderSprites:
		Image: buzz
	AttackWander:
		WanderMoveRadius: 1
		ReduceMoveRadiusDelay: 3

MSPK:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@selection: ^SelectableCombatUnit
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Tooltip:
		Name: Mind Spark
	RenderSprites:
		Palette: caneon
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	HiddenUnderFog:
		Type: CenterPosition
	HitShape:
	RevealsShroud:
		Range: 5c0
		Type: CenterPosition
	Armament@PRIMARY:
		Weapon: MindSparkZap
	AttackTurreted:
	Turreted:
	Aircraft:
		CanHover: True
		Speed: 46
		CruiseAltitude: 1
		LandableTerrainTypes: Clear,Road,Rough,Ore,Gems,Tiberium,BlueTiberium,Water,Tree,River
	KillsSelf:
		Delay: 325
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: die
		FallbackSequence: die
		DeathSequencePalette: caneon
		DeathPaletteIsPlayerPalette: false
	Voiced:
		VoiceSet: MindSparkVoice
	WithColoredSelectionBox@PLAYERBOX:
		ColorSource: Player
		ValidRelationships: Ally, Enemy

GRCL:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@selection: ^SelectableCombatUnit
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Greater Coalescence
	TooltipExtras:
		Description: Pulsing biomass that heals allies and feeds on enemies.
		Attributes: • Heals nearby allies\n• Slows and drains health from enemies\n• Disables power plants and radars
	RenderSprites:
		Palette: caneon
	WithMakeAnimation:
	RevealsShroud:
		MinRange: 1c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: CenterPosition
	RevealsShroud@GAPGEN:
		Range: 1c0
		Type: CenterPosition
	Targetable:
		TargetTypes: Ground, Vehicle, C4Immune
	Health:
		HP: 50000
	Armor:
		Type: Light
	PeriodicExplosion:
		Weapon: GreaterCoalescence
	WithSpriteBody:
	HitShape:
	Aircraft:
		CanHover: True
		Speed: 33
		CruiseAltitude: 1
		LandableTerrainTypes: Clear,Road,Rough,Ore,Gems,Tiberium,BlueTiberium,Water,Tree,River
	Voiced:
		VoiceSet: GiantScrinVoice
	WithColoredSelectionBox@PLAYERBOX:
		ColorSource: Player
		ValidRelationships: Ally, Enemy
	Explodes:
		Weapon: LeecherExplode
		EmptyWeapon: LeecherExplode
	ConvertsDamageToHealth:
		DamagePercentConverted: 200
	ChangesHealth:
		Step: -2000
		StartIfBelow: 101
		Delay: 25
		RequiresCondition: !leeching
	WithRangeCircle:
		Range: 3c768
		Color: ff000099
	ProximityExternalCondition@HEAL:
		Condition: lchr-healing
		Range: 3c768
	GrantConditionOnHealingReceived:
		Condition: leeching
		MinimumHealing: 100
		StackDuration: 25
	AmbientSoundCA:
		SoundFiles: grcl-loop1.aud, grcl-loop2.aud
		Delay: 0
		Interval: 20
		VolumeMultiplier: 0.8
		RequiresCondition: leeching

^RiftBase:
	Interactable:
	ScriptTriggers:
	RenderSprites:
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	HiddenUnderFog:
		Type: GroundPosition
	HitShape:
	Immobile:
		OccupiesSpace: false

Rift:
	Inherits: ^RiftBase
	EditorOnlyTooltip:
		Name: (Rift)
	RenderSprites:
		Image: riftanim
		Palette: effect-ignore-lighting-alpha85
	PeriodicExplosion:
		Weapon: Rift
	KillsSelf:
		Delay: 360
	# required for death animation
	Health:
		HP: 1
	WithSpriteBody:
		StartSequence: spawn
	AmbientSound:
		SoundFiles: rift1.aud, rift2.aud, rift3.aud
		Interval: 50
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: fade
		FallbackSequence: fade
	RevealsShroud:
		Range: 10c0
		Type: CenterPosition

RiftMinor:
	Inherits: ^RiftBase
	EditorOnlyTooltip:
		Name: (Minor Rift)
	RenderSprites:
		Image: miniriftanim
	PeriodicExplosion:
		Weapon: MiniRift
	KillsSelf:
		Delay: 120
	Targetable@RIFT:
		TargetTypes: Rift

camera.resourcescan:
	Inherits: CAMERA
	EditorOnlyTooltip:
		Name: (Resource Scan Camera)
	RevealsShroud:
		Range: 5c0

IchorSeeder:
	Interactable:
	ScriptTriggers:
	EditorOnlyTooltip:
		Name: (Ichor Seeder)
	Immobile:
		OccupiesSpace: false
	BodyOrientation:
		QuantizedFacings: 1
	WithSpriteBody:
	MapEditorData:
		Categories: System
	HitShape:
	HiddenUnderFog:
		Type: GroundPosition
	RevealsShroud:
		Range: 4c0
		Type: CenterPosition
	SeedsResource:
		ResourceType: Tiberium
		Interval: 2
	RenderSprites:
		Image: ichorseed
		Palette: scrin
	WithDeathAnimation:
		UseDeathTypeSuffix: False
		CrushedSequence: fade
		FallbackSequence: fade
		DeathSequencePalette: playerscrin
	KillsSelf:
		Delay: 225

IonSurge:
	Interactable:
	ScriptTriggers:
	EditorOnlyTooltip:
		Name: (Ion Surge)
	BodyOrientation:
		QuantizedFacings: 1
	MapEditorData:
		Categories: System
	WithSpriteBody:
	HitShape:
	HiddenUnderFog:
		Type: GroundPosition
	Immobile:
		OccupiesSpace: false
	RenderSprites:
		Image: ionsurge
		Palette: scrin
	PeriodicExplosion:
		Weapon: IonSurge
	KillsSelf:
		Delay: 200
	AmbientSound:
		SoundFiles: ionsurgeloop.aud
		Interval: 50

WORMHOLE:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@3: ^SelectableBuilding
	Inherits@shape: ^1x1Shape
	Tooltip:
		Name: Wormhole
	RenderSprites:
		PlayerPalette: playerscrin
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	Selectable:
		Bounds: 1365, 1365
	HiddenUnderFog:
		Type: CenterPosition
	HitShape:
	RevealsShroud:
		Range: 4c0
		Type: CenterPosition
	Immobile:
		OccupiesSpace: true
	Targetable:
		TargetTypes: Ground, Structure, Wormhole
	Health:
		HP: 100000
	Armor:
		Type: Concrete
	TeleportNetwork:
		Type: Wormhole
		Delay: 0
	RallyPoint:
		Path: 1,1
	Exit:
	PopControlled:
		Limit: 2
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: die
		FallbackSequence: die
	WithMakeAnimation:
	MapEditorData:
		Categories: System

# infiltrator stolen tech

# portal - infantry veterancy
stolentech.port:
	Inherits@DUMMY: ^InvisibleDummy
	ProvidesPrerequisite:
		Prerequisite: barracks.upgraded

# warp sphere - vehicle veterancy
stolentech.wsph:
	Inherits@DUMMY: ^InvisibleDummy
	ProvidesPrerequisite:
		Prerequisite: vehicles.upgraded

# nerve center - aircraft veterancy
stolentech.nerv:
	Inherits@DUMMY: ^InvisibleDummy
	ProvidesPrerequisite:
		Prerequisite: aircraft.upgraded

# tech center - veterancy for all
stolentech.scrt:
	Inherits@DUMMY: ^InvisibleDummy
	ProvidesPrerequisite@1:
		Prerequisite: barracks.upgraded
	ProvidesPrerequisite@2:
		Prerequisite: vehicles.upgraded
	ProvidesPrerequisite@3:
		Prerequisite: aircraft.upgraded
