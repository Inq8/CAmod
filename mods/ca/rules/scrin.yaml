
^ScrinBuilding:
	Inherits@1: ^Building
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	SpawnActorOnDeath:
		Actor: s1
	SpawnActorsOnSell:
		ActorTypes: s1
	Building:
		BuildSounds: scrinbuild.aud

INFANTRY.SCRIN:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production
	Buildable:
		Description: Infantry Production

VEHICLES.SCRIN:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production
	Buildable:
		Description: Vehicle Production

^ResourceConversion:
	AmmoPool@RESCONV:
		Ammo: 65
		InitialAmmo: 0
		AmmoCondition: ammo
		Armaments: primary-charged
	ReloadAmmoPool@RESCONV:
		Count: 13
		Delay: 25
		RequiresCondition: charging-on-resource
	ReloadAmmoPoolCA@RESCONVDRAIN:
		Count: -13
		Delay: 500
		RequiresCondition: !charging-on-resource && !charged-fire
		ShowSelectionBar: false
		ResetOnFire: true
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 5
		RequiresCondition: ammo
		RequiresSelection: true
		Position: BottomLeft
		Margin: 4, 3
	GrantConditionOnTerrain@RESCONV:
		Condition: on-resource
		TerrainTypes: Tiberium, BlueTiberium, Ore, Gems
	GrantCondition@RESCONV:
		Condition: charging-on-resource
		RequiresCondition: resconv-upgrade && on-resource && (ammo < 65 || charged-fire)
	GrantConditionOnTerrain@RESCONVTIB:
		Condition: on-tib
		TerrainTypes: Tiberium
	GrantConditionOnTerrain@RESCONVORE:
		Condition: on-ore
		TerrainTypes: Ore
	GrantConditionOnTerrain@RESCONVBLUETIB:
		Condition: on-bluetib
		TerrainTypes: BlueTiberium
	GrantConditionOnTerrain@RESCONVGEMS:
		Condition: on-gems
		TerrainTypes: Gems
	GrantConditionOnAttack@PRIMARY:
		ArmamentNames: primary
		Condition: uncharged-fire
		RevokeDelay: 85
	GrantConditionOnAttack@PRIMARYCHARGED:
		ArmamentNames: primary-charged
		Condition: charged-fire
		RevokeDelay: 85
	GrantConditionOnPrerequisite@RESCONV:
		Condition: resconv-upgrade
		Prerequisites: resconv.upgrade
	WithIdleOverlay@RESCONVTIB:
		Image: resconv
		Sequence: green
		Palette: scrin
		RequiresCondition: on-tib && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVORE:
		Image: resconv
		Sequence: yellow
		Palette: scrin
		RequiresCondition: on-ore && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVBLUETIB:
		Image: resconv
		Sequence: blue
		Palette: scrin
		RequiresCondition: on-bluetib && charging-on-resource
		Offset: 0,0,300
	WithIdleOverlay@RESCONVGEMS:
		Image: resconv
		Sequence: red
		Palette: scrin
		RequiresCondition: on-gems && charging-on-resource
		Offset: 0,0,300

^HullRegen:
	GrantConditionOnPrerequisite@REGEN:
		Condition: regen-upgrade
		Prerequisites: regen.upgrade
	ChangesHealth@REGEN1:
		Step: 400
		Delay: 25
		StartIfBelow: 66
		DamageCooldown: 250
		RequiresCondition: regen-upgrade
	ChangesHealth@REGEN2:
		Step: 200
		Delay: 25
		StartIfBelow: 100
		DamageCooldown: 250
		RequiresCondition: regen-upgrade

#
# ---- Infantry
#

^ScrinInfantry:
	Inherits: ^Soldier
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Voiced:
		VoiceSet: ScrinInfantryVoice
	Targetable:
		TargetTypes: Ground, Infantry, TNT
	WithDeathAnimation:
		DeathSequencePalette: overlayplayerscrin
		CrushedSequencePalette: scrin
	-GrantConditionOnTerrain@ONTIB:
	-GrantStackingCondition@TIBEXPOSED:
	-DamagedByTerrain@TIBDAMAGE:
	TakeCover:
		ProneSequencePrefix:
		ProneOffset: 0,0,0
	GrantConditionOnPrerequisite@ADVART:
		Condition: advart-upgrade
		Prerequisites: advart.upgrade
	SpeedMultiplier@ADVART:
		RequiresCondition: advart-upgrade
		Modifier: 115
	-DamagedByTintedCells@RADSTRONGHAZMAT:
	-DamagedByTintedCells@RADMEDHAZMAT:
	-DamagedByTintedCells@RADWEAKHAZMAT:
	DamagedByTintedCells@RADSTRONG:
		Damage: 375
		RequiresCondition: !being-warped
	DamagedByTintedCells@RADMED:
		Damage: 150
		RequiresCondition: !being-warped
	DamagedByTintedCells@RADWEAK:
		Damage: 50
		RequiresCondition: !being-warped
	TransformOnCondition@FEEDER:
		RequiresCondition: feedermutation
		IntoActor: feed
	ExternalCondition@FEEDER:
		Condition: feedermutation
	SpawnActorOnDeath@GMUT:
		Actor: gscr.mutating

S1:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@BOTHELPER: ^BotCaptureHelper
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 12
		Prerequisites: ~infantry.scrin, ~techlevel.infonly
		Description: General-purpose infantry.\n  Strong vs Infantry\n  Weak vs Vehicles, Aircraft
		IconPalette: chrome
	Valued:
		Cost: 100
	Tooltip:
		Name: Warrior
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	Armament@PRIMARY:
		Weapon: WarriorGun
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		LocalOffset: 150,0,400
	Armament@Garrison:
		Name: mounted
		Weapon: WarriorGun
		MuzzleSequence: garrison-muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackFrontal:
		PauseOnCondition: being-warped
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded

S2:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 160
		Prerequisites: anyradar, ~infantry.scrin, ~techlevel.infonly
		Description: Fast anti-personnel infantry.\n  Strong vs Infantry, Light Vehicles\n  Weak vs Tanks, Aircraft
		IconPalette: chromes
	Valued:
		Cost: 275
	Tooltip:
		Name: Ravager
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 7000
	Mobile:
		Speed: 80
	Armament@PRIMARY:
		Weapon: RavagerShards
		LocalOffset: 0,-100,250, 0,100,250
	Armament@Garrison:
		Name: mounted
		Weapon: RavagerShards
	AttackFrontal:
		PauseOnCondition: being-warped
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	WithInfantryBody:
		DefaultAttackSequence: shoot
	-TakeCover:

S3:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 22
		Prerequisites: ~infantry.scrin, ~techlevel.infonly
		Description: Anti-tank/anti-aircraft infantry.\n  Strong vs Tanks, Aircraft\n  Weak vs Infantry
		IconPalette: chrome
	Valued:
		Cost: 300
	Tooltip:
		Name: Disintegrator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 3500
	Mobile:
		Speed: 38
	Armament@PRIMARY:
		Weapon: DisintegratorBeamAA
		LocalOffset: 150,0,400
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Name: secondary
		Weapon: DisintegratorBeam
		LocalOffset: 150,0,400
		PauseOnCondition: !ammo
	Armament@Garrison:
		Name: mounted
		Weapon: DisintegratorBeam
		PauseOnCondition: !ammo
	AttackFrontal:
		PauseOnCondition: being-warped
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	AutoTarget:
		ScanRadius: 5
	AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 30
		Count: 1
	WithInfantryBody:
		DefaultAttackSequence: shoot

S4:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 170
		Prerequisites: anyradar, ~infantry.scrin, ~techlevel.infonly
		Description: Heavy assault infantry with high burst damage.\n  Can teleport short distances.\n  Strong vs Buildings, Defenses, Vehicles\n  Weak vs Infantry, Aircraft
		IconPalette: chrome
	Mobile:
		Speed: 49
	Valued:
		Cost: 450
	Tooltip:
		Name: Intruder
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 14000
	RevealsShroud:
		Range: 5c0
	Armament@PRIMARY:
		Weapon: IntruderDiscs
		LocalOffset: 150,0,400
	Armament@Garrison:
		Name: mounted
		Weapon: IntruderDiscs
	AttackFrontal:
		PauseOnCondition: being-warped
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	-Crushable:
	PortableChrono:
		ChargeDelay: 500
		ChronoshiftSound: scrinport.aud
	WithInfantryBody:
		DefaultAttackSequence: shoot
	-TakeCover:

S6:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@SELECTION: ^SelectableSupportUnit
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 62
		Prerequisites: ~infantry.scrin, ~techlevel.infonly
		Description: Infiltrates and captures\nenemy structures.\n  Can repair friendly structures & bridges.\n  Special Ability: Repair\n  Unarmed
		IconPalette: chrome
	Valued:
		Cost: 500
	Tooltip:
		Name: Assimilator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 2500
	Passenger:
		CustomPipType: yellow
	EngineerRepair:
	RepairsBridges:
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 150
	Armament@defuse:
		Weapon: DefuseKit
		Cursor: goldwrench
		OutsideRangeCursor: goldwrench
		TargetRelationships: Ally
		ForceTargetRelationships: None
		Name: secondary
	AutoTarget:
	AutoTargetPriority@defuse:
		ValidTargets: C4Attached, TNTAttached
		InvalidTargets: NoAutoTarget
		ValidRelationships: Ally
	AttackFrontal:
		Armaments: primary, secondary
		PauseOnCondition: being-warped
	Voiced:
		VoiceSet: AssimilatorVoice
	Targetable:
		TargetTypes: Ground, Infantry, ChaosImmune

FEED:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Valued:
		Cost: 200
	Tooltip:
		Name: Feeder
	Health:
		HP: 7500
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 49
	RevealsShroud:
		Range: 5c0
	Harvester:
		Capacity: 10
		Resources: Tiberium, BlueTiberium, Ore, Gems
		HarvestFacings: 8
		BaleLoadDelay: 18
		DeliveryBuildings: none
		FullyLoadedSpeed: 100
		SearchFromProcRadius: 5
		SearchFromHarvesterRadius: 5
	WithHarvestAnimation:
	WithMoveAnimation:
	WithFacingSpriteBody:
	QuantizeFacingsFromSequence:
		-Sequence:
	-WithInfantryBody:
	-WithInfantryBody@Warped:
	GrantConditionOnFullHarvester@FULL:
		Condition: full
	WithIdleOverlay@FULL:
		Sequence: idle
		Image: feederfull-overlay
		Palette: scrin-ignore-lighting-alpha30
		RequiresCondition: full
	WithAttackAnimation:
		Sequence: harvest
		Armament: secondary
	Explodes:
		Weapon: FeederExplode
		EmptyWeapon: FeederExplode
		DamageSource: Killer
		RequiresCondition: full
	AttackFrontal:
		FacingTolerance: 64
	Armament@PRIMARY:
		Weapon: FeederTargeting
		RequiresCondition: full
	Armament@SECONDARY:
		Name: secondary
		Weapon: FeederBeam
		LocalOffset: 150,0,200
		RequiresCondition: !full
	GrantConditionOnAttack:
		Condition: triggered
		RequiresCondition: full
	GrantConditionOnDeploy:
		DeployedCondition: triggered
		RequiresCondition: full
	KillsSelf:
		RequiresCondition: full && (triggered || berserk)
	SpeedMultiplier@FULL:
		RequiresCondition: full
		Modifier: 150
	-TakeCover:
	WithHarvesterCapacityBar:
		SelectionBarColor: cc0000
		DisplayWhenFull: false
	ConvertsDamageToHealth:
		DamagePercentConverted: 20
	HarvestsByDealingDamage:
		DivideDamageBy: 2000
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !full
	Targetable@FEEDER:
		TargetTypes: Feeder
		RequiresCondition: full

SMEDI:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 240
		Prerequisites: ~infantry.scrin, ~infantry.smedi, ~techlevel.infonly
		Description: Heals nearby life forms.\n  Unarmed
		IconPalette: chromes
	Valued:
		Cost: 200
	Tooltip:
		Name: Rejuvenator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	Armament:
		Weapon: Heal
		Cursor: heal
		OutsideRangeCursor: heal
		TargetRelationships: Ally
		ForceTargetRelationships: None
	AttackFrontal:
		PauseOnCondition: being-warped
	WithInfantryBody:
		DefaultAttackSequence: heal
	Passenger:
		CustomPipType: blue
		Voice: Move
	Guard:
		Voice: Move
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry
		ValidRelationships: Ally
	Voiced:
		VoiceSet: AssimilatorVoice
	Targetable:
		TargetTypes: Ground, Infantry, ChaosImmune
	GuardsSelection:
		ValidTargets: Infantry

GSCR:
	Inherits: BRUT
	RenderSprites:
		Image: gscr
		PlayerPalette: overlayplayerscrin
	Voiced:
		VoiceSet: GiantScrinVoice
	WithDeathAnimation:
		DeathSequencePalette: overlayplayerscrin
	-Buildable:
	Tooltip:
		Name: Giant Scrin
	-GrantConditionOnTerrain@ONTIB:
	-GrantStackingCondition@TIBEXPOSED:
	-DamagedByTerrain@TIBDAMAGE:
	WithInfantryBody:
		MoveSequence: run
		StandSequences: stand
		DefaultAttackSequence: bash
		IdleSequences: idle1, idle2, idle3, idle4
	AttackSounds:
		Sounds: gscr-attack1.aud, gscr-attack2.aud

GSCR.Mutating:
	Inherits: BRUT.Mutating
	SpawnActorOnDeath@GMUT:
		Actor: gscr
	RenderSprites:
		Image: gscr
		PlayerPalette: overlayplayerscrin
	WithDeathAnimation:
		DeathSequencePalette: overlayplayerscrin
	Tooltip:
		Name: Giant Scrin

MAST:
	Inherits@SCRININFANTRY: ^ScrinInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@COMMANDOSKULL: ^CommandoSkull
	AutoTargetPriority@DEFAULT:
		RequiresCondition: mindcontrolling < 3 && !stance-attackanything && !assault-move
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 220
		Prerequisites: scrt, ~infantry.scrin, ~techlevel.infonly
		BuildLimit: 1
		Description: Elite specialist infantry.\n  Can mind-control enemy units and defenses.\n  Can detect cloaked units.\n  Maximum 1 can be trained.\n  Strong vs Infantry, Vehicles, Defenses\n  Weak vs Aircraft
		IconPalette: chrome
	Voiced:
		VoiceSet: MastermindVoice
	Valued:
		Cost: 1350
	Tooltip:
		Name: Mastermind
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 11000
	Mobile:
		Speed: 56
	Armament@PRIMARY:
		Weapon: EnslaveInfantry
		LocalOffset: 150,0,400
	Armament@SECONDARY:
		Name: secondary
		Weapon: EnslaveVehicle
		LocalOffset: 150,0,400
	MindController:
		ArmamentNames: primary, secondary
		Capacity: 3
		ControlSounds: mastermind-fire.aud
		ControllingCondition: mindcontrolling
	WithMindControlArc@MC:
		Color: c71585
		Transparency: 55
		Offset: 0,0,511
		Angle: 32
		Width: 116
	AttackFrontal:
		PauseOnCondition: being-warped
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	-Crushable:
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 150
		ConsumedByCapture: false
	Targetable:
		TargetTypes: Ground, Infantry, MindControlImmune
	WithIdleOverlay@mindcontrolling:
		Sequence: mc
		Palette: scrin
		RequiresCondition: mindcontrolling
		Offset: 0,0,400
	Passenger:
		CustomPipType: red

#
# ---- Vehicles
#

HARV.Scrin:
	Inherits: HARV.TD
	Selectable:
		DecorationBounds: 42,42
	RenderSprites:
		Image: harv.scrin
		PlayerPalette: overlayplayer
	WithShadow:
		Offset: 43, 255, 0
		ZOffset: -256
	WithHarvestOverlay:
		Palette: scrin
		LocalOffset: 400, 0, 0
	Buildable:
		BuildPaletteOrder: 13
		Prerequisites: ~proc.scrin, ~vehicles.scrin, ~techlevel.infonly
		IconPalette: chrome
	SpawnActorOnDeath:
		Actor: HARV.Scrin.Husk
	WithDockingAnimation:
		DockSequence: idle
		DockLoopSequence: idle
	-WithHarvestAnimation:
	WithDamageOverlay:
		Palette: chrometd

GUNW:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 24
		Prerequisites: ~vehicles.scrin, ~techlevel.low
		Description: Light assault walker.\n  Strong vs Infantry, Aircraft\n  Weak vs Tanks
		IconPalette: chrome
	Valued:
		Cost: 600
	Tooltip:
		Name: Gun Walker
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: Light
	Mobile:
		Speed: 90
		TurnSpeed: 38
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: GunWalkerZap
		LocalOffset: 750,92,25, 750,-92,25
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SECONDARY:
		Name: secondary
		Weapon: GunWalkerZapAA
		LocalOffset: 750,92,25, 750,-92,25
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	AttackFrontal:
		FacingTolerance: 40
		PauseOnCondition: empdisable || being-warped
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115

SEEK:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 750
	Tooltip:
		Name: Seeker
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 31
		Prerequisites: ~vehicles.seek, ~techlevel.low
		Queue: Vehicle
		Description: Light hover tank.\n  Can detect cloaked units and mines.\n  Strong vs Vehicles, Buildings\n  Weak vs Aircraft, Infantry
		IconPalette: chrome
	Mobile:
		Speed: 95
		Locomotor: lighthover
	Health:
		HP: 22000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Turreted:
		TurnSpeed: 40
		Offset: -280,0,0
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	GrantConditionOnTerrain:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	Armament@PRIMARY:
		Weapon: PlasmaDiscs
		LocalOffset: 320,-25,320, 320,25,320
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	IgnoresDisguise:
	DetectCloaked:
		Range: 5c0
		CloakTypes: Cloak, Thief, AirCloak, Mine
		RequiresCondition: !(empdisable || being-warped)
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	SpawnActorOnDeath:
		Actor: SEEK.Husk
		RequiresCondition: !being-warped

LACE:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 600
	Tooltip:
		Name: Lacerator
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 32
		Prerequisites: ~vehicles.traveler, ~techlevel.low
		Queue: Vehicle
		Description: Fast hover tank.\n  Can detect cloaked units and mines.\n  Strong vs Vehicles, Buildings\n  Weak vs Aircraft, Infantry
		IconPalette: chrome
	Mobile:
		TurnSpeed: 40
		Speed: 126
		Locomotor: lighthover
	Health:
		HP: 13000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Turreted:
		TurnSpeed: 40
		Offset: -50,0,0
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	GrantConditionOnTerrain:
		TerrainTypes: Water
		Condition: onwater
	KillsSelf@SINK:
		RequiresCondition: onwater && (empdisable || driver-dead)
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	Armament@PRIMARY:
		Weapon: LaceratorShards
		LocalOffset: 0,70,320, 0,-70,320
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	IgnoresDisguise:
	DetectCloaked:
		Range: 6c0
		CloakTypes: Cloak, Thief, AirCloak, Mine
		RequiresCondition: !(empdisable || being-warped)
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded

INTL:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@TRANSPORT: ^Transport
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 750
	Tooltip:
		Name: Interloper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 43
		Prerequisites: ~vehicles.scrin, ~techlevel.low
		Queue: Vehicle
		Description: Heavily armoured front-line assault troop carrier.\n  Strong vs Vehicles\n  Weak vs Infantry, Aircraft
		IconPalette: chrome
	Mobile:
		Speed: 56
		PauseOnCondition: notmobile || being-captured || empdisable || being-warped || driver-dead
		TurnSpeed: 512
		Locomotor: lighthover
	Health:
		HP: 44000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: InterloperLaser
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		LocalOffset: 470,84,30, 470,-84,30
	WithMuzzleOverlay:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	Selectable:
		DecorationBounds: 28,28
	Cargo:
		Types: Infantry
		MaxWeight: 5
		LoadingCondition: notmobile
		LoadedCondition: cargo
	WithCargoPipsDecoration:
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	Capturable:
		RequiresCondition: !being-warped && !cargo
	Capturable@DRIVER_DEAD:
		RequiresCondition: driver-dead && !cargo
	Targetable@DRIVERKILL:
		RequiresCondition: !driver-dead && !cargo
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 75
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary
	WithSpriteTurret:

INTL.AI:
	Inherits: INTL
	Inherits: ^AIUNLOAD
	RenderSprites:
		Image: INTL
	Buildable:
		Prerequisites: ~botplayer, ~vehicles.scrin, ~techlevel.low
	Cargo:
		InitialUnits: S1,S1,S2,S3,S3

CORR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 1000
	Tooltip:
		Name: Corrupter
	Selectable:
		DecorationBounds: 36,36,0,-3
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 140
		Prerequisites: anyradar, ~vehicles.corr, ~techlevel.medium
		Queue: Vehicle
		Description: Medium-ranged anti-infantry/structure unit.\n  Strong vs Infantry, Buildings\n  Weak vs Tanks, Defenses, Aircraft
		IconPalette: chrome
	Mobile:
		Speed: 66
		TurnSpeed: 16
	Health:
		HP: 42000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: CorrupterSpew
		LocalOffset: 750,0,100
	AttackFrontal:
		PauseOnCondition: empdisable || being-warped
	Explodes:
		Weapon: CorruptorExplode
		EmptyWeapon: CorruptorExplode
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115

LCHR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@SLOWCRUSH: ^SlowedByCrushing
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 900
	Tooltip:
		Name: Leecher
	Selectable:
		DecorationBounds: 36,36,0,-3
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 141
		Prerequisites: anyradar, ~vehicles.collector, ~techlevel.medium
		Queue: Vehicle
		Description: Medium-ranged anti-infantry/structure unit.\n  Regenerates health while dealing damage\n  Disables power plants and radars\n  Slows vehicles & cyborgs\n  Strong vs Infantry, Buildings\n  Weak vs Tanks, Defenses, Aircraft
		IconPalette: chromes
	Mobile:
		Speed: 80
		TurnSpeed: 24
	Health:
		HP: 24000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: LeecherBeam
		LocalOffset: 700,0,300, 700,-500,100, 700,500,100
	AttackFrontal:
		PauseOnCondition: empdisable || being-warped
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithMoveAnimation:
		ValidMovementTypes: Horizontal, Vertical, Turn
	ConvertsDamageToHealth:
		DamagePercentConverted: 20
	Explodes:
		Weapon: LeecherExplode
		EmptyWeapon: LeecherExplode

STCR:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 1350
	Tooltip:
		Name: Stormcrawler
	Selectable:
		DecorationBounds: 36,36,0,-3
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 150
		Prerequisites: anyradar, ~vehicles.reaper, ~techlevel.medium
		Queue: Vehicle
		Description: Slow moving, durable, short-range assault unit.\n  Splits incoming damage with other nearby Stormcrawlers.\n  Strong vs Defenses, Vehicles\n  Weak vs Infantry, Aircraft
		IconPalette: chromes
	Mobile:
		Speed: 43
		TurnSpeed: 16
	Health:
		HP: 74000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: StormcrawlerZap
		LocalOffset: 0,0,350, -250,0,350, 250,0,350
		TargetRelationships: Enemy, Neutral
	AttackFrontal:
		FacingTolerance: 512
		PauseOnCondition: empdisable || being-warped
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	WithShadow:
		Offset: 80, 80, 0
		ZOffset: -81
	Targetable@STORMCRAWLERCHARGE:
		TargetTypes: Stormcrawler
	ExternalCondition@STORMCRAWLERCHARGE:
		Condition: stormcrawlercharge
	WithDecoration@STORMCRAWLERCHARGE1:
		Image: pips
		Sequence: pip-stcr1
		Palette: scrin
		Position: TopRight
		RequiresCondition: stormcrawlercharge >= 2 && stormcrawlercharge < 3 && !empdisable && !being-warped
	WithDecoration@STORMCRAWLERCHARGE2:
		Image: pips
		Sequence: pip-stcr2
		Palette: scrin
		Position: TopRight
		RequiresCondition: stormcrawlercharge >= 3 && !empdisable && !being-warped
	PeriodicExplosion:
		Weapon: StormcrawlerChargeSource
	ProximityExternalCondition@STORMCRAWLERCHARGE:
		Range: 4c512
		Condition: stormcrawlercharge
	DamageMultiplier@STORMCRAWLERCHARGE1:
		Modifier: 75
		RequiresCondition: stormcrawlercharge >= 2 && stormcrawlercharge < 3 && !empdisable && !being-warped
	DamageMultiplier@STORMCRAWLERCHARGE2:
		Modifier: 60
		RequiresCondition: stormcrawlercharge >= 3 && !empdisable && !being-warped
	ReflectsDamage@STORMCRAWLERCHARGE1:
		ValidRelationships: Ally
		ValidActors: stcr
		Range: 4c512
		DamagePercentage: 33
		RequiresCondition: stormcrawlercharge >= 2 && stormcrawlercharge < 3 && !empdisable && !being-warped
	ReflectsDamage@STORMCRAWLERCHARGE2:
		ValidRelationships: Ally
		ValidActors: stcr
		Range: 4c512
		DamagePercentage: 33
		MaxUnits: 2
		RequiresCondition: stormcrawlercharge >= 3 && !empdisable && !being-warped

DEVO:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@RESCONV: ^ResourceConversion
	Inherits@HOVERTRAIL: ^HoverTrail
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 220
		Prerequisites: anyradar, ~vehicles.devo, ~techlevel.medium
		Description: Medium hover tank.\n  Can move in any direction while firing.\n  Strong vs Vehicles, Defenses\n  Weak vs Aircraft
		IconPalette: chrome
	Valued:
		Cost: 1350
	Tooltip:
		Name: Devourer Tank
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 27500
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 512
		Speed: 66
		Locomotor: lighthover
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: DevourerLaser
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
		LocalOffset: 850,0,208
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: DevourerLaserCharged
		PauseOnCondition: !ammo || uncharged-fire
		LocalOffset: 850,0,208
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 75
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary, primary-charged
	WithSpriteTurret:
	ProductionCostMultiplier@REAPBONUS:
		Multiplier: 90
		Prerequisites: vehicles.reaper

DARK:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 221
		Prerequisites: anyradar, ~vehicles.harbinger, ~techlevel.medium
		Description: Heavy hover tank with armed with rift cannon.\n  Strong vs Vehicles, Defenses\n  Weak vs Aircraft, Infantry
		IconPalette: chromes
	Valued:
		Cost: 1350
	Tooltip:
		Name: Darkener Tank
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 16
		Speed: 56
		Locomotor: lighthover
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament:
		Weapon: RiftCannon
		LocalOffset: 835,0,350
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	WithMuzzleOverlay:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	Turreted:
		TurnSpeed: 16
		Offset: 0,0,0
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary
	WithSpriteTurret:
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129

RUIN:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Inherits@RESCONV: ^ResourceConversion
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 1250
	Tooltip:
		Name: Ruiner
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 280
		Prerequisites: scrt, ~vehicles.harbinger, ~techlevel.high
		Queue: Vehicle
		Description: Long-range artillery.\n  Strong vs Buildings, Defenses, Infantry\n  Weak vs Tanks, Aircraft
		IconPalette: chrome
	Mobile:
		Speed: 80
		TurnSpeed: 512
		Locomotor: lighthover
	Health:
		HP: 15000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: RuinerCannon
		LocalOffset: 650,0,600
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: RuinerCannonCharged
		LocalOffset: 650,0,600
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		PauseOnCondition: !ammo || uncharged-fire
	WithMuzzleOverlay:
	Explodes:
		Weapon: BarrelExplode
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	TurretedFloating:
		TurnSpeed: 16
		Offset: 0,0,0
		RealignDelay: 75
	AttackTurreted:
		ForceFireIgnoresActors: True
		TargetFrozenActors: True
		PauseOnCondition: empdisable || being-warped
		Armaments: primary, primary-charged
	WithSpriteTurret:
	AmmoPool@RESCONV:
		Ammo: 12
	ReloadAmmoPool@RESCONV:
		Count: 3
	ReloadAmmoPoolCA@RESCONVDRAIN:
		Count: -3
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 4
	GrantCondition@RESCONV:
		RequiresCondition: resconv-upgrade && on-resource && (ammo < 12 || charged-fire)
	GrantConditionOnAttack@PRIMARY:
		RevokeDelay: 175
	GrantConditionOnAttack@PRIMARYCHARGED:
		RevokeDelay: 175

ATMZ:
	Inherits: ^Vehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMoveAntiAir
	Inherits@BERSERK: ^Berserk
	Inherits@HOVERTRAIL: ^HoverTrail
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 1250
	Tooltip:
		Name: Atomizer
	Selectable:
		DecorationBounds: 28,28
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 285
		Prerequisites: scrt, ~vehicles.collector, ~techlevel.medium
		Description: Lightly armored long-range support unit.\n  Targets take damage over time\n  Targets have reduced rate of fire\n  Strong vs Vehicles, Aircraft, Defenses\n  Weak vs Infantry, Buildings
		IconPalette: chrome
	Mobile:
		Speed: 66
		Locomotor: lighthover
	Health:
		HP: 20000
	Armor:
		Type: Light
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Turreted:
		TurnSpeed: 32
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129
	Armament:
		Weapon: AtomizerBolts
		LocalOffset: 350,0,450
	Armament@SECONDARY:
		Name: secondary
		Weapon: AtomizerBoltsAA
		LocalOffset: 350,0,450
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
	WithSpriteTurret:
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded

TPOD:
	Inherits: ^Tank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@BERSERK: ^Berserk
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 310
		Prerequisites: techcenter, ~vehicles.tpod, ~techlevel.high
		Description: Heavy assault walker with beam weapons.\n  Strong vs Vehicles.\n  Weak vs Aircraft
		IconPalette: chrome
	Voiced:
		VoiceSet: TripodVoice
	Valued:
		Cost: 1800
	Selectable:
		Bounds: 30,52,0,-10
	Tooltip:
		Name: Annihilator Tripod
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 74000
	Armor:
		Type: Heavy
	Mobile:
		Locomotor: heavytracked
		Speed: 43
		TurnSpeed: 512
	Passenger:
		Weight: 3
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Armament@PRIMARY:
		Weapon: TripodLaser
		LocalOffset: 650,420,1000
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SECONDARY:
		Name: secondary
		Weapon: TripodLaserReversed
		LocalOffset: 650,-420,1000
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
		FireDelay: 20
	Armament@SOUND:
		Name: sound
		Weapon: TripodLaserSound
		FireDelay: 20
	WithMuzzleOverlay:
	Carryable:
		LocalOffset: 0,0,700
	ProducibleWithLevel:
		Prerequisites: vehicles.upgraded
	TurretedFloating:
		TurnSpeed: 12
		Offset: 0,0,0
	AttackTurreted:
		PauseOnCondition: empdisable || being-warped
		Armaments: primary, secondary, sound
	WithSpriteTurret:
	WithMoveAnimation:
	DeathSounds:
		Voice: Die
	SpawnActorOnDeath:
		Actor: TPOD.Husk
		RequiresCondition: !being-warped
	GrantConditionOnFaction@TRAVELERSPEED:
		Condition: travelerspeed
		Factions: traveler
	SpeedMultiplier@TRAVELERSPEED:
		RequiresCondition: travelerspeed
		Modifier: 115

RPTP:
	Inherits: TPOD
	Inherits@RESCONV: ^ResourceConversion
	Buildable:
		BuildPaletteOrder: 311
		Prerequisites: scrt, ~vehicles.reaper, ~techlevel.high
		Description: Heavy assault walker with beam weapons.\nWeapons empowered by Tiberium.\n  Strong vs Vehicles.\n  Weak vs Aircraft
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 2200
	Tooltip:
		Name: Reaper Tripod
	Health:
		HP: 88000
	SpawnActorOnDeath:
		Actor: RPTP.Husk
	AttackTurreted:
		Armaments: primary, secondary, primary-charged, secondary-charged, sound, sound-charged
	Armament@PRIMARY:
		Weapon: ReaperLaser
		LocalOffset: 700,550,1000
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@SECONDARY:
		Weapon: ReaperLaserReversed
		LocalOffset: 700,-550,1000
		FireDelay: 15
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@SOUND:
		Weapon: ReaperLaserSound
		FireDelay: 15
		PauseOnCondition: (ammo || charged-fire) && !uncharged-fire
	Armament@PRIMARYCHARGED:
		Name: primary-charged
		Weapon: ReaperLaserCharged
		LocalOffset: 700,550,1000
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SECONDARYCHARGED:
		Name: secondary-charged
		Weapon: ReaperLaserChargedReversed
		LocalOffset: 700,-550,1000
		FireDelay: 15
		PauseOnCondition: !ammo || uncharged-fire
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	Armament@SOUNDCHARGED:
		Name: sound-charged
		Weapon: ReaperLaserChargedSound
		FireDelay: 15
		PauseOnCondition: !ammo || uncharged-fire
	-GrantConditionOnPrerequisite@RESCONV:
	AmmoPool@RESCONV:
		Ammo: 70
		Armaments: primary-charged, secondary-charged
	ReloadAmmoPool@RESCONV:
		Count: 14
	ReloadAmmoPoolCA@RESCONVDRAIN:
		Count: -14
	WithAmmoPipsDecoration@RESCONV:
		PipCount: 5
	GrantCondition@RESCONV:
		RequiresCondition: on-resource && (ammo < 70 || charged-fire)
	GrantConditionOnAttack@PRIMARY:
		RevokeDelay: 50
	GrantConditionOnAttack@PRIMARYCHARGED
		RevokeDelay: 50
	WithIdleOverlay@RESCONVTIB:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVORE:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVBLUETIB:
		Offset: 0,0,200
	WithIdleOverlay@RESCONVGEMS:
		Offset: 0,0,200

SMCV:
	Inherits: ^Vehicle-NOUPG
	Inherits@SELECTION: ^SelectableSupportUnit
	Inherits@HOVERTRAIL: ^HoverTrail
	Buildable:
		Queue: Vehicle
		BuildPaletteOrder: 502
		Prerequisites: repair, ~vehicles.scrin, ~techlevel.infonly
		IconPalette: chrome
		Description: Deploys into another Colony Platform.\n  Unarmed
		BuildDurationModifier: 50
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Valued:
		Cost: 3000
	Tooltip:
		Name: Colony Ship
	Selectable:
		Priority: 4
		Bounds: 42,42
	Health:
		HP: 75000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 51
		Locomotor: lighthover
		TurnSpeed: 512
	RevealsShroud:
		Range: 4c0
	Transforms:
		IntoActor: sfac
		Offset: -1, 0
		Facing: 384
		TransformSounds: placbldg.aud, build5.aud
		NoTransformNotification: BuildingCannotPlaceAudio
		PauseOnCondition: empdisable || being-warped
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	SpawnActorOnDeath:
		Actor: SMCV.Husk
		RequiresCondition: !being-warped
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	-Crushable:
	Targetable:
		TargetTypes: Ground, Vehicle, C4, ChaosImmune, MindControlImmune
	Hovers:
		BobDistance: -25
		RequiresCondition: !empdisable && !being-warped && !driver-dead

#
# ---- Aircraft
#

STMR:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Plane
		BuildPaletteOrder: 90
		Prerequisites: ~aircraft.scrin, ~techlevel.medium
		Description: Durable patrol craft.\n  Can detect submarines.\n  Strong vs Infantry, Light Armor, Aircraft\n  Weak vs Tanks, Buildings
		IconPalette: chrome
	Valued:
		Cost: 1650
	Voiced:
		VoiceSet: VehicleVoice
	Tooltip:
		Name: Stormrider
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 26500
	RevealsShroud:
		Range: 11c0
		MinRange: 9c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 9c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: StormriderZap
		LocalOffset: 350,300,-85, 350,-300,-85
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Name: secondary
		Weapon: StormriderZapAA
		LocalOffset: 350,300,-85, 350,-300,-85
		PauseOnCondition: !ammo
	AttackAircraft:
		FacingTolerance: 160
		PersistentTargeting: false
		OpportunityFire: true
		PauseOnCondition: empdisable || being-warped
	Aircraft:
		CruiseAltitude: 2560
		TurnSpeed: 22
		Speed: 157
		IdleSpeed: 135
		IdleTurnSpeed: 15
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanHover: False
		TakeoffSounds: dropup1.aud
		LandingSounds: dropdwn1.aud
		IdealSeparation: 1c682
		CanSlide: False
		AltitudeVelocity: 0c200
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	Contrail@1:
		Offset: -250,-250,100
		UsePlayerColor: true
		ZOffset: -512
	Contrail@2:
		Offset: -250,250,100
		UsePlayerColor: true
		ZOffset: -512
	SpawnActorOnDeath:
		Actor: STMR.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: STMR.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	SmokeTrailWhenDamaged:
		Offset: -427,0,0
	Selectable:
		DecorationBounds: 36,28
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	-EjectOnDeath:
	AmmoPool:
		Ammo: 15
		AmmoCondition: ammo
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 3
	ReloadAmmoPoolCA:
		Delay: 750
		Count: 15
		DelayOnFire: 75
		DelayAfterReset: 90
		ShowSelectionBar: true
		SelectionBarColor: ff00ff
		RequiresCondition: !srep-rearm || airborne
	DetectCloaked:
		CloakTypes: Underwater
		Range: 8c0
	Rearmable:
		RearmActors: srep
	ExternalCondition@SREPREARM:
		Condition: srep-rearm
	ReloadAmmoPool@SREPREARM:
		Delay: 250
		Count: 15
		RequiresCondition: srep-rearm && !airborne

ENRV:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Plane
		BuildPaletteOrder: 170
		Prerequisites: scrt, ~aircraft.traveler, ~techlevel.high
		Description: Fast attack craft that creates a focused suppression field.\n  Strong vs Vehicles, Defenses, Aircraft\n  Weak vs Infantry
		IconPalette: chromes
	Valued:
		Cost: 1900
	Voiced:
		VoiceSet: VehicleVoice
	Tooltip:
		Name: Enervator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 20000
	RevealsShroud:
		Range: 12c0
		MinRange: 10c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 12c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: EnervatorBolts
		LocalOffset: -300,0,-250
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Weapon: EnervatorBoltsAA
		LocalOffset: -300,0,-250
		PauseOnCondition: !ammo
	AttackAircraft:
		FacingTolerance: 40
		PersistentTargeting: false
		OpportunityFire: false
		PauseOnCondition: empdisable || being-warped
	Aircraft:
		TurnSpeed: 18
		Speed: 225
		InitialFacing: 768
		TakeoffSounds: dropup1.aud
		LandingSounds: dropdwn1.aud
		CruiseAltitude: 2560
		RepulsionSpeed: 40
		MaximumPitch: 56
		IdealSeparation: 1c256
		CanSlide: False
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: AttackAnything
	Contrail@1:
		Offset: -750,-200,300
		UsePlayerColor: true
		ZOffset: -512
	Contrail@2:
		Offset: -750,200,300
		UsePlayerColor: true
		ZOffset: -512
	SpawnActorOnDeath:
		Actor: ENRV.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: ENRV.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	SmokeTrailWhenDamaged:
		Offset: -427,0,0
	Selectable:
		DecorationBounds: 36,36
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	-EjectOnDeath:
	AmmoPool:
		Ammo: 4
		AmmoCondition: ammo
		ReloadDelay: 751
		ReloadCount: 4
	WithAmmoPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 4
	ReloadAmmoPoolCA:
		Delay: 750
		Count: 4
		DelayOnFire: 375
		DelayAfterReset: 60
		ShowSelectionBar: true
		SelectionBarColor: ff00ff
		RequiresCondition: !srep-rearm || airborne
	Rearmable:
		RearmActors: srep
	ExternalCondition@SREPREARM:
		Condition: srep-rearm
	ReloadAmmoPool@SREPREARM:
		Delay: 250
		Count: 4
		RequiresCondition: srep-rearm && !airborne

DEVA:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Plane
		BuildPaletteOrder: 170
		Prerequisites: scrt, ~aircraft.scrin, ~techlevel.high
		Description: Long-range siege warship.\n  Strong vs Buildings, Defenses, Infantry\n  Weak vs Aircraft, Tanks
		IconPalette: chrome
	Voiced:
		VoiceSet: DevastatorVoice
	Valued:
		Cost: 2500
	Tooltip:
		Name: Devastator Warship
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 32000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 8c0
		MinRange: 7c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 7c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: DevastatorDiscs
		LocalOffset: 500,0,0
	AttackAircraft:
		FacingTolerance: 40
		ForceFireIgnoresActors: True
		TargetFrozenActors: True
		AttackType: Hover
		PauseOnCondition: empdisable || being-warped
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 16
		Speed: 56
		AltitudeVelocity: 0c50
		CanForceLand: False
	Selectable:
		Bounds: 36,28,0,2
		DecorationBounds: 40,40,0,1
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: DEVA.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: DEVA.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	-Hovers@CRUISING:
	-EjectOnDeath:
	ProductionCostMultiplier@HARBONUS:
		Multiplier: 90
		Prerequisites: vehicles.harbinger
	GrantConditionOnPrerequisite@SHIELDS:
		Condition: shields-upgrade
		Prerequisites: shields.upgrade
	WithSpriteTurret@SHIELDS:
		RequiresCondition: shields-upgrade && shields-up
		Sequence: shield
		Palette: scrinshield-ignore-lighting-alpha50
	Turreted@SHIELDS:
		PauseOnCondition: shields-upgrade
		RequiresCondition: shields-upgrade
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Repairable:
		RepairActors: fix, rep, srep
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	Shielded:
		MaxStrength: 7500
		RegenDelay: 350
		RegenAmount: 250
		RegenInterval: 5
		ShieldsUpCondition: shields-up
		RequiresCondition: shields-upgrade && !empdisable
		SelectionBarColor: ead6ff
	ExternalCondition@Shield:
		Condition: shields-up
	Targetable@TEMPORAL:
		RequiresCondition: !shields-up

PAC:
	Inherits: ^Helicopter
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Plane
		BuildPaletteOrder: 180
		Prerequisites: sign, scrt, ~aircraft.scrin, ~techlevel.high
		Description: Warship that launches a squadron\nof assault craft.\n  Strong vs Vehicles, Infantry\n  Weak vs Buildings, Defenses
		IconPalette: chrome
	Voiced:
		VoiceSet: PlanetaryAssaultCarrierVoice
	Valued:
		Cost: 3000
	Tooltip:
		Name: Planetary Assault Carrier
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 52000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: InvaderLauncher
		LocalOffset: 0,0,0
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 16
		Speed: 49
		AltitudeVelocity: 0c50
		CanForceLand: False
	Selectable:
		Bounds: 36,28,0,2
		DecorationBounds: 40,40,0,1
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: PAC.Husk
		RequiresCondition: !empdisable && !being-warped
	SpawnActorOnDeath@EMP:
		Actor: PAC.Husk.EMP
		RequiresCondition: empdisable && !being-warped
	-Hovers@CRUISING:
	WithFacingSpriteBody:
		RequiresCondition: inva-loaded == 6
		Name: idle
	WithFacingSpriteBody@HALF:
		RequiresCondition: inva-loaded < 6 && inva-loaded > 0
		Sequence: half-deployed
		Name: half-deployed
	WithFacingSpriteBody@EMPTY:
		RequiresCondition: inva-loaded == 0
		Sequence: fully-deployed
		Name: fully-deployed
	AttackFrontal:
		FacingTolerance: 384
		PauseOnCondition: empdisable || being-warped
	CarrierMaster@carr1:
		Actors: inva, inva, inva, inva, inva, inva
		RearmTicks: 0
		RespawnTicks: 375
		InstantRepair: true
		SlaveDisposalOnKill: KillSlaves
		SpawnAllAtOnce: false
		LoadedCondition: inva-loaded
		RequiresCondition: !empdisable && !being-warped
		MaxSlaveDistance: 16c0
	WithSpawnerMasterPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
	Exit@0:
		SpawnOffset: -100,0,0
		Facing: 240
	Exit@1:
		SpawnOffset: -100,0,0
		Facing: -240
	Exit@2:
		SpawnOffset: 100,0,0
		Facing: 240
	Exit@3:
		SpawnOffset: 100,0,0
		Facing: -240
	Exit@4:
		SpawnOffset: 0,0,0
		Facing: 384
	Exit@5:
		SpawnOffset: 0,0,0
		Facing: -384
	DeathSounds:
		Voice: Die
	-EjectOnDeath:
	GrantConditionOnPrerequisite@SHIELDS:
		Condition: shields-upgrade
		Prerequisites: shields.upgrade
	WithSpriteTurret@SHIELDS:
		RequiresCondition: shields-upgrade && shields-up
		Sequence: shield
		Palette: scrinshield-ignore-lighting-alpha50
	Turreted@SHIELDS:
		PauseOnCondition: shields-upgrade
		RequiresCondition: shields-upgrade
	KillsSelf:
		RequiresCondition: empdisable && cruising && !shields-upgrade
	SpeedMultiplier@EMPDISABLE:
		Modifier: 0
		RequiresCondition: empdisable
	Repairable:
		RepairActors: fix, rep, srep
	AutoTargetPriority@DEFAULT:
		InvalidTargets: NoAutoTarget, WaterStructure, AirLowPriority
	AutoTargetPriority@ATTACKANYTHING:
		InvalidTargets: NoAutoTarget, AirLowPriority
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	Shielded:
		MaxStrength: 10000
		RegenDelay: 350
		RegenAmount: 250
		RegenInterval: 5
		ShieldsUpCondition: shields-up
		RequiresCondition: shields-upgrade && !empdisable
		SelectionBarColor: ead6ff
	ExternalCondition@Shield:
		Condition: shields-up
	Targetable@TEMPORAL:
		RequiresCondition: !shields-up

INVA:
	Inherits: ^Plane
	Valued:
		Cost: 50
	Tooltip:
		Name: Invader
	Health:
		HP: 22000
	RevealsShroud:
		Range: 2c0
		MinRange: 1c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 1c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: InvaderZap
	Armament@SECONDARY:
		Name: secondary
		Weapon: InvaderZapAA
	AttackAircraft:
		FacingTolerance: 80
		PersistentTargeting: false
		OpportunityFire: false
		PauseOnCondition: empdisable || being-warped
		AttackType: Strafe
		StrafeRunLength: 3c0
	Aircraft:
		CruiseAltitude: 2560
		InitialFacing: 768
		TurnSpeed: 32
		Speed: 220
		MaximumPitch: 56
		CanHover: True
		CanSlide: False
		RepulsionSpeed: 40
		Repulsable: False
		IdealSeparation: 0c256
		VTOL: true
		TakeoffSounds: invader-launch1.aud, invader-launch2.aud
		LandingSounds: invader-dock.aud
	RejectsOrders:
	-SpawnActorOnDeath:
	Explodes:
		Weapon: VisualExplodeInvader
		-RequiresCondition:
	-EjectOnDeath:
	-Selectable:
	-ActorLostNotification:
	SmokeTrailWhenDamaged:
		Offset: -253,0,171
		Interval: 2
	CarrierSlave:
		LandingDistance: 8c0
	Contrail@1:
		Offset: -432,0,0
		UsePlayerColor: true
		TrailLength: 10
	-Contrail@2:
	Interactable:
	GrantConditionOnPrerequisite@SHIELDS:
		Condition: shields-upgrade
		Prerequisites: shields.upgrade
	DamageMultiplier@SHIELDS:
		RequiresCondition: shields-upgrade
		Modifier: 75
	Targetable@AIRBORNE:
		RequiresCondition: airborne
		TargetTypes: AirSmall, AirLowPriority

MSHP:
	Inherits: ^Helicopter
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@HULLREGEN: ^HullRegen
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Plane
		BuildPaletteOrder: 190
		Prerequisites: sign, scrt, ~aircraft.scrin, ~techlevel.high
		Description: Huge craft with powerful beam weapon.\n  Can create wormholes.\n  Maximum 1 can be built.\n  Strong vs Buildings, Defenses\n  Weak vs Aircraft
		IconPalette: chromes
		BuildLimit: 1
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Voiced:
		VoiceSet: MothershipVoice
	Valued:
		Cost: 3000
	Tooltip:
		Name: Mothership
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 130000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: MothershipBeam
		LocalOffset: 0,0,-940
		PauseOnCondition: !ammo
	Armament@SECONDARY:
		Name: secondary
		Weapon: MothershipChargeBeam
		LocalOffset: 0,0,-940
		PauseOnCondition: attacking || ammo || cooldown
	Aircraft:
		CruiseAltitude: 3c512
		InitialFacing: 768
		TurnSpeed: 16
		Speed: 38
		AltitudeVelocity: 0c50
		CanForceLand: False
		Voice: Move
	Selectable:
		Bounds: 42,42,0,2
		DecorationBounds: 48,52,0,1
	Explodes:
		Weapon: KirovExplode
		RequiresCondition: !airborne
	SpawnActorOnDeath:
		Actor: MSHP.Husk
		RequiresCondition: !being-warped
	-Hovers@CRUISING:
	WithFacingSpriteBody:
	AttackFrontal:
		Armaments: primary, secondary
		FacingTolerance: 512
		Voice: Attack
		PauseOnCondition: being-warped
		ForceFireIgnoresActors: true
	-EjectOnDeath:
	ProducibleWithLevel:
		Prerequisites: aircraft.upgraded
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,72
	DetonateWeaponOnDeploy:
		Weapon: WormholeOpener
		ForceGround: true
		ChargeTicks: 200
		PauseOnCondition: being-warped
		OverlaySequence: wormholebeam
		OverlayPalette: overlayplayerscrin
		IsPlayerPalette: true
		ShowSelectionBarWhenEmpty: false
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	DeathSounds:
		Voice: Die
	AnnounceOnCreation:
		Notification: MothershipDeployed
		Delay: 30
	AmbientSoundCA:
		SoundFiles: mshp-beamloop.aud
		FinalSound: mshp-beamend.aud
		RequiresCondition: attacking
	GrantConditionOnAttack@ATTACKING:
		Condition: attacking
		ArmamentNames: primary
	GrantConditionOnAttack@COOLDOWN:
		Condition: cooldown
		ArmamentNames: primary
		RevokeDelay: 100
	AmbientSoundCA@CHARGING:
		SoundFiles: mshp-charge.aud
		RequiresCondition: charging
	GrantConditionOnAttack@CHARGING:
		Condition: charging
		ArmamentNames: secondary
		RevokeDelay: 5
	RejectsOrders:
		RequiresCondition: attacking
	AmmoPool:
		Ammo: 80
		InitialAmmo: 0
		AmmoCondition: ammo
		Armaments: primary
	ReloadAmmoPoolCA@CHARGE:
		Delay: 150
		Count: 80
		RequiresCondition: charging && !attacking
		Sound: mshp-fire1.aud
		ShowSelectionBar: true
		SelectionBarColor: ff00ff
	ReloadAmmoPoolCA@DRAIN:
		Count: -80
		Delay: 1
		RequiresCondition: !charging && !attacking
		ShowSelectionBar: false
	-Targetable@TEMPORAL:
	-SpeedMultiplier@TEMPORAL:
	-RejectsOrders@TEMPORAL:
	MothershipAttackBehaviour:

#
# ---- Husks
#

SMCV.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Colony Ship)
	TransformOnCapture:
		IntoActor: smcv
	InfiltrateForTransform:
		IntoActor: smcv
	RenderSprites:
		PlayerPalette: overlayplayerscrin
		Image: smcv.destroyed
	Crushable:
		CrushedByFriendlies: False

HARV.Scrin.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Harvester)
	TransformOnCapture:
		IntoActor: harv.scrin
	InfiltrateForTransform:
		IntoActor: harv.scrin
	RenderSprites:
		Image: harv.scrin.destroyed
	WithShadow:
		Offset: 43, 255, 0
		ZOffset: -256
	Crushable:
		CrushedByFriendlies: False

GUNW.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Gun Walker)
	TransformOnCapture:
		IntoActor: gunw
	InfiltrateForTransform:
		IntoActor: gunw
	RenderSprites:
		Image: gunw.destroyed
		PlayerPalette: overlayplayerscrin

SEEK.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Seeker)
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: seek
	InfiltrateForTransform:
		IntoActor: seek
	RenderSprites:
		Image: seek.destroyed
		PlayerPalette: overlayplayerscrin
	WithShadow:
		Offset: 43, 128, 0
		ZOffset: -129

INTL.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Interloper)
	TransformOnCapture:
		IntoActor: intl
	InfiltrateForTransform:
		IntoActor: intl
	RenderSprites:
		Image: intl.destroyed
		PlayerPalette: overlayplayerscrin

CORR.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Corrupter)
	TransformOnCapture:
		IntoActor: corr
	InfiltrateForTransform:
		IntoActor: corr
	RenderSprites:
		Image: corr.destroyed
		PlayerPalette: overlayplayerscrin

DEVO.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Devourer)
	TransformOnCapture:
		IntoActor: devo
	InfiltrateForTransform:
		IntoActor: devo
	RenderSprites:
		Image: devo.destroyed
		PlayerPalette: overlayplayerscrin

RUIN.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Ruiner)
	TransformOnCapture:
		IntoActor: ruin
	InfiltrateForTransform:
		IntoActor: ruin
	RenderSprites:
		Image: ruin.destroyed
		PlayerPalette: overlayplayerscrin

TPOD.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Annihilator Tripod)
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: tpod
	InfiltrateForTransform:
		IntoActor: tpod
	RenderSprites:
		Image: tpod.destroyed
		PlayerPalette: overlayplayerscrin

RPTP.Husk:
	Inherits: ^Husk
	Tooltip:
		Name: Husk (Reaper Tripod)
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: rptp
	InfiltrateForTransform:
		IntoActor: rptp
	RenderSprites:
		Image: rptp.destroyed
		PlayerPalette: overlayplayerscrin

STMR.Husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Stormrider
	Aircraft:
		TurnSpeed: 16
		Speed: 170
	SmokeTrailWhenDamaged:
		Offset: -427,0,0
		MinDamage: Undamaged
	Contrail@1:
		Offset: -250,-250,100
		UsePlayerColor: true
	Contrail@2:
		Offset: -250,250,100
		UsePlayerColor: true
	RevealsShroud:
		Range: 11c0
		MinRange: 9c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 9c0
		Type: GroundPosition
	RenderSprites:
		Image: stmr
		PlayerPalette: overlayplayerscrin

STMR.Husk.EMP:
	Inherits: STMR.Husk
	Inherits@EMP: ^EmpVisualEffect

ENRV.Husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Enervator
	Aircraft:
		TurnSpeed: 14
		Speed: 170
	SmokeTrailWhenDamaged:
		Offset: -427,0,0
		MinDamage: Undamaged
	Contrail@1:
		Offset: -750,-200,300
		UsePlayerColor: true
	Contrail@2:
		Offset: -750,200,300
		UsePlayerColor: true
	RevealsShroud:
		Range: 12c0
		MinRange: 10c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 10c0
		Type: GroundPosition
	RenderSprites:
		Image: enrv
		PlayerPalette: overlayplayerscrin

ENRV.Husk.EMP:
	Inherits: ENRV.Husk
	Inherits@EMP: ^EmpVisualEffect

DEVA.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Devastator Warship
	Aircraft:
		TurnSpeed: 8
		Speed: 35
	FallsToEarth:
		MaximumSpinSpeed: 0
		Moves: True
		Velocity: 30
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: deva
	FallsToEarth:
		Explosion: KirovExplode
	SpawnActorOnDeath:
		Actor: DEVA.Husk.Ground

DEVA.Husk.EMP:
	Inherits: DEVA.Husk
	Inherits@EMP: ^EmpVisualEffect

DEVA.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: deva
	Tooltip:
		Name: Husk (Devastator Warship)
	KillsSelf:
		Delay: 1
	Explodes:
		Weapon: KirovExplode
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-TransformOnCapture:
	-InfiltrateForTransform:

PAC.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Planetary Assault Carrier
	Aircraft:
		TurnSpeed: 8
		Speed: 30
	FallsToEarth:
		MaximumSpinSpeed: 0
		Moves: True
		Velocity: 35
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: pac
	FallsToEarth:
		Explosion: KirovExplode
	SpawnActorOnDeath:
		Actor: PAC.Husk.Ground

PAC.Husk.EMP:
	Inherits: PAC.Husk
	Inherits@EMP: ^EmpVisualEffect

PAC.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: pac
	Tooltip:
		Name: Husk (Planetary Assault Carrier)
	KillsSelf:
		Delay: 1
	Explodes:
		Weapon: KirovExplode
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-TransformOnCapture:
	-InfiltrateForTransform:

MSHP.Husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Mothership
	Aircraft:
		TurnSpeed: 8
		Speed: 30
	FallsToEarth:
		MaximumSpinSpeed: 0
		Velocity: 35
	RevealsShroud:
		Range: 10c0
		MinRange: 8c0
		Type: GroundPosition
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 8c0
		Type: GroundPosition
	RenderSprites:
		Image: mshp
		PlayerPalette: overlayplayerscrin
	FallsToEarth:
		Explosion: KirovExplode
	SpawnActorOnDeath:
		Actor: MSHP.Husk.Ground
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,0

MSHP.Husk.Ground:
	Inherits: ^Husk
	Inherits@SHRAPNEL: ^ThrowsShrapnelBig
	RenderSprites:
		Image: mshp
		PlayerPalette: overlayplayerscrin
	Tooltip:
		Name: Husk (Mothership)
	KillsSelf:
		Delay: 1
	Explodes:
		Weapon: KirovExplode
	WithIdleOverlay@RING:
		Image: mshp
		Sequence: ring
		Offset: 0,0,0
	-OwnerLostAction:
	-CaptureManager:
	-Capturable:
	-TransformOnCapture:
	-InfiltrateForTransform:

#
# ---- Buildings
#

SWAL:
	Inherits: ^Wall
	RenderSprites:
		Palette: scrin
	Building:
		BuildSounds: scrinbuild.aud
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.scrin, ~techlevel.medium
		Description: Stops units and blocks enemy fire. Regenerates over time.
		IconPalette: chromes
	Valued:
		Cost: 200
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Biometallic Wall
	SoundOnDamageTransition:
		DamagedSounds: crmble2.aud
		DestroyedSounds: kaboom30.aud
	Health:
		HP: 36000
	ChangesHealth:
		PercentageStep: 1
		Delay: 10
		StartIfBelow: 100
		DamageCooldown: 25
	Armor:
		Type: Brick
	Crushable:
		CrushClasses: heavywall
	BlocksProjectiles:
	LineBuild:
		NodeTypes: scrinwall
	LineBuildNode:
		Types: scrinwall
	WithWallSpriteBody:
		Type: scrinwall

SFAC:
	Inherits: ^ScrinBuilding
	Inherits@SHAPE: ^3x2Shape
	Inherits@BOTI: ^BotFallbackInsurance
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		IconPalette: chrometd
		Description: Produces structures.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Production:
		Produces: Building, Defense
		PauseOnCondition: forceshield || invulnerability || being-warped
	Valued:
		Cost: 2500
	Tooltip:
		Name: Colony Platform
	BaseBuilding:
	Transforms:
		RequiresCondition: factundeploy
		PauseOnCondition: chrono-vortex || being-captured || c4 || tnt || build-incomplete || being-warped || hacked
		IntoActor: smcv
		Offset: 1,0
		Facing: 96
	TransformsIntoMobile:
		RequiresCondition: factundeploy
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: factundeploy
		CargoType: Vehicle
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: factundeploy
		RepairActors: fix, rep
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: factundeploy && build-incomplete
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !c4 && !being-warped && !hacked
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@scrin:
		Prerequisite: structures.scrin
	ProvidesPrerequisiteValidatedFaction@reaper:
		Factions: reaper
		Prerequisite: structures.reaper
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: structures.traveler
	ProvidesPrerequisiteValidatedFaction@harbinger:
		Factions: harbinger
		Prerequisite: structures.harbinger
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: structures.collector
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Defense:
		ProductionType: Defense
		Color: 8A8A8A
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
	ProvidesPrerequisite@buildingname:
	ConyardChronoReturn:
		ReturnOriginalActorOnCondition: build-incomplete
		Condition: chrono-vortex
		Damage: 950
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	SpawnActorsOnSell:
		ActorTypes: s1,s1,s1,s1,s6

REAC:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^2x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: 630,299,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~structures.scrin, ~techlevel.low
		IconPalette: chromes
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xX xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
	Power:
		Amount: 100
	ProvidesPrerequisite:
		Prerequisite: anypower
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, PowerInfiltrate
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

REA2:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@SHAPE: ^3x2Shape
	Inherits@POWERDRAIN: ^PowerDrainable
	Inherits@OVERLOAD: ^HackableOverloadable
	HitShape:
		TargetableOffsets: -355,-1024,0
	WithSpriteBody:
		PauseOnCondition: disabled
	Buildable:
		Queue: Building
		BuildPaletteOrder: 110
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.low
		IconPalette: chrome
		Description: Provides double the power of\na standard Reactor.
	Valued:
		Cost: 500
	Tooltip:
		Name: Advanced Reactor
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xxx Xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	WithBuildingBib:
	Power:
		Amount: 200
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate, PowerInfiltrate
	ProvidesPrerequisite@buildingname:
	ScalePowerWithHealth:
	InfiltrateForPowerOutage:
		Types: SpyInfiltrate, PowerInfiltrate

PROC.SCRIN:
	Inherits: ^ScrinBuilding
	Inherits@BOTINCOME: ^BotIncome
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 853
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1450
			BottomRight: 896, -512
	Valued:
		Cost: 1800
	CustomSellValue:
		Value: 400
	Tooltip:
		Name: Refinery
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: anypower, ~structures.scrin, ~techlevel.low
		Queue: Building
		IconPalette: chromes
		Description: Processes raw Tiberium, Ore and Gems\ninto credits.
		BuildDuration: 1400
	Building:
		Footprint: _x_ xxx +++ ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, ThiefInfiltrate
	Refinery:
		DockAngle: 448
		DockOffset: 0,2
		IsDragRequired: True
		DragOffset: -554,512,0
		DragLength: 12
		TickRate: 15
	StoresResources:
		Capacity: 2000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 17
	Selectable:
		Bounds: 72,56,0,12
		DecorationBounds: 73,72
	InfiltrateForCash:
		Types: ThiefInfiltrate
		Percentage: 50
		InfiltrationNotification: CreditsStolen
	FreeActor:
		Actor: HARV.Scrin
		SpawnOffset: 1,2
		Facing: 64
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@anyrefinery:
		Prerequisite: anyrefinery
	CashHackable:

PORT:
	Inherits: ^ScrinBuilding
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^2x2Shape
	Selectable:
		Bounds: 48,48
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 840,-256,0, 840,512,0, 210,-512,0, -71,512,0
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 640
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.scrin, ~techlevel.low
		IconPalette: chromes
		Description: Produces infantry.
	Valued:
		Cost: 500
	Tooltip:
		Name: Portal
	Building:
		Footprint: xx xx ++
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,512,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: 256,512,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@3:
		RequiresCondition: !being-captured
		SpawnOffset: 0,512,0
		ExitCell: -1,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Exit@4:
		RequiresCondition: !being-captured
		SpawnOffset: 256,512,0
		ExitCell: 2,2
		ProductionTypes: Soldier, Infantry
		Priority: 0
	Production:
		Produces: Infantry, Soldier
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Infantry
	ProvidesPrerequisite@scrin:
		Prerequisite: infantry.scrin
	ProvidesPrerequisite@reaper:
		Factions: reaper
		Prerequisite: infantry.reaper
	ProvidesPrerequisite@traveler:
		Factions: traveler
		Prerequisite: infantry.traveler
	ProvidesPrerequisite@harbinger:
		Factions: harbinger
		Prerequisite: infantry.harbinger
	ProvidesPrerequisite@collector:
		Factions: collector
		Prerequisite: infantry.collector
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate, SpyInfiltrate
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.port
	InfiltrateForSupportPower@spy:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	WithIdleOverlay:
		RequiresCondition: !build-incomplete

WSPH:
	Inherits: ^ScrinBuilding
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	Selectable:
		Bounds: 72,48
	HitShape:
		TargetableOffsets: 0,0,0, 0,1024,0, 0,-1024,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 512
	Buildable:
		Queue: Building
		BuildPaletteOrder: 80
		Prerequisites: proc.scrin, ~structures.scrin, ~techlevel.low
		IconPalette: chromes
		Description: Produces vehicles.
	Valued:
		Cost: 2000
	Tooltip:
		Name: Warp Sphere
	Building:
		Footprint: xxx xxx +++
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@any:
		Prerequisite: vehicles.any
	ProvidesPrerequisite@scrin:
		Prerequisite: vehicles.scrin
	ProvidesPrerequisiteValidatedFaction@reaper:
		Factions: reaper
		Prerequisite: vehicles.reaper
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: vehicles.traveler
	ProvidesPrerequisiteValidatedFaction@harbinger:
		Factions: harbinger
		Prerequisite: vehicles.harbinger
	ProvidesPrerequisiteValidatedFaction@collector:
		Factions: collector
		Prerequisite: vehicles.collector
	ProvidesPrerequisiteValidatedFaction@seek:
		Factions: reaper, harbinger, collector
		Prerequisite: vehicles.seek
	ProvidesPrerequisiteValidatedFaction@corr:
		Factions: reaper, traveler, harbinger
		Prerequisite: vehicles.corr
	ProvidesPrerequisiteValidatedFaction@devo:
		Factions: reaper, traveler, collector
		Prerequisite: vehicles.devo
	ProvidesPrerequisiteValidatedFaction@tpod:
		Factions: traveler, harbinger, collector
		Prerequisite: vehicles.tpod
	WithBuildingBib:
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,0,0
		ExitCell: 0,2
	Production:
		Produces: Vehicle
		PauseOnCondition: forceshield || invulnerability || being-warped
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate, SpyInfiltrate
	ProductionBar:
		ProductionType: Vehicle
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower@spy:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.wsph
	WithIdleOverlay:
		RequiresCondition: !build-incomplete
	GrantExternalConditionToProduced@DRONEEXIT:
		Condition: radarenabled
		Duration: 100

NERV:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@POWERDRAIN: ^PowerDrainableRadar
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-384,0, 630,384,0, -700,-512,0, -700,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 90
		Prerequisites: proc.scrin, ~structures.scrin, ~techlevel.medium
		Description: Provides an overview of the battlefield.\n  Requires power to operate.
		IconPalette: chromes
	Valued:
		Cost: 1800
	Tooltip:
		Name: Nerve Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-768,0
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate,  SabInfiltrate
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 6c0
		Range: 10c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 6c0
		RequiresCondition: !disabled
	ProvidesRadar:
		RequiresCondition: !jammed && !disabled && !being-warped
	WithBuildingBib:
	InfiltrateForExploration:
		Types: SpyInfiltrate, SabInfiltrate
	Power:
		Amount: -40
	-PowerMultiplier@POWERDRAIN:
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite@anyradar:
		Prerequisite: anyradar
	ProvidesPrerequisite@scrinrad:
		Prerequisite: radar.scrin
	ProvidesPrerequisiteValidatedFaction@reaprad:
		Factions: reaper
		Prerequisite: radar.reaper
	ProvidesPrerequisiteValidatedFaction@travrad:
		Factions: traveler
		Prerequisite: radar.traveler
	ProvidesPrerequisiteValidatedFaction@harbrad:
		Factions: harbinger
		Prerequisite: radar.harbinger
	ProvidesPrerequisiteValidatedFaction@desprad:
		Factions: collector
		Prerequisite: radar.collector
	ProvidesPrerequisite@buildingname:
	ExternalCondition@JAMMED:
		Condition: jammed
	ProvidesPrerequisite@radar-active:
		Prerequisite: radar-active
		RequiresCondition: !jammed && !disabled && !being-warped
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.nerv
	RevealActorsPower@RESOURCESCAN:
		CameraActor: camera.resourcescan
		TargetActors: mine, gmine, split2, split3, splitblue, proc, proc.td, proc.scrin
		LifeTime: 250
		OrderName: resourcescan
		Icon: rescanpower
		ChargeInterval: 7500
		Description: Resource Scan
		LongDesc: Reveals map resources.
		LaunchSound: tibscan.aud
		PauseOnCondition: disabled || empdisable || being-warped
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
	DetonateWeaponPower@BUZZERSWARM:
		OrderName: buzzerswarm
		Icon: buzzpower
		IconPalette: chromes
		Prerequisites: radar.harbinger, !botplayer
		Cursor: ability
		ChargeInterval: 7500
		Description: Buzzer Swarm
		ActivationDelay: 1
		LongDesc: Spawns controllable buzzer swarm which damages anything nearby.
		LaunchSound: buzzers-create.aud
		Weapon: BuzzerSpawner
		AirburstAltitude: 0c0
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		CameraActor: camera.dummy
		CameraRemoveDelay: 1
		DisplayRadarPing: True
	DetonateWeaponPower@BUZZERSWARMAI:
		OrderName: buzzerswarmai
		Icon: buzzpower
		IconPalette: chromes
		Prerequisites: radar.harbinger, botplayer
		Cursor: ability
		ChargeInterval: 7500
		Description: Buzzer Swarm (AI)
		ActivationDelay: 1
		LongDesc: Spawns controllable buzzer swarm which damages anything nearby.
		LaunchSound: buzzers-create.aud
		Weapon: BuzzerSpawnerAI
		AirburstAltitude: 0c0
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		CameraActor: camera.dummy
		CameraRemoveDelay: 1
		DisplayRadarPing: True
	DetonateWeaponPower@STORMSPIKE:
		OrderName: stormspike
		Icon: stormspikepower
		IconPalette: chromes
		Prerequisites: radar.reaper
		Cursor: ability
		ChargeInterval: 7500
		Description: Storm Spike
		ActivationDelay: 1
		LongDesc: Creates a temporary storm column.
		LaunchSound: scrinbuild.aud
		Weapon: StormSpikeSpawner
		AirburstAltitude: 0c0
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		CameraActor: camera.dummy
		CameraRemoveDelay: 1
		DisplayRadarPing: True
	DetonateWeaponPower@IONSURGE:
		OrderName: ionsurge
		Icon: ionsurgepower
		IconPalette: chromes
		Prerequisites: radar.traveler
		Cursor: ability
		ChargeInterval: 6750
		Description: Ion Surge
		ActivationDelay: 1
		LongDesc: Increased movement speed of all friendly units in the target area.
		LaunchSound: ionsurge.aud
		Weapon: IonSurgeSpawner
		AirburstAltitude: 0c0
		SelectTargetSpeechNotification: SelectTarget
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayRadarPing: True
		CameraActor: camera.dummy
		CameraRemoveDelay: 1
		TargetCircleRange: 6c0
		TargetCircleColor: b070ff90
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

SCRT:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 150
		Prerequisites: vehicles.any, anyradar, ~structures.scrin, ~techlevel.high
		Description: Provides Scrin advanced technologies.
		IconPalette: chromes
	Valued:
		Cost: 1500
	Tooltip:
		Name: Scrin Tech Center
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SabInfiltrate
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	InfiltrateForSupportPower@STOLENTECH:
		Types: SabInfiltrate
		Proxy: stolentech.scrt
	WithBuildingBib:
	Power:
		Amount: -200
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ProvidesPrerequisiteValidatedFaction@travelerscrt:
		Factions: traveler
		Prerequisite: scrt.traveler
	ProvidesPrerequisiteValidatedFaction@collectorscrt:
		Factions: collector
		Prerequisite: scrt.collector
	ProvidesPrerequisite@buildingname:
	GrantExternalConditionPowerCA@FSHIELD:
		OrderName: fshield
		Icon: forceshield
		ChargeInterval: 7500
		Condition: forceshield
		Dimensions: 7, 7
		Footprint: ___x___ __xxx__ _xxxxx_ xxxxxxx _xxxxx_ __xxx__ ___x___
		Duration: 250
		Prerequisites: forceshield.enabled, techlevel.high
		Weapon: ForceShield
		ActivationDelay: 5
		AirburstAltitude: 0c0
		AllowMultiple: false
		Description: Force Shield
		LongDesc: Makes selected friendly structures temporarily invulnerable.\n  Warning: Causes power failure.
		OnFireSound: forceon.aud
		DisplayTimerRelationships: Ally
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		EndChargeSpeechNotification: ForceShieldReady
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable ||  being-warped
	SpawnActorPower@ICHORSEED:
		OrderName: ichorseed
		Icon: ichorpower
		Actor: ichor.seeder
		ChargeInterval: 6000
		Description: Ichor Seed
		LifeTime: -1
		AllowMultiple: false
		LongDesc: Seeds tiberium at selected location.
		LaunchSound: ichorseed.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		PauseOnCondition: disabled || empdisable || being-warped
		EffectImage: empty
		EffectSequence: idle
		EffectPalette: tseffect-ignore-lighting-alpha75
	GrantExternalConditionPower@FEEDERMUTATION:
		OrderName: feedermutation
		Icon: feedermutation
		Prerequisites: ~scrt.collector, ~techlevel.high
		ChargeInterval: 6750
		Description: Feeder Mutation
		Condition: feedermutation
		Dimensions: 3, 3
		Footprint: _x_ xxx _x_
		ValidRelationships: Ally
		Duration: 25
		AllowMultiple: false
		LongDesc: Transforms Scrin infantry into Feeders which consume resources\nuntil becoming volatile enough to explode.
		OnFireSound: feedermutation.aud
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		Cursor: ability
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayTimerRelationships: Ally
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:

GRAV:
	Inherits: ^ScrinBuilding
	Inherits@PRIMARY: ^PrimaryBuilding
	Inherits@SHAPE: ^3x2Shape
	HitShape:
		TargetableOffsets: -355,-1024,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 130
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.medium
		Description: Produces Scrin aircraft.
		IconPalette: chromes
	Valued:
		Cost: 500
	Tooltip:
		Name: Gravity Stabilizer
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-768,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Exit@1:
		RequiresCondition: !being-captured
		ExitCell: 1,1
		Facing: 720
	RallyPoint:
	Production:
		Produces: Aircraft, Plane
		PauseOnCondition: forceshield || invulnerability || being-warped
	ValidFactions:
		Factions: reaper, traveler, harbinger, collector
	ProvidesPrerequisiteValidatedFaction@traveler:
		Factions: traveler
		Prerequisite: aircraft.traveler
	ProvidesPrerequisite@all:
		Prerequisite: aircraft.all
	ProvidesPrerequisite@scrin:
		Prerequisite: aircraft.scrin
	ProductionBar:
		ProductionType: Aircraft
	SupportPowerChargeBar:
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate
	WithBuildingBib:
	WithIdleOverlay@orb:
		RequiresCondition: !build-incomplete
	WithIdleOverlay@pylon:
		Sequence: idle-pylon
		RequiresCondition: !build-incomplete && !damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical

SIGN:
	Inherits: ^ScrinBuilding
	Inherits@POWER_OUTAGE: ^DisableOnLowPowerOrForceDisabled
	Inherits@SHAPE: ^3x2Shape
	HitShape:
		TargetableOffsets: -355,-1024,0
	Selectable:
		Bounds: 72,48
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
	Buildable:
		Queue: Building
		BuildPaletteOrder: 200
		Prerequisites: ~structures.scrin, scrt, ~techlevel.high
		Description: Provides Scrin tier 4 technologies.\n  Maximum 1 can be built.\n  Cannot be captured or hacked.
		BuildLimit: 1
		IconPalette: chromes
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureManager:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Signal Transmitter
	RevealsShroud:
		Range: 4c0
		MinRange: 3c0
	Power:
		Amount: -150
	ProvidesPrerequisite@Name:
		RequiresCondition: !being-warped
	Sellable:
		RequiresCondition: !build-incomplete && !c4 && !being-warped
	Production:
		Produces: Upgrade
		PauseOnCondition: forceshield || invulnerability || being-warped
	ProductionBar:
		ProductionType: Upgrade
	Exit:
	-MindControllable:
	-Targetable@HACKABLE:
	-MindControllableProgressBar@HACKABLE:
	-WithDecoration@HACKED:
	-WithDecoration@RESTORING:

SREP:
	Inherits: ^ScrinBuilding
	HitShape:
		TargetableOffsets: 840,0,0, 598,-640,0, 598,640,0, -1060,0,0, -768,-640,0, -768,640,0
		Type: Polygon
			Points: -1536,-300, -640,-811, 640,-811, 1536,-300, 1536,555, 640,1110, -640,1110, -1536,555
	Buildable:
		Queue: Building
		BuildPaletteOrder: 100
		Prerequisites: vehicles.scrin, ~structures.scrin, ~techlevel.medium
		Description: Repairs vehicles for credits.
		IconPalette: chromes
	Valued:
		Cost: 1200
	Tooltip:
		Name: Repair Bay
	Building:
		Footprint: _+_ +++ _+_
		Dimensions: 3,3
	Selectable:
		Bounds: 68,34,0,3
		DecorationBounds: 72,48
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	Reservable:
	RallyPoint:
	RepairsUnits:
		ValuePercentage: 0
		HpPerStep: 1000
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
		PlayerExperience: 15
		RequiresCondition: !forceshield && !invulnerability && !being-warped
	WithResupplyAnimation:
		RequiresCondition: !build-incomplete
	Power:
		Amount: -30
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@repair:
		Prerequisite: repair
	ProximityExternalCondition@SREPREARM:
		Condition: srep-rearm
		ValidRelationships: Ally
		Range: 2c0
	ProximityExternalCondition@AIRCRAFTREPAIR:
		Condition: aircraft-repair
		Range: 10c0
	WithRangeCircle@AIRCRAFTREPAIR:
		Color: 888899AA
		Range: 10c0

SILO.SCRIN:
	Inherits: ^ScrinBuilding
	Valued:
		Cost: 150
	Tooltip:
		Name: Silo
	Buildable:
		BuildPaletteOrder: 35
		Prerequisites: proc.scrin, ~structures.scrin, ~techlevel.infonly
		Queue: Defense
		IconPalette: chromes
		Description: Stores processed Tiberium, Ore and Gems
	-GivesBuildableArea:
	Health:
		HP: 30000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	WithBuildingBib:
		HasMinibib: true
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 3000
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 5
	-MustBeDestroyed:
	SpawnActorsOnSell:
		ActorTypes: c1,c7
	Power:
		Amount: -10
	Selectable:
		Bounds: 24,24
	Explodes:
		Weapon: SmallBuildingExplode
		EmptyWeapon: SmallBuildingExplode

MANI:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: scrt, ~structures.scrin, ~techlevel.unrestricted
		BuildLimit: 1
		IconPalette: chrome
		Description: Slows enemy unit movement and rate of fire.\n  Requires power to operate.\n  Maximum 1 can be built.\n  Special Ability: Suppression Field
	Valued:
		Cost: 1500
	Tooltip:
		Name: Field Manipulator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	WithBuildingBib:
	SupportPowerChargeBar:
	Power:
		Amount: -200
	MustBeDestroyed:
		RequiredForShortGame: false
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1024, 1024
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, SabInfiltrate
	DetonateWeaponPower@SUPPRESSION:
		PauseOnCondition: disabled || empdisable || being-warped
		OrderName: suppression
		Icon: spresspower
		ChargeInterval: 4500
		Description: Suppression Field
		LongDesc: Applies a suppression field to the target area, slowing units.
		Duration: 600
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		ActivationDelay: 0
		SupportPowerPaletteOrder: 10
		TargetCircleRange: 3c512
		TargetCircleColor: ff55ffcc
		LaunchSound: suppression.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		Weapon: SuppressionField
		CameraActor: camera.dummy
		CameraRemoveDelay: 1
	ProductionCostMultiplier@COLLECTOR:
		Multiplier: 90
		Prerequisites: structures.collector

RIFT:
	Inherits: ^ScrinBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDownOrForceDisable
	Inherits@SHAPE: ^2x2Shape
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 130
		Prerequisites: scrt, ~structures.scrin, ~techlevel.unrestricted
		BuildLimit: 1
		Description: Provides Rift support power.\n  Requires power to operate.\n  Maximum 1 can be built.\n  Special Ability: Rift
		IconPalette: chrome
	Valued:
		Cost: 2500
	Tooltip:
		Name: Rift Generator
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	DetonateWeaponPower@RiftGenerator:
		OrderName: rift
		Icon: riftpower
		Cursor: ability
		ChargeInterval: 13500
		Description: Rift
		ActivationDelay: 50
		LongDesc: Initiate a Lightning Storm.\nApplies heavy damage over a large area.
		Weapon: RiftInit
		AllowMultiple: false
		CameraActor: camera
		CameraRemoveDelay: 375
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: RiftReady
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: RiftApproach
		IncomingSound: nukelaunch.aud
		LaunchSound: nukelaunch.aud
		DisplayTimerRelationships: Ally, Neutral, Enemy
		PauseOnCondition: disabled || empdisable || being-warped
		DisplayBeacon: True
		DisplayRadarPing: True
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		BeaconPoster: riftpower
		TargetCircleRange: 6c512
		TargetCircleColor: 0000FF90
		Duration: 425
		ActiveCondition: active
		PaletteEffectType: LightningStorm
	WithIdleOverlay@ACTIVE:
		Sequence: active-overlay
		Palette: scrin
		RequiresCondition: active
	ExternalCondition@ACTIVE:
		Condition: active
	SupportPowerChargeBar:
	Power:
		Amount: -200
	ProvidesPrerequisite@buildingname:
	MustBeDestroyed:
		RequiredForShortGame: false
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate, SabInfiltrate
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate, SabInfiltrate
	WithBuildingBib:
		HasMinibib: true

PTUR:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetGround
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 60
		Prerequisites: port, ~structures.scrin, ~techlevel.low
		Description: Anti-infantry base defense.\n  Can detect cloaked units.\n  Strong vs Infantry, Light Armor\n  Weak vs Tanks, Aircraft
		IconPalette: chrome
	Valued:
		Cost: 600
	Tooltip:
		Name: Plasma Cannon
	Selectable:
		DecorationBounds: 24,28,0,-6
	Building:
	Health:
		HP: 40000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 48
		InitialFacing: 192
		RealignDelay: -1
		PauseOnCondition: empdisable || being-warped
		RequiresCondition: !build-incomplete
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
		PauseOnCondition: empdisable || being-warped
	Armament:
		Weapon: PlasmaTurretGun
		LocalOffset: 450,70,500, 450,-70,500
		MuzzleSequence: muzzle
		MuzzlePalette: scrin
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: empdisable || being-warped
	WithMuzzleOverlay:
	Power:
		Amount: -20
	ClassicFacingBodyOrientation:
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:
	DetectCloaked:
		Range: 5c0

SHAR:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAirICBM
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.medium
		Description: Anti-aircraft base defense.\n  Requires power to operate.\n  Can detect cloaked aircraft.\n  Strong vs Aircraft\n  Weak vs Ground Units
		IconPalette: chrome
	Valued:
		Cost: 800
	Tooltip:
		Name: Shard Launcher
	Selectable:
		DecorationBounds: 24,44,0,-11
	Health:
		HP: 50000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 60
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	-WithSpriteBody:
	WithEmbeddedTurretSpriteBody:
		PauseOnCondition: disabled || empdisable || being-warped
	Armament@PRIMARY:
		Weapon: ShardLauncher
		LocalOffset: 0,0,1050
	AttackTurreted:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	RenderRangeCircle:
		RangeCircleType: aa
	Power:
		Amount: -50
	ClassicFacingBodyOrientation:
	DetectCloaked:
		CloakTypes: AirCloak
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:

SCOL:
	Inherits: ^Defense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@Flash: ^WhiteFlash
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 80
		Prerequisites: anyradar, ~structures.scrin, ~techlevel.high
		Description: Advanced base defense.\n  Requires power to operate.\n  Can detect cloaked units.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
		IconPalette: chrome
	Valued:
		Cost: 1400
	Tooltip:
		Name: Storm Column
	Selectable:
		DecorationBounds: 24,48,0,-14
	Health:
		HP: 45000
	Armor:
		Type: Concrete
	RevealsShroud:
		MinRange: 6c0
		Range: 8c0
		RevealGeneratedShroud: false
	RevealsShroud@GAPGEN:
		Range: 6c0
	WithBuildingBib:
		HasMinibib: true
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
	ExternalCondition@CHARGED:
		Condition: charged
	AttackOmni:
		RequiresCondition: !build-incomplete
		PauseOnCondition: disabled || empdisable || being-warped
	Power:
		Amount: -100
	DetectCloaked:
		RequiresCondition: !(disabled || empdisable || being-warped)
	SpawnActorOnDeath:
		Actor: s1
	-SpawnRandomActorOnDeath:
	GrantConditionOnPrerequisite@IONCON:
		Condition: ioncon-upgrade
		Prerequisites: ioncon.upgrade
	Targetable@StormBoost:
		TargetTypes: StormBoost
		RequiresCondition: !(powerdown || charged)
	AmbientSoundCA@IONSTORM:
		SoundFiles: ionstorm.aud
		Delay: 0
		Interval: 850
		VolumeMultiplier: 0.4
		RequiresCondition: storm-active
	LaysMinefield@IONSTORM:
		Mines: strm
		Locations: 0,1, 1,0, -1,0
		RecreationInterval: 150
		KillOnRemove: true
		RequiresCondition: storm-active
	GrantConditionOnAttackCA@IONSTORM:
		RequiresActorTarget: true
		Condition: storm-active
		RevokeDelay: 75
		RevokeAll: true
		MaximumInstances: 70
		RequiresCondition: ioncon-upgrade
	RangeMultiplier@IONSTORM1:
		Modifier: 105
		RequiresCondition: storm-active >= 14
	FirepowerMultiplier@IONSTORM1:
		Modifier: 105
		RequiresCondition: storm-active >= 14
	DamageMultiplier@IONSTORM1:
		Modifier: 95
		RequiresCondition: storm-active >= 14
	RangeMultiplier@IONSTORM2:
		Modifier: 105
		RequiresCondition: storm-active >= 28
	FirepowerMultiplier@IONSTORM2:
		Modifier: 105
		RequiresCondition: storm-active >= 28
	DamageMultiplier@IONSTORM2:
		Modifier: 95
		RequiresCondition: storm-active >= 28
	RangeMultiplier@IONSTORM3:
		Modifier: 105
		RequiresCondition: storm-active >= 42
	FirepowerMultiplier@IONSTORM3:
		Modifier: 105
		RequiresCondition: storm-active >= 42
	DamageMultiplier@IONSTORM3:
		Modifier: 95
		RequiresCondition: storm-active >= 42
	RangeMultiplier@IONSTORM4:
		Modifier: 105
		RequiresCondition: storm-active >= 56
	FirepowerMultiplier@IONSTORM4:
		Modifier: 105
		RequiresCondition: storm-active >= 56
	DamageMultiplier@IONSTORM4:
		Modifier: 95
		RequiresCondition: storm-active >= 56

STRM:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@AUTOTARGET: ^AutoTargetAll
	RenderSprites:
		Palette: ioncloud-ignore-lighting-alpha50
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Ion Storm
	Health:
		HP: 1
	HitShape:
	KillsSelf:
		RemoveInstead: False
		Delay: 350, 450
	Wanders:
		WanderMoveRadius: 1
		ReduceMoveRadiusDelay: 3
	WithSpriteBody:
		RequiresCondition: strm1
		StartSequence: make
	WithDeathAnimation:
		RequiresCondition: strm1
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die
		FallbackSequence: die
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud2:
		RequiresCondition: strm2
		StartSequence: make2
		Sequence: idle2
		Name: body2
	WithDeathAnimation@Cloud2:
		DeathSequence: die2
		RequiresCondition: strm2
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die2
		FallbackSequence: die2
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud3:
		RequiresCondition: strm3
		StartSequence: make3
		Sequence: idle3
		Name: body3
	WithDeathAnimation@Cloud3:
		DeathSequence: die3
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die3
		FallbackSequence: die3
		RequiresCondition: strm3
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	WithSpriteBody@Cloud4:
		RequiresCondition: strm4
		StartSequence: make4
		Sequence: idle4
		Name: body4
	WithDeathAnimation@Cloud4:
		DeathSequence: die4
		DeathPaletteIsPlayerPalette: False
		UseDeathTypeSuffix: False
		CrushedSequence: die4
		FallbackSequence: die4
		RequiresCondition: strm4
		DeathSequencePalette: ioncloud-ignore-lighting-alpha50
	Mobile:
		Locomotor: cloud
		Speed: 3
	Hovers:
		Ticks: 12
	Interactable:
	GrantRandomCondition@CloudShape:
		Conditions: strm1, strm2, strm3, strm4
	GrantRandomCondition@LiveCloud:
		Conditions: live, dead, dead, dead, dead, dead, dead, dead
	AutoTargetPriority@STORM:
		ValidTargets: StormBoost
		Priority: 1
	AutoTargetPriority@ATTACKANYTHING:
		Priority: 10
	AutoTarget:
		InitialStance: AttackAnything
	AmbientSoundCA@AMBIENCE:
		SoundFiles: thunder1.aud, thunder2.aud, thunder3.aud, thunder4.aud, thunder5.aud, thunder.ambient.aud
		Delay: 20, 200
		Interval: 250, 1250
		VolumeMultiplier: 0.3
		RequiresCondition: live && !dead
	Armament:
		Weapon: StormColumnCloudZap
		LocalOffset: 0,0,0
	Armament@charge:
		FireDelay: 15
		Name: secondary
		Weapon: StormColumnCloudCharge
		LocalOffset: 0,0,0
		TargetRelationships: Ally
		ForceTargetRelationships: None
	GrantConditionOnAttack@CHARGESFX:
		ArmamentNames: secondary
		Condition: charge-fire
		RevokeDelay: 200
	AmbientSoundCA@CHARGESFX:
		SoundFiles: stormcolumn-fire1.aud, stormcolumn-fire2.aud
		Delay: 0
		Interval: 250
		VolumeMultiplier: 0.4
		RequiresCondition: charge-fire
	AttackTurreted:
		RequiresCondition: live
	Turreted:
		Offset: 0,0, 3072
	JamsMissiles@IONSTORM:
		RequiresCondition: live
		Chance: 10
		Range: 5c0

SCOL.Temp:
	Inherits: SCOL
	RenderSprites:
		Image: scol
	-Sellable:
	-Buildable:
	Health:
		HP: 75000
	KillsSelf:
		Delay: 750
	RevealsShroud:
		MinRange: 4c0
		Range: 6c0
	RevealsShroud@GAPGEN:
		Range: 4c0
	-Power:
	-SpawnActorOnDeath:
	-WithBuildingRepairDecoration:
	-RepairableBuilding:
	-EngineerRepairable:
	-GrantConditionOnPowerState@LOWPOWER:
	-WithColoredOverlay@IDISABLE:
	-GrantCondition@IDISABLE:
	-PowerMultiplier@TEMPORAL:
	-PowerMultiplier@POWERDOWN:
	-WithDecoration@POWERDOWN:
	-ToggleConditionOnOrder:
	-Armament:
	Armament:
		Weapon: StormColumnZap
		LocalOffset: 0,0,900, 0,0,1100, 0,0,700, 0,0,1300, 0,0,500
	AttackOmni:
		PauseOnCondition: empdisable || being-warped
	DetectCloaked:
		RequiresCondition: !(empdisable || being-warped)
	Targetable@StormBoost:
		RequiresCondition: !charged

#
# ---- misc
#

BUZZ:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@selection: ^SelectableCombatUnit
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	HiddenUnderFog:
		Type: CenterPosition
	Tooltip:
		Name: Buzzer Swarm
	Health:
		HP: 1
	RevealsShroud:
		MinRange: 1c0
		Range: 3c0
		RevealGeneratedShroud: False
		Type: CenterPosition
	RevealsShroud@GAPGEN:
		Range: 1c0
		Type: CenterPosition
	PeriodicExplosion:
		Weapon: BuzzerVortex
	WithSpriteBody:
	HitShape:
	KillsSelf:
		RemoveInstead: true
		Delay: 450
	Aircraft:
		CanHover: True
		Speed: 33
		CruiseAltitude: 1
		LandableTerrainTypes: Clear,Road,Rough,Ore,Gems,Tiberium,BlueTiberium,Water,Tree,River
	AmbientSound:
		SoundFiles: buzzers-idle1.aud, buzzers-idle2.aud, buzzers-idle3.aud
		Interval: 10
	Voiced:
		VoiceSet: BuzzersVoice
	Armament@PRIMARY:
		Weapon: BuzzerTargeting
	AttackFrontal:

BUZZ.AI:
	Inherits: BUZZ
	RenderSprites:
		Image: buzz
	AttackWander:
		WanderMoveRadius: 1
		ReduceMoveRadiusDelay: 3
	-Aircraft:
	Mobile:
		Speed: 33
		Locomotor: cloud

camera.rift:
	Interactable:
	EditorOnlyTooltip:
		Name: (support power)
	RenderSprites:
		Image: riftanim
		Palette: effect-ignore-lighting-alpha85
	WithSpriteBody:
		StartSequence: spawn
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	AlwaysVisible:
	HitShape:
	RevealsShroud:
		Range: 6c0
		Type: CenterPosition
	Health:
		HP: 1
	PeriodicExplosion:
		Weapon: Rift
	Immobile:
		OccupiesSpace: false
	AmbientSound:
		SoundFiles: rift1.aud, rift2.aud, rift3.aud
		Interval: 50
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: fade
		FallbackSequence: fade
	KillsSelf:
		Delay: 360

camera.minirift:
	Inherits: camera.rift
	RenderSprites:
		Image: miniriftanim
	PeriodicExplosion:
		Weapon: MiniRift
	KillsSelf:
		Delay: 120
	WithSpriteBody:
		-StartSequence:
	-AmbientSound:
	-WithDeathAnimation:
	-RevealsShroud:
	Targetable@RIFT:
		TargetTypes: Rift

camera.resourcescan:
	Inherits: CAMERA
	EditorOnlyTooltip:
		Name: (support power proxy camera)
	RevealsShroud:
		Range: 5c0

camera.dummy:
	Inherits: CAMERA
	-RevealsShroud:

ichor.seeder:
	Inherits: CAMERA
	HitShape:
	Health:
		HP: 1
	SeedsResourceCA:
		ResourceType: Tiberium
		Interval: 2
	-RevealsShroud:
	RenderSprites:
		Image: ichorseed
		Palette: scrin
	-RenderSpritesEditorOnly:
	WithDeathAnimation:
		UseDeathTypeSuffix: False
		CrushedSequence: fade
		FallbackSequence: fade
		DeathSequencePalette: overlayplayerscrin
	KillsSelf:
		Delay: 225

ion.surge:
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	HitShape:
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	RenderSprites:
		Image: ionsurge
		Palette: scrin
	PeriodicExplosion:
		Weapon: IonSurge
	KillsSelf:
		Delay: 200
	AmbientSound:
		SoundFiles: ionsurgeloop.aud
		Interval: 50

WORMHOLE:
	Inherits@1: ^ExistsInWorld
	Inherits@2: ^SpriteActor
	Inherits@3: ^SelectableBuilding
	Inherits@shape: ^1x1Shape
	Tooltip:
		Name: Wormhole
	RenderSprites:
		PlayerPalette: overlayplayerscrin
	WithSpriteBody:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	Selectable:
		Bounds: 32,32
	HiddenUnderFog:
		Type: CenterPosition
	HitShape:
	RevealsShroud:
		Range: 6c0
		Type: CenterPosition
	Immobile:
		OccupiesSpace: true
	Targetable:
		TargetTypes: Ground, Structure, Wormhole
	Health:
		HP: 100000
	Armor:
		Type: Concrete
	TeleportNetwork:
		Type: Wormhole
		Delay: 0
	RallyPoint:
		Path: 1,1
	Exit:
	PopControlled:
		Limit: 2
	WithDeathAnimation:
		UseDeathTypeSuffix: false
		CrushedSequence: die
		FallbackSequence: die
	WithMakeAnimation:

# infiltrator stolen tech

# portal - infantry veterancy
stolentech.port:
	AlwaysVisible:
	ProvidesPrerequisite:
		Prerequisite: barracks.upgraded

# warp sphere - vehicle veterancy
stolentech.wsph:
	AlwaysVisible:
	ProvidesPrerequisite:
		Prerequisite: vehicles.upgraded

# nerve center - aircraft veterancy
stolentech.nerv:
	AlwaysVisible:
	ProvidesPrerequisite:
		Prerequisite: aircraft.upgraded

# tech center - veterancy for all
stolentech.scrt:
	AlwaysVisible:
	ProvidesPrerequisite@1:
		Prerequisite: barracks.upgraded
	ProvidesPrerequisite@2:
		Prerequisite: vehicles.upgraded
	ProvidesPrerequisite@3:
		Prerequisite: aircraft.upgraded
